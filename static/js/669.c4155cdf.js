/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-02-20 09:22:16
 */
(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[669],{94728:function(){},45509:function(t,e,n){n(21703),n(46314),n(92087),n(48675),n(37380),n(1118),function(e,n){t.exports=n()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=215)}([function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return Ln})),n.d(e,"c",(function(){return pe})),n.d(e,"d",(function(){return Ft})),n.d(e,"e",(function(){return Dt})),n.d(e,"f",(function(){return Nt})),n.d(e,"g",(function(){return Ht})),n.d(e,"h",(function(){return Jn})),n.d(e,"i",(function(){return Ot})),n.d(e,"j",(function(){return Bt})),n.d(e,"k",(function(){return Se})),n.d(e,"l",(function(){return Ae})),n.d(e,"m",(function(){return gt})),n.d(e,"n",(function(){return ze})),n.d(e,"o",(function(){return N})),n.d(e,"p",(function(){return en})),n.d(e,"q",(function(){return Be})),n.d(e,"r",(function(){return Ve})),n.d(e,"s",(function(){return Zn})),n.d(e,"t",(function(){return Ge})),n.d(e,"u",(function(){return ke})),n.d(e,"v",(function(){return $e})),n.d(e,"w",(function(){return qe})),n.d(e,"x",(function(){return Je})),n.d(e,"y",(function(){return Cn})),n.d(e,"z",(function(){return zn})),n.d(e,"A",(function(){return qn})),n.d(e,"B",(function(){return Qe})),n.d(e,"C",(function(){return ft})),n.d(e,"D",(function(){return rn})),n.d(e,"E",(function(){return Ie})),n.d(e,"F",(function(){return Te})),n.d(e,"G",(function(){return Pe})),n.d(e,"H",(function(){return Oe})),n.d(e,"I",(function(){return ln})),n.d(e,"J",(function(){return dn})),n.d(e,"K",(function(){return kt})),n.d(e,"L",(function(){return tn})),n.d(e,"M",(function(){return hn}));var o="An invariant failed, however the error is obfuscated because this is a production build.",i=[];Object.freeze(i);var a={};function u(){return++Qt.mobxGuid}function c(t){throw s(!1,t),"X"}function s(t,e){if(!t)throw new Error("[mobx] "+(e||o))}Object.freeze(a);function l(t,e){return!1}function f(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var p=function(){};function d(t){var e=[];return t.forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),e}function h(t){return null!==t&&"object"===typeof t}function y(t){if(null===t||"object"!==typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function v(t){if(w(t)||zn(t))return t;if(Array.isArray(t))return new Map(t);if(y(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}return c("Cannot convert to map from '"+t+"'")}function g(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function b(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function m(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!n||!1!==n.configurable&&!1!==n.writable}function _(t,e){0}function O(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return h(t)&&!0===t[n]}}function w(t){return t instanceof Map}function x(t){return t instanceof Set}function E(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach((function(n){Object.getOwnPropertyDescriptor(t,n).enumerable&&e.add(n)})),Array.from(e)}function j(t){return t&&t.toString?t.toString():new String(t).toString()}function S(t){return null===t?null:"object"===typeof t?""+t:t}var P="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,k=Symbol("mobx administration"),M=function(){function t(t){void 0===t&&(t="Atom@"+u()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=dt.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return ae(this)},t.prototype.reportChanged=function(){oe(),ue(this),ie()},t.prototype.toString=function(){return this.name},t}(),A=O("Atom",M);function N(t,e,n){void 0===e&&(e=p),void 0===n&&(n=p);var r=new M(t);return e!==p&&Re(r,e),n!==p&&Ie(r,n),r}function D(t,e){return t===e}function T(t,e){return er(t,e)}function C(t,e){return er(t,e,1)}function R(t,e){return Object.is(t,e)}var I={identity:D,structural:T,default:R,shallow:C},L=function(t,e){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},L(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function z(t,e){function n(){this.constructor=t}L(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var B=function(){return B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},B.apply(this,arguments)};function H(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function F(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}function G(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(F(arguments[e]));return t}var X=Symbol("mobx did run lazy initializers"),Y=Symbol("mobx pending decorators"),U={},V={};function W(t,e){var n=e?U:V;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return K(this),this[t]},set:function(e){K(this),this[t]=e}})}function K(t){var e,n;if(!0!==t[X]){var r=t[Y];if(r){g(t,X,!0);var o=G(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=H(o),a=i.next();!a.done;a=i.next()){var u=a.value,c=r[u];c.propertyCreator(t,c.prop,c.descriptor,c.decoratorTarget,c.decoratorArguments)}}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}}}function $(t,e){return function(){var n,r=function(r,o,i,a){if(!0===a)return e(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,Y)){var u=r[Y];g(r,Y,B({},u))}return r[Y][o]={prop:o,propertyCreator:e,descriptor:i,decoratorTarget:r,decoratorArguments:n},W(o,t)};return q(arguments)?(n=i,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function q(t){return(2===t.length||3===t.length)&&("string"===typeof t[1]||"symbol"===typeof t[1])||4===t.length&&!0===t[3]}function Z(t,e,n){return Je(t)?t:Array.isArray(t)?ft.array(t,{name:n}):y(t)?ft.object(t,void 0,{name:n}):w(t)?ft.map(t,{name:n}):x(t)?ft.set(t,{name:n}):t}function J(t,e,n){return void 0===t||null===t||qn(t)||Cn(t)||zn(t)||Fn(t)?t:Array.isArray(t)?ft.array(t,{name:n,deep:!1}):y(t)?ft.object(t,void 0,{name:n,deep:!1}):w(t)?ft.map(t,{name:n,deep:!1}):x(t)?ft.set(t,{name:n,deep:!1}):c(!1)}function Q(t){return t}function tt(t,e,n){return er(t,e)?e:t}function et(e){s(e);var n=$(!0,(function(t,n,r,o,i){var a=r?r.initializer?r.initializer.call(t):r.value:void 0;Xn(t).addObservableProp(n,a,e)})),r=("undefined"!==typeof t&&t.env,n);return r.enhancer=e,r}var nt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function rt(t){return null===t||void 0===t?nt:"string"===typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(nt);var ot=et(Z),it=et(J),at=et(Q),ut=et(tt);function ct(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?Q:Z}function st(t,e,n){if("string"===typeof arguments[1]||"symbol"===typeof arguments[1])return ot.apply(null,arguments);if(Je(t))return t;var r=y(t)?ft.object(t,e,n):Array.isArray(t)?ft.array(t,e):w(t)?ft.map(t,e):x(t)?ft.set(t,e):t;if(r!==t)return r;c(!1)}var lt={box:function(t,e){arguments.length>2&&pt("box");var n=rt(e);return new Yt(t,ct(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&pt("array");var n=rt(e);return Mn(t,ct(n),n.name)},map:function(t,e){arguments.length>2&&pt("map");var n=rt(e);return new Ln(t,ct(n),n.name)},set:function(t,e){arguments.length>2&&pt("set");var n=rt(e);return new Hn(t,ct(n),n.name)},object:function(t,e,n){"string"===typeof arguments[1]&&pt("object");var r=rt(n);if(!1===r.proxy)return Be({},t,e,r);var o=He(r),i=Be({},void 0,void 0,r),a=_n(i);return Fe(a,t,e,o),a},ref:at,shallow:it,deep:ot,struct:ut},ft=st;function pt(t){c("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(lt).forEach((function(t){return ft[t]=lt[t]}));var dt,ht,yt=$(!1,(function(t,e,n,r,o){var i=n.get,a=n.set,u=o[0]||{};Xn(t).addComputedProp(t,e,B({get:i,set:a,context:t},u))})),vt=yt({equals:I.structural}),gt=function(t,e,n){if("string"===typeof e)return yt.apply(null,arguments);if(null!==t&&"object"===typeof t&&1===arguments.length)return yt.apply(null,arguments);var r="object"===typeof e?e:{};return r.get=t,r.set="function"===typeof e?e:r.set,r.name=r.name||t.name||"",new Vt(r)};gt.struct=vt,function(t){t[t["NOT_TRACKING"]=-1]="NOT_TRACKING",t[t["UP_TO_DATE"]=0]="UP_TO_DATE",t[t["POSSIBLY_STALE"]=1]="POSSIBLY_STALE",t[t["STALE"]=2]="STALE"}(dt||(dt={})),function(t){t[t["NONE"]=0]="NONE",t[t["LOG"]=1]="LOG",t[t["BREAK"]=2]="BREAK"}(ht||(ht={}));var bt=function(){function t(t){this.cause=t}return t}();function mt(t){return t instanceof bt}function _t(t){switch(t.dependenciesState){case dt.UP_TO_DATE:return!1;case dt.NOT_TRACKING:case dt.STALE:return!0;case dt.POSSIBLY_STALE:for(var e=Nt(!0),n=Mt(),r=t.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(Wt(a)){if(Qt.disableErrorBoundaries)a.get();else try{a.get()}catch(u){return At(n),Dt(e),!0}if(t.dependenciesState===dt.STALE)return At(n),Dt(e),!0}}return Tt(t),At(n),Dt(e),!1}}function Ot(){return null!==Qt.trackingDerivation}function wt(t){var e=t.observers.size>0;Qt.computationDepth>0&&e&&c(!1),Qt.allowStateChanges||!e&&"strict"!==Qt.enforceActions||c(!1)}function xt(t){0}function Et(t,e,n){var r=Nt(!0);Tt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Qt.runId;var o,i=Qt.trackingDerivation;if(Qt.trackingDerivation=t,!0===Qt.disableErrorBoundaries)o=e.call(n);else try{o=e.call(n)}catch(a){o=new bt(a)}return Qt.trackingDerivation=i,St(t),jt(t),Dt(r),o}function jt(t){}function St(t){for(var e=t.observing,n=t.observing=t.newObserving,r=dt.UP_TO_DATE,o=0,i=t.unboundDepsCount,a=0;a<i;a++){var u=n[a];0===u.diffValue&&(u.diffValue=1,o!==a&&(n[o]=u),o++),u.dependenciesState>r&&(r=u.dependenciesState)}n.length=o,t.newObserving=null,i=e.length;while(i--){u=e[i];0===u.diffValue&&ne(u,t),u.diffValue=0}while(o--){u=n[o];1===u.diffValue&&(u.diffValue=0,ee(u,t))}r!==dt.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}function Pt(t){var e=t.observing;t.observing=[];var n=e.length;while(n--)ne(e[n],t);t.dependenciesState=dt.NOT_TRACKING}function kt(t){var e=Mt();try{return t()}finally{At(e)}}function Mt(){var t=Qt.trackingDerivation;return Qt.trackingDerivation=null,t}function At(t){Qt.trackingDerivation=t}function Nt(t){var e=Qt.allowStateReads;return Qt.allowStateReads=t,e}function Dt(t){Qt.allowStateReads=t}function Tt(t){if(t.dependenciesState!==dt.UP_TO_DATE){t.dependenciesState=dt.UP_TO_DATE;var e=t.observing,n=e.length;while(n--)e[n].lowestObserverState=dt.UP_TO_DATE}}var Ct=0,Rt=1,It=Object.getOwnPropertyDescriptor((function(){}),"name");It&&It.configurable;function Lt(t,e,n){var r=function(){return zt(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function zt(t,e,n,r){var o=Bt(t,n,r);try{return e.apply(n,r)}catch(i){throw o.error=i,i}finally{Ht(o)}}function Bt(t,e,n){var r=me()&&!!t,o=0,i=Mt();oe();var a=Gt(!0),u=Nt(!0),c={prevDerivation:i,prevAllowStateChanges:a,prevAllowStateReads:u,notifySpy:r,startTime:o,actionId:Rt++,parentActionId:Ct};return Ct=c.actionId,c}function Ht(t){Ct!==t.actionId&&c("invalid action stack. did you forget to finish an action?"),Ct=t.parentActionId,void 0!==t.error&&(Qt.suppressReactionErrors=!0),Xt(t.prevAllowStateChanges),Dt(t.prevAllowStateReads),ie(),At(t.prevDerivation),t.notifySpy,Qt.suppressReactionErrors=!1}function Ft(t,e){var n,r=Gt(t);try{n=e()}finally{Xt(r)}return n}function Gt(t){var e=Qt.allowStateChanges;return Qt.allowStateChanges=t,e}function Xt(t){Qt.allowStateChanges=t}var Yt=function(t){function e(e,n,r,o,i){void 0===r&&(r="ObservableValue@"+u()),void 0===o&&(o=!0),void 0===i&&(i=I.default);var a=t.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=i,a.hasUnreportedChange=!1,a.value=n(e,void 0,r),o&&me(),a}return z(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value;if(t=this.prepareNewValue(t),t!==Qt.UNCHANGED){me();0,this.setNewValue(t)}},e.prototype.prepareNewValue=function(t){if(wt(this),On(this)){var e=xn(this,{object:this,type:"update",newValue:t});if(!e)return Qt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Qt.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),En(this)&&Sn(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return wn(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),jn(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return S(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(M),Ut=O("ObservableValue",Yt),Vt=function(){function t(t){this.dependenciesState=dt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=dt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+u(),this.value=new bt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ht.NONE,s(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+u(),t.set&&(this.setter=Lt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?I.structural:I.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){se(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){this.isComputing&&c("Cycle detected in computation "+this.name+": "+this.derivation),0!==Qt.inBatch||0!==this.observers.size||this.keepAlive?(ae(this),_t(this)&&this.trackAndCompute()&&ce(this)):_t(this)&&(this.warnAboutUntrackedRead(),oe(),this.value=this.computeValue(!1),ie());var t=this.value;if(mt(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(mt(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){s(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else s(!1,!1)},t.prototype.trackAndCompute=function(){me();var t=this.value,e=this.dependenciesState===dt.NOT_TRACKING,n=this.computeValue(!0),r=e||mt(t)||mt(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Qt.computationDepth++,t)e=Et(this,this.derivation,this.scope);else if(!0===Qt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(n){e=new bt(n)}return Qt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(Pt(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,o=void 0;return Ae((function(){var i=n.get();if(!r||e){var a=Mt();t({type:"update",object:n,newValue:i,oldValue:o}),At(a)}r=!1,o=i}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return S(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),Wt=O("ComputedValue",Vt),Kt=function(){function t(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return t}(),$t={};function qt(){return"undefined"!==typeof window?window:"undefined"!==typeof r?r:"undefined"!==typeof self?self:$t}var Zt=!0,Jt=!1,Qt=function(){var t=qt();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Zt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Kt).version&&(Zt=!1),Zt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Kt):(setTimeout((function(){Jt||c("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Kt)}();function te(){(Qt.pendingReactions.length||Qt.inBatch||Qt.isRunningReactions)&&c("isolateGlobalState should be called before MobX is running any reactions"),Jt=!0,Zt&&(0===--qt().__mobxInstanceCount&&(qt().__mobxGlobals=void 0),Qt=new Kt)}function ee(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function ne(t,e){t.observers.delete(e),0===t.observers.size&&re(t)}function re(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Qt.pendingUnobservations.push(t))}function oe(){Qt.inBatch++}function ie(){if(0===--Qt.inBatch){ye();for(var t=Qt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Vt&&n.suspend())}Qt.pendingUnobservations=[]}}function ae(t){xt(t);var e=Qt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&Qt.inBatch>0&&re(t),!1)}function ue(t){t.lowestObserverState!==dt.STALE&&(t.lowestObserverState=dt.STALE,t.observers.forEach((function(e){e.dependenciesState===dt.UP_TO_DATE&&(e.isTracing!==ht.NONE&&le(e,t),e.onBecomeStale()),e.dependenciesState=dt.STALE})))}function ce(t){t.lowestObserverState!==dt.STALE&&(t.lowestObserverState=dt.STALE,t.observers.forEach((function(e){e.dependenciesState===dt.POSSIBLY_STALE?e.dependenciesState=dt.STALE:e.dependenciesState===dt.UP_TO_DATE&&(t.lowestObserverState=dt.UP_TO_DATE)})))}function se(t){t.lowestObserverState===dt.UP_TO_DATE&&(t.lowestObserverState=dt.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===dt.UP_TO_DATE&&(e.dependenciesState=dt.POSSIBLY_STALE,e.isTracing!==ht.NONE&&le(e,t),e.onBecomeStale())})))}function le(t,e){if(t.isTracing===ht.BREAK){var n=[];fe(Ge(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof Vt?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function fe(t,e,n){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return fe(t,e,n+1)})))}var pe=function(){function t(t,e,n,r){void 0===t&&(t="Reaction@"+u()),void 0===r&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=dt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+u(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ht.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Qt.pendingReactions.push(this),ye())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(oe(),this._isScheduled=!1,_t(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&me()}catch(t){this.reportExceptionInDerivation(t)}}ie()}},t.prototype.track=function(t){if(!this.isDisposed){oe();me();0,this._isRunning=!0;var e=Et(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Pt(this),mt(e)&&this.reportExceptionInDerivation(e.cause),ie()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Qt.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Qt.suppressReactionErrors,me()&&_e({type:"error",name:this.name,message:n,error:""+t}),Qt.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(oe(),Pt(this),ie()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[k]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),fn(this,t)},t}();var de=100,he=function(t){return t()};function ye(){Qt.inBatch>0||Qt.isRunningReactions||he(ve)}function ve(){Qt.isRunningReactions=!0;var t=Qt.pendingReactions,e=0;while(t.length>0){++e===de&&t.splice(0);for(var n=t.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Qt.isRunningReactions=!1}var ge=O("Reaction",pe);function be(t){var e=he;he=function(n){return t((function(){return e(n)}))}}function me(){return!1}function _e(t){}function Oe(t){return function(){}}function we(){c(!1)}function xe(t){return function(e,n,r){if(r){if(r.value)return{value:Lt(t,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Lt(t,o.call(this))}}}return Ee(t).apply(this,arguments)}}function Ee(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){g(this,n,Se(t,e))}})}}function je(t,e,n,r){return!0===r?(Me(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Me(this,e,n.value||n.initializer.call(this)),this[e]},set:we}:{enumerable:!1,configurable:!0,set:function(t){Me(this,e,t)},get:function(){}}}var Se=function(t,e,n,r){return 1===arguments.length&&"function"===typeof t?Lt(t.name||"<unnamed action>",t):2===arguments.length&&"function"===typeof e?Lt(t,e):1===arguments.length&&"string"===typeof t?xe(t):!0!==r?xe(e).apply(null,arguments):void g(t,e,Lt(t.name||e,n.value,this))};function Pe(t,e){var n="string"===typeof t?t:t.name||"<unnamed action>",r="function"===typeof t?t:e;return zt(n,r,this,void 0)}function ke(t){return"function"===typeof t&&!0===t.isMobxAction}function Me(t,e,n){g(t,e,Lt(e,n.bind(t)))}function Ae(t,e){void 0===e&&(e=a);var n,r=e&&e.name||t.name||"Autorun@"+u(),o=!e.scheduler&&!e.delay;if(o)n=new pe(r,(function(){this.track(s)}),e.onError,e.requiresObservable);else{var i=De(e),c=!1;n=new pe(r,(function(){c||(c=!0,i((function(){c=!1,n.isDisposed||n.track(s)})))}),e.onError,e.requiresObservable)}function s(){t(n)}return n.schedule(),n.getDisposer()}Se.bound=je;var Ne=function(t){return t()};function De(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Ne}function Te(t,e,n){void 0===n&&(n=a);var r,o=n.name||"Reaction@"+u(),i=Se(o,n.onError?Ce(n.onError,e):e),c=!n.scheduler&&!n.delay,s=De(n),l=!0,f=!1,p=n.compareStructural?I.structural:n.equals||I.default,d=new pe(o,(function(){l||c?h():f||(f=!0,s(h))}),n.onError,n.requiresObservable);function h(){if(f=!1,!d.isDisposed){var e=!1;d.track((function(){var n=t(d);e=l||!p(r,n),r=n})),l&&n.fireImmediately&&i(r,d),l||!0!==e||i(r,d),l&&(l=!1)}}return d.schedule(),d.getDisposer()}function Ce(t,e){return function(){try{return e.apply(this,arguments)}catch(n){t.call(this,n)}}}function Re(t,e,n){return Le("onBecomeObserved",t,e,n)}function Ie(t,e,n){return Le("onBecomeUnobserved",t,e,n)}function Le(t,e,n,r){var o="function"===typeof r?Zn(e,n):Zn(e),i="function"===typeof r?r:n,a=t+"Listeners";o[a]?o[a].add(i):o[a]=new Set([i]);var u=o[t];return"function"!==typeof u?c(!1):function(){var t=o[a];t&&(t.delete(i),0===t.size&&delete o[a])}}function ze(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.computedConfigurable,o=t.disableErrorBoundaries,i=t.reactionScheduler,a=t.reactionRequiresObservable,u=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&te(),void 0!==e){"boolean"!==typeof e&&"strict"!==e||l("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var s=void 0;switch(e){case!0:case"observed":s=!0;break;case!1:case"never":s=!1;break;case"strict":case"always":s="strict";break;default:c("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}Qt.enforceActions=s,Qt.allowStateChanges=!0!==s&&"strict"!==s}void 0!==n&&(Qt.computedRequiresReaction=!!n),void 0!==a&&(Qt.reactionRequiresObservable=!!a),void 0!==u&&(Qt.observableRequiresReaction=!!u,Qt.allowStateReads=!Qt.observableRequiresReaction),void 0!==r&&(Qt.computedConfigurable=!!r),void 0!==o&&(Qt.disableErrorBoundaries=!!o),i&&be(i)}function Be(t,e,n,r){r=rt(r);var o=He(r);return K(t),Xn(t,r.name,o.enhancer),e&&Fe(t,e,n,o),t}function He(t){return t.defaultDecorator||(!1===t.deep?at:ot)}function Fe(t,e,n,r){var o,i;oe();try{var a=P(e);try{for(var u=H(a),c=u.next();!c.done;c=u.next()){var s=c.value,l=Object.getOwnPropertyDescriptor(e,s);0;var f=n&&s in n?n[s]:l.get?yt:r;0;var p=f(t,s,l,!0);p&&Object.defineProperty(t,s,p)}}catch(d){o={error:d}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}finally{ie()}}function Ge(t,e){return Xe(Zn(t,e))}function Xe(t){var e={name:t.name};return t.observing&&t.observing.length>0&&(e.dependencies=d(t.observing).map(Xe)),e}var Ye=0;function Ue(){this.message="FLOW_CANCELLED"}function Ve(t){1!==arguments.length&&c("Flow expects 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var n,r=this,o=arguments,i=++Ye,a=Se(e+" - runid: "+i+" - init",t).apply(r,o),u=void 0,c=new Promise((function(t,r){var o=0;function c(t){var n;u=void 0;try{n=Se(e+" - runid: "+i+" - yield "+o++,a.next).call(a,t)}catch(c){return r(c)}l(n)}function s(t){var n;u=void 0;try{n=Se(e+" - runid: "+i+" - yield "+o++,a.throw).call(a,t)}catch(c){return r(c)}l(n)}function l(e){if(!e||"function"!==typeof e.then)return e.done?t(e.value):(u=Promise.resolve(e.value),u.then(c,s));e.then(l,r)}n=r,c(void 0)}));return c.cancel=Se(e+" - runid: "+i+" - cancel",(function(){try{u&&We(u);var t=a.return(void 0),e=Promise.resolve(t.value);e.then(p,p),We(e),n(new Ue)}catch(r){n(r)}})),c}}function We(t){"function"===typeof t.cancel&&t.cancel()}function Ke(t,e){if(null===t||void 0===t)return!1;if(void 0!==e){if(!1===qn(t))return!1;if(!t[k].values.has(e))return!1;var n=Zn(t,e);return Wt(n)}return Wt(t)}function $e(t){return arguments.length>1?c(!1):Ke(t)}function qe(t,e){return"string"!==typeof e?c(!1):Ke(t,e)}function Ze(t,e){return null!==t&&void 0!==t&&(void 0!==e?!!qn(t)&&t[k].values.has(e):qn(t)||!!t[k]||A(t)||ge(t)||Wt(t))}function Je(t){return 1!==arguments.length&&c(!1),Ze(t)}function Qe(t){return qn(t)?t[k].getKeys():zn(t)||Fn(t)?Array.from(t.keys()):Cn(t)?t.map((function(t,e){return e})):c(!1)}function tn(t){return qn(t)?Qe(t).map((function(e){return t[e]})):zn(t)?Qe(t).map((function(e){return t.get(e)})):Fn(t)?Array.from(t.values()):Cn(t)?t.slice():c(!1)}function en(t){return qn(t)?Qe(t).map((function(e){return[e,t[e]]})):zn(t)?Qe(t).map((function(e){return[e,t.get(e)]})):Fn(t)?Array.from(t.entries()):Cn(t)?t.map((function(t,e){return[e,t]})):c(!1)}function nn(t,e,n){if(2!==arguments.length||Fn(t))if(qn(t)){var r=t[k],o=r.values.get(e);o?r.write(e,n):r.addObservableProp(e,n,r.defaultEnhancer)}else if(zn(t))t.set(e,n);else if(Fn(t))t.add(e);else{if(!Cn(t))return c(!1);"number"!==typeof e&&(e=parseInt(e,10)),s(e>=0,"Not a valid index: '"+e+"'"),oe(),e>=t.length&&(t.length=e+1),t[e]=n,ie()}else{oe();var i=e;try{for(var a in i)nn(t,a,i[a])}finally{ie()}}}function rn(t,e,n,r){return"function"===typeof n?an(t,e,n,r):on(t,e,n)}function on(t,e,n){return Jn(t).observe(e,n)}function an(t,e,n,r){return Jn(t,e).observe(n,r)}Ue.prototype=Object.create(Error.prototype);var un={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function cn(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function sn(t,e,n){if(!e.recurseEverything&&!Je(t))return t;if("object"!==typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Ut(t))return sn(t.get(),e,n);Je(t)&&Qe(t);var r=!0===e.detectCycles;if(r&&null!==t&&n.has(t))return n.get(t);if(Cn(t)||Array.isArray(t)){var o=cn(n,t,[],e),i=t.map((function(t){return sn(t,e,n)}));o.length=i.length;for(var a=0,u=i.length;a<u;a++)o[a]=i[a];return o}if(Fn(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===e.exportMapsAsObjects){var c=cn(n,t,new Set,e);return t.forEach((function(t){c.add(sn(t,e,n))})),c}var s=cn(n,t,[],e);return t.forEach((function(t){s.push(sn(t,e,n))})),s}if(zn(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===e.exportMapsAsObjects){var l=cn(n,t,new Map,e);return t.forEach((function(t,r){l.set(r,sn(t,e,n))})),l}var f=cn(n,t,{},e);return t.forEach((function(t,r){f[r]=sn(t,e,n)})),f}var p=cn(n,t,{},e);return E(t).forEach((function(r){p[r]=sn(t[r],e,n)})),p}function ln(t,e){var n;return"boolean"===typeof e&&(e={detectCycles:e}),e||(e=un),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(n=new Map),sn(t,e,n)}function fn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"===typeof t[t.length-1]&&(n=t.pop());var r=pn(t);if(!r)return c(!1);r.isTracing,ht.NONE,r.isTracing=n?ht.BREAK:ht.LOG}function pn(t){switch(t.length){case 0:return Qt.trackingDerivation;case 1:return Zn(t[0]);case 2:return Zn(t[0],t[1])}}function dn(t,e){void 0===e&&(e=void 0),oe();try{return t.apply(e)}finally{ie()}}function hn(t,e,n){return 1===arguments.length||e&&"object"===typeof e?vn(t,e):yn(t,e,n||{})}function yn(t,e,n){var r;"number"===typeof n.timeout&&(r=setTimeout((function(){if(!i[k].isDisposed){i();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}}),n.timeout)),n.name=n.name||"When@"+u();var o=Lt(n.name+"-effect",e),i=Ae((function(e){t()&&(e.dispose(),r&&clearTimeout(r),o())}),n);return i}function vn(t,e){var n;var r=new Promise((function(r,o){var i=yn(t,r,B(B({},e),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function gn(t){return t[k]}function bn(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t}var mn={has:function(t,e){if(e===k||"constructor"===e||e===X)return!0;var n=gn(t);return bn(e)?n.has(e):e in t},get:function(t,e){if(e===k||"constructor"===e||e===X)return t[e];var n=gn(t),r=n.values.get(e);if(r instanceof M){var o=r.get();return void 0===o&&n.has(e),o}return bn(e)&&n.has(e),t[e]},set:function(t,e,n){return!!bn(e)&&(nn(t,e,n),!0)},deleteProperty:function(t,e){if(!bn(e))return!1;var n=gn(t);return n.remove(e),!0},ownKeys:function(t){var e=gn(t);return e.keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return c("Dynamic observable objects cannot be frozen"),!1}};function _n(t){var e=new Proxy(t,mn);return t[k].proxy=e,e}function On(t){return void 0!==t.interceptors&&t.interceptors.length>0}function wn(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),f((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function xn(t,e){var n=Mt();try{for(var r=G(t.interceptors||[]),o=0,i=r.length;o<i;o++)if(e=r[o](e),s(!e||e.type,"Intercept handlers should return nothing or a change object"),!e)break;return e}finally{At(n)}}function En(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function jn(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),f((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function Sn(t,e){var n=Mt(),r=t.changeListeners;if(r){r=r.slice();for(var o=0,i=r.length;o<i;o++)r[o](e);At(n)}}var Pn=1e4,kn={get:function(t,e){return e===k?t[k]:"length"===e?t[k].getArrayLength():"number"===typeof e?Nn.get.call(t,e):"string"!==typeof e||isNaN(e)?Nn.hasOwnProperty(e)?Nn[e]:t[e]:Nn.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e&&t[k].setArrayLength(n),"number"===typeof e&&Nn.set.call(t,e,n),"symbol"===typeof e||isNaN(e)?t[e]=n:Nn.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return c("Observable arrays cannot be frozen"),!1}};function Mn(t,e,n,r){void 0===n&&(n="ObservableArray@"+u()),void 0===r&&(r=!1);var o=new An(n,e,r);b(o.values,k,o);var i=new Proxy(o.values,kn);if(o.proxy=i,t&&t.length){var a=Gt(!0);o.spliceWithArray(0,0,t),Xt(a)}return i}var An=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new M(t||"ObservableArray@"+u()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return wn(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),jn(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!==typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;wt(this.atom);var o=this.values.length;if(void 0===t?t=0:t>o?t=o:t<0&&(t=Math.max(0,o+t)),e=1===arguments.length?o-t:void 0===e||null===e?0:Math.max(0,Math.min(e,o-t)),void 0===n&&(n=i),On(this)){var a=xn(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!a)return i;e=a.removedCount,n=a.added}n=0===n.length?n:n.map((function(t){return r.enhancer(t,void 0)}));var u=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,u),this.dehanceValues(u)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<Pn)return(r=this.values).splice.apply(r,G([t,e],n));var o=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),o},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&me(),o=En(this),i=o||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),o&&Sn(this,i)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&me(),o=En(this),i=o||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),o&&Sn(this,i)},t}(),Nn={intercept:function(t){return this[k].intercept(t)},observe:function(t,e){void 0===e&&(e=!1);var n=this[k];return n.observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[k];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[k];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(t);case 2:return o.spliceWithArray(t,e)}return o.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){var r=this[k];return r.spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[k];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[k].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[k];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[k],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[k];if(e&&t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t])},set:function(t,e){var n=this[k],r=n.values;if(t<r.length){wt(n.atom);var o=r[t];if(On(n)){var i=xn(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!i)return;e=i.newValue}e=n.enhancer(e,o);var a=e!==o;a&&(r[t]=e,n.notifyArrayChildUpdate(t,e,o))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(t){"function"===typeof Array.prototype[t]&&(Nn[t]=function(){var e=this[k];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(t){"function"===typeof Array.prototype[t]&&(Nn[t]=function(e,n){var r=this,o=this[k];o.atom.reportObserved();var i=o.dehanceValues(o.values);return i[t]((function(t,o){return e.call(n,t,o,r)}),n)})})),["reduce","reduceRight"].forEach((function(t){Nn[t]=function(){var e=this,n=this[k];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(t,o,i){return o=n.dehanceValue(o),r(t,o,i,e)},n.values[t].apply(n.values,arguments)}}));var Dn,Tn=O("ObservableArrayAdministration",An);function Cn(t){return h(t)&&Tn(t[k])}var Rn,In={},Ln=function(){function t(t,e,n){if(void 0===e&&(e=Z),void 0===n&&(n="ObservableMap@"+u()),this.enhancer=e,this.name=n,this[Dn]=In,this._keysAtom=N(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!==typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!Qt.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var r=n=new Yt(this._has(t),Q,this.name+"."+j(t)+"?",!1);this._hasMap.set(t,r),Ie(r,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(On(this)){var r=xn(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(wt(this._keysAtom),On(this)){var n=xn(this,{type:"delete",object:this,name:t});if(!n)return!1}if(this._has(t)){var r=me(),o=En(this);n=o||r?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return dn((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1);var n=e._data.get(t);n.setNewValue(void 0),e._data.delete(t)})),o&&Sn(this,n),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if(e=n.prepareNewValue(e),e!==Qt.UNCHANGED){var r=me(),o=En(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;0,n.setNewValue(e),o&&Sn(this,i)}},t.prototype._addValue=function(t,e){var n=this;wt(this._keysAtom),dn((function(){var r=new Yt(e,n.enhancer,n.name+"."+j(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()}));var r=me(),o=En(this),i=o||r?{type:"add",object:this,name:t,newValue:e}:null;o&&Sn(this,i)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=this.keys();return ir({next:function(){var n=e.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:t.get(o)}}})},t.prototype.entries=function(){var t=this,e=this.keys();return ir({next:function(){var n=e.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,t.get(o)]}}})},t.prototype[(Dn=k,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var o=H(this),i=o.next();!i.done;i=o.next()){var a=F(i.value,2),u=a[0],c=a[1];t.call(e,c,u,this)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return zn(t)&&(t=t.toJS()),dn((function(){var n=Gt(!0);try{y(t)?E(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=F(t,2),r=n[0],o=n[1];return e.set(r,o)})):w(t)?(t.constructor!==Map&&c("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,n){return e.set(n,t)}))):null!==t&&void 0!==t&&c("Cannot initialize map from "+t)}finally{Xt(n)}})),this},t.prototype.clear=function(){var t=this;dn((function(){kt((function(){var e,n;try{for(var r=H(t.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return dn((function(){var n,r,o,i,a=v(t),u=new Map,c=!1;try{for(var s=H(e._data.keys()),l=s.next();!l.done;l=s.next()){var f=l.value;if(!a.has(f)){var p=e.delete(f);if(p)c=!0;else{var d=e._data.get(f);u.set(f,d)}}}}catch(E){n={error:E}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var h=H(a.entries()),y=h.next();!y.done;y=h.next()){var g=F(y.value,2),b=(f=g[0],d=g[1],e._data.has(f));if(e.set(f,d),e._data.has(f)){var m=e._data.get(f);u.set(f,m),b||(c=!0)}}}catch(j){o={error:j}}finally{try{y&&!y.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}if(!c)if(e._data.size!==u.size)e._keysAtom.reportChanged();else{var _=e._data.keys(),O=u.keys(),w=_.next(),x=O.next();while(!w.done){if(w.value!==x.value){e._keysAtom.reportChanged();break}w=_.next(),x=O.next()}}e._data=u})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=H(this),o=r.next();!o.done;o=r.next()){var i=F(o.value,2),a=i[0],u=i[1];n["symbol"===typeof a?a:j(a)]=u}}catch(c){t={error:c}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return j(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return jn(this,t)},t.prototype.intercept=function(t){return wn(this,t)},t}(),zn=O("ObservableMap",Ln),Bn={},Hn=function(){function t(t,e,n){if(void 0===e&&(e=Z),void 0===n&&(n="ObservableSet@"+u()),this.name=n,this[Rn]=Bn,this._data=new Set,this._atom=N(this.name),this[Symbol.toStringTag]="Set","function"!==typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;dn((function(){kt((function(){var e,n;try{for(var r=H(t._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var n,r;try{for(var o=H(this),i=o.next();!i.done;i=o.next()){var a=i.value;t.call(e,a,a,this)}}catch(u){n={error:u}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if(wt(this._atom),On(this)){var n=xn(this,{type:"add",object:this,newValue:t});if(!n)return this}if(!this.has(t)){dn((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var r=me(),o=En(this);n=o||r?{type:"add",object:this,newValue:t}:null;0,o&&Sn(this,n)}return this},t.prototype.delete=function(t){var e=this;if(On(this)){var n=xn(this,{type:"delete",object:this,oldValue:t});if(!n)return!1}if(this.has(t)){var r=me(),o=En(this);n=o||r?{type:"delete",object:this,oldValue:t}:null;return dn((function(){e._atom.reportChanged(),e._data.delete(t)})),o&&Sn(this,n),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return ir({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return ir({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return Fn(t)&&(t=t.toJS()),dn((function(){var n=Gt(!0);try{Array.isArray(t)||x(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!==t&&void 0!==t&&c("Cannot initialize set from "+t)}finally{Xt(n)}})),this},t.prototype.observe=function(t,e){return jn(this,t)},t.prototype.intercept=function(t){return wn(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(Rn=k,Symbol.iterator)]=function(){return this.values()},t}(),Fn=O("ObservableSet",Hn),Gn=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new M(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof Vt)r.set(e);else{if(On(this)){var o=xn(this,{type:"update",object:this.proxy||n,name:t,newValue:e});if(!o)return;e=o.newValue}if(e=r.prepareNewValue(e),e!==Qt.UNCHANGED){var i=En(this),a=me();o=i||a?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;0,r.setNewValue(e),i&&Sn(this,o)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new Yt(r,Q,this.name+"."+j(t)+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(_(r,t),On(this)){var o=xn(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!o)return;e=o.newValue}var i=new Yt(e,n,this.name+"."+j(t),!1);this.values.set(t,i),e=i.value,Object.defineProperty(r,t,Vn(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var r=this.target;n.name=n.name||this.name+"."+j(e),this.values.set(e,new Vt(n)),(t===r||m(t,e))&&Object.defineProperty(t,e,Kn(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(On(this)){var n=xn(this,{object:this.proxy||e,name:t,type:"remove"});if(!n)return}try{oe();var r=En(this),o=me(),i=this.values.get(t),a=i&&i.get();if(i&&i.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var u=this.pendingKeys.get(t);u&&u.set(!1)}delete this.target[t];n=r||o?{type:"remove",object:this.proxy||e,oldValue:a,name:t}:null;0,r&&Sn(this,n)}finally{ie()}}},t.prototype.illegalAccess=function(t,e){},t.prototype.observe=function(t,e){return jn(this,t)},t.prototype.intercept=function(t){return wn(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=En(this),r=me(),o=n||r?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&Sn(this,o),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=H(this.values),o=r.next();!o.done;o=r.next()){var i=F(o.value,2),a=i[0],u=i[1];u instanceof Yt&&n.push(a)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function Xn(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=Z),Object.prototype.hasOwnProperty.call(t,k))return t[k];y(t)||(e=(t.constructor.name||"ObservableObject")+"@"+u()),e||(e="ObservableObject@"+u());var r=new Gn(t,new Map,j(e),n);return g(t,k,r),r}var Yn=Object.create(null),Un=Object.create(null);function Vn(t){return Yn[t]||(Yn[t]={configurable:!0,enumerable:!0,get:function(){return this[k].read(t)},set:function(e){this[k].write(t,e)}})}function Wn(t){var e=t[k];return e||(K(t),t[k])}function Kn(t){return Un[t]||(Un[t]={configurable:Qt.computedConfigurable,enumerable:!1,get:function(){return Wn(this).read(t)},set:function(e){Wn(this).write(t,e)}})}var $n=O("ObservableObjectAdministration",Gn);function qn(t){return!!h(t)&&(K(t),$n(t[k]))}function Zn(t,e){if("object"===typeof t&&null!==t){if(Cn(t))return void 0!==e&&c(!1),t[k].atom;if(Fn(t))return t[k];if(zn(t)){var n=t;if(void 0===e)return n._keysAtom;var r=n._data.get(e)||n._hasMap.get(e);return r||c(!1),r}if(K(t),e&&!t[k]&&t[e],qn(t)){if(!e)return c(!1);r=t[k].values.get(e);return r||c(!1),r}if(A(t)||Wt(t)||ge(t))return t}else if("function"===typeof t&&ge(t[k]))return t[k];return c(!1)}function Jn(t,e){return t||c("Expecting some object"),void 0!==e?Jn(Zn(t,e)):A(t)||Wt(t)||ge(t)||zn(t)||Fn(t)?t:(K(t),t[k]?t[k]:void c(!1))}function Qn(t,e){var n;return n=void 0!==e?Zn(t,e):qn(t)||zn(t)||Fn(t)?Jn(t):Zn(t),n.name}var tr=Object.prototype.toString;function er(t,e,n){return void 0===n&&(n=-1),nr(t,e,n)}function nr(t,e,n,r,o){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return!1;if(t!==t)return e!==e;var i=typeof t;if("function"!==i&&"object"!==i&&"object"!=typeof e)return!1;var a=tr.call(t);if(a!==tr.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t===""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=rr(t),e=rr(e);var u="[object Array]"===a;if(!u){if("object"!=typeof t||"object"!=typeof e)return!1;var c=t.constructor,s=e.constructor;if(c!==s&&!("function"===typeof c&&c instanceof c&&"function"===typeof s&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}if(0===n)return!1;n<0&&(n=-1),r=r||[],o=o||[];var l=r.length;while(l--)if(r[l]===t)return o[l]===e;if(r.push(t),o.push(e),u){if(l=t.length,l!==e.length)return!1;while(l--)if(!nr(t[l],e[l],n-1,r,o))return!1}else{var f=Object.keys(t),p=void 0;if(l=f.length,Object.keys(e).length!==l)return!1;while(l--)if(p=f[l],!or(e,p)||!nr(t[p],e[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function rr(t){return Cn(t)?t.slice():w(t)||zn(t)||x(t)||Fn(t)?Array.from(t.entries()):t}function or(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ir(t){return t[Symbol.iterator]=ar,t}function ar(){return this}if("undefined"===typeof Proxy||"undefined"===typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");(function(){function t(){}t.name})(),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Oe,extras:{getDebugName:Qn},$mobx:k})}).call(this,n(155),n(82))},function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return F})),n.d(e,"d",(function(){return G})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return H})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return B})),n.d(e,"k",(function(){return S}));var r,o,i,a,u,c,s,l={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(t,e){for(var n in e)t[n]=e[n];return t}function h(t){var e=t.parentNode;e&&e.removeChild(t)}function y(t,e,n){var o,i,a,u={};for(a in e)"key"==a?o=e[a]:"ref"==a?i=e[a]:u[a]=e[a];if(arguments.length>2&&(u.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===u[a]&&(u[a]=t.defaultProps[a]);return v(t,u,o,i,null)}function v(t,e,n,r,a){var u={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++i:a};return null==a&&null!=o.vnode&&o.vnode(u),u}function g(){return{current:null}}function b(t){return t.children}function m(t,e){this.props=t,this.context=e}function _(t,e){if(null==e)return t.__?_(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?_(t):null}function O(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return O(t)}}function w(t){(!t.__d&&(t.__d=!0)&&a.push(t)&&!x.__r++||c!==o.debounceRendering)&&((c=o.debounceRendering)||u)(x)}function x(){for(var t;x.__r=a.length;)t=a.sort((function(t,e){return t.__v.__b-e.__v.__b})),a=[],t.some((function(t){var e,n,r,o,i,a;t.__d&&(i=(o=(e=t).__v).__e,(a=e.__P)&&(n=[],(r=d({},o)).__v=o.__v+1,T(a,o,r,e.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?_(o):i,o.__h),C(n,o),o.__e!=i&&O(o)))}))}function E(t,e,n,r,o,i,a,u,c,s){var p,d,h,y,g,m,O,w=r&&r.__k||f,x=w.length;for(n.__k=[],p=0;p<e.length;p++)if(null!=(y=n.__k[p]=null==(y=e[p])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?v(null,y,null,null,y):Array.isArray(y)?v(b,{children:y},null,null,null):y.__b>0?v(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(h=w[p])||h&&y.key==h.key&&y.type===h.type)w[p]=void 0;else for(d=0;d<x;d++){if((h=w[d])&&y.key==h.key&&y.type===h.type){w[d]=void 0;break}h=null}T(t,y,h=h||l,o,i,a,u,c,s),g=y.__e,(d=y.ref)&&h.ref!=d&&(O||(O=[]),h.ref&&O.push(h.ref,null,y),O.push(d,y.__c||g,y)),null!=g?(null==m&&(m=g),"function"==typeof y.type&&y.__k===h.__k?y.__d=c=j(y,c,t):c=P(t,y,h,w,g,c),"function"==typeof n.type&&(n.__d=c)):c&&h.__e==c&&c.parentNode!=t&&(c=_(h))}for(n.__e=m,p=x;p--;)null!=w[p]&&("function"==typeof n.type&&null!=w[p].__e&&w[p].__e==n.__d&&(n.__d=_(r,p+1)),L(w[p],w[p]));if(O)for(p=0;p<O.length;p++)I(O[p],O[++p],O[++p])}function j(t,e,n){for(var r,o=t.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=t,e="function"==typeof r.type?j(r,e,n):P(n,r,r,o,r.__e,e));return e}function S(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){S(t,e)})):e.push(t)),e}function P(t,e,n,r,o,i){var a,u,c;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==n||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),a=null;else{for(u=i,c=0;(u=u.nextSibling)&&c<r.length;c+=2)if(u==o)break t;t.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function k(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||A(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||A(t,i,e[i],n[i],r)}function M(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||p.test(e)?n:n+"px"}function A(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||M(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||M(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?D:N,i):t.removeEventListener(e,i?D:N,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function N(t){this.l[t.type+!1](o.event?o.event(t):t)}function D(t){this.l[t.type+!0](o.event?o.event(t):t)}function T(t,e,n,r,i,a,u,c,s){var l,f,p,h,y,v,g,_,O,w,x,j=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(s=n.__h,c=e.__e=n.__e,e.__h=null,a=[c]),(l=o.__b)&&l(e);try{t:if("function"==typeof j){if(_=e.props,O=(l=j.contextType)&&r[l.__c],w=l?O?O.props.value:l.__:r,n.__c?g=(f=e.__c=n.__c).__=f.__E:("prototype"in j&&j.prototype.render?e.__c=f=new j(_,w):(e.__c=f=new m(_,w),f.constructor=j,f.render=z),O&&O.sub(f),f.props=_,f.state||(f.state={}),f.context=w,f.__n=r,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=j.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=d({},f.__s)),d(f.__s,j.getDerivedStateFromProps(_,f.__s))),h=f.props,y=f.state,p)null==j.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==j.getDerivedStateFromProps&&_!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(_,w),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(_,f.__s,w)||e.__v===n.__v){f.props=_,f.state=f.__s,e.__v!==n.__v&&(f.__d=!1),f.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),f.__h.length&&u.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(_,f.__s,w),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(h,y,v)}))}f.context=w,f.props=_,f.state=f.__s,(l=o.__r)&&l(e),f.__d=!1,f.__v=e,f.__P=t,l=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(r=d(d({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(h,y)),x=null!=l&&l.type===b&&null==l.key?l.props.children:l,E(t,Array.isArray(x)?x:[x],e,n,r,i,a,u,c,s),f.base=e.__e,e.__h=null,f.__h.length&&u.push(f),g&&(f.__E=f.__=null),f.__e=!1}else null==a&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=R(n.__e,e,n,r,i,a,u,s);(l=o.diffed)&&l(e)}catch(t){e.__v=null,(s||null!=a)&&(e.__e=c,e.__h=!!s,a[a.indexOf(c)]=null),o.__e(t,e,n)}}function C(t,e){o.__c&&o.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){o.__e(t,e.__v)}}))}function R(t,e,n,o,i,a,u,c){var s,f,p,d=n.props,y=e.props,v=e.type,g=0;if("svg"===v&&(i=!0),null!=a)for(;g<a.length;g++)if((s=a[g])&&"setAttribute"in s==!!v&&(v?s.localName===v:3===s.nodeType)){t=s,a[g]=null;break}if(null==t){if(null===v)return document.createTextNode(y);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),a=null,c=!1}if(null===v)d===y||c&&t.data===y||(t.data=y);else{if(a=a&&r.call(t.childNodes),f=(d=n.props||l).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!c){if(null!=a)for(d={},g=0;g<t.attributes.length;g++)d[t.attributes[g].name]=t.attributes[g].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(k(t,y,d,i,c),p)e.__k=[];else if(g=e.props.children,E(t,Array.isArray(g)?g:[g],e,n,o,i&&"foreignObject"!==v,a,u,a?a[0]:n.__k&&_(n,0),c),null!=a)for(g=a.length;g--;)null!=a[g]&&h(a[g]);c||("value"in y&&void 0!==(g=y.value)&&(g!==d.value||g!==t.value||"progress"===v&&!g)&&A(t,"value",g,d.value,!1),"checked"in y&&void 0!==(g=y.checked)&&g!==t.checked&&A(t,"checked",g,d.checked,!1))}return t}function I(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){o.__e(t,n)}}function L(t,e,n){var r,i;if(o.unmount&&o.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||I(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){o.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&L(r[i],e,"function"!=typeof t.type);n||null==t.__e||h(t.__e),t.__e=t.__d=void 0}function z(t,e,n){return this.constructor(t,n)}function B(t,e,n){var i,a,u;o.__&&o.__(t,e),a=(i="function"==typeof n)?null:n&&n.__k||e.__k,u=[],T(e,t=(!i&&n||e).__k=y(b,null,[t]),a||l,l,void 0!==e.ownerSVGElement,!i&&n?[n]:a?null:e.firstChild?r.call(e.childNodes):null,u,!i&&n?n:a?a.__e:e.firstChild,i),C(u,t)}function H(t,e){B(t,e,H)}function F(t,e,n){var o,i,a,u=d({},t.props);for(a in e)"key"==a?o=e[a]:"ref"==a?i=e[a]:u[a]=e[a];return arguments.length>2&&(u.children=arguments.length>3?r.call(arguments,2):n),v(t.type,u,o||t.key,i||t.ref,null)}function G(t,e){var n={__c:e="__cC"+s++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(w)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,o={__e:function(t,e){for(var n,r,o;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(t)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t),o=n.__d),o)return n.__E=n}catch(e){t=e}throw t}},i=0,m.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof t&&(t=t(d({},n),this.props)),t&&d(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),w(this))},m.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),w(this))},m.prototype.render=b,a=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,x.__r=0,s=0},function(t,e,n){var r=n(116),o=n(44),i=n(178);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){"use strict";var r=n(39),o=n(83),i=n(70),a=n(56),u=n(111),c="Array Iterator",s=a.set,l=a.getterFor(c);t.exports=u(Array,"Array",(function(t,e){s(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(7),o=n(147),i=n(148),a=n(3),u=n(57),c=n(27),s=c("iterator"),l=c("toStringTag"),f=a.values,p=function(t,e){if(t){if(t[s]!==f)try{u(t,s,f)}catch(r){t[s]=f}if(t[l]||u(t,l,e),o[e])for(var n in a)if(t[n]!==a[n])try{u(t,n,a[n])}catch(r){t[n]=a[n]}}};for(var d in o)p(r[d]&&r[d].prototype,d);p(i,"DOMTokenList")},function(t,e,n){"use strict";var r=n(16),o=n(7),i=n(46),a=n(76),u=n(35),c=n(15),s=n(64),l=n(36),f=n(109),p=n(18),d=n(34),h=n(99),y=n(28),v=n(33),g=n(58),b=n(88),m=n(32),_=n(38),O=n(39),w=n(87),x=n(40),E=n(71),j=n(54),S=n(66),P=n(72),k=n(139),M=n(112),A=n(51),N=n(37),D=n(93),T=n(101),C=n(44),R=n(84),I=n(91),L=n(69),z=n(85),B=n(27),H=n(149),F=n(150),G=n(73),X=n(56),Y=n(74).forEach,U=I("hidden"),V="Symbol",W="prototype",K=B("toPrimitive"),$=X.set,q=X.getterFor(V),Z=Object[W],J=o.Symbol,Q=J&&J[W],tt=o.TypeError,et=o.QObject,nt=i("JSON","stringify"),rt=A.f,ot=N.f,it=k.f,at=D.f,ut=c([].push),ct=R("symbols"),st=R("op-symbols"),lt=R("string-to-symbol-registry"),ft=R("symbol-to-string-registry"),pt=R("wks"),dt=!et||!et[W]||!et[W].findChild,ht=l&&p((function(){return 7!=j(ot({},"a",{get:function(){return ot(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=rt(Z,e);r&&delete Z[e],ot(t,e,n),r&&t!==Z&&ot(Z,e,r)}:ot,yt=function(t,e){var n=ct[t]=j(Q);return $(n,{type:V,tag:t,description:e}),l||(n.description=e),n},vt=function(t,e,n){t===Z&&vt(st,e,n),m(t);var r=w(e);return m(n),d(ct,r)?(n.enumerable?(d(t,U)&&t[U][r]&&(t[U][r]=!1),n=j(n,{enumerable:E(0,!1)})):(d(t,U)||ot(t,U,E(1,{})),t[U][r]=!0),ht(t,r,n)):ot(t,r,n)},gt=function(t,e){m(t);var n=O(e),r=S(n).concat(wt(n));return Y(r,(function(e){l&&!u(mt,n,e)||vt(t,e,n[e])})),t},bt=function(t,e){return void 0===e?j(t):gt(j(t),e)},mt=function(t){var e=w(t),n=u(at,this,e);return!(this===Z&&d(ct,e)&&!d(st,e))&&(!(n||!d(this,e)||!d(ct,e)||d(this,U)&&this[U][e])||n)},_t=function(t,e){var n=O(t),r=w(e);if(n!==Z||!d(ct,r)||d(st,r)){var o=rt(n,r);return!o||!d(ct,r)||d(n,U)&&n[U][r]||(o.enumerable=!0),o}},Ot=function(t){var e=it(O(t)),n=[];return Y(e,(function(t){d(ct,t)||d(L,t)||ut(n,t)})),n},wt=function(t){var e=t===Z,n=it(e?st:O(t)),r=[];return Y(n,(function(t){!d(ct,t)||e&&!d(Z,t)||ut(r,ct[t])})),r};if(f||(J=function(){if(g(Q,this))throw tt("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?x(arguments[0]):void 0,e=z(t),n=function(t){this===Z&&u(n,st,t),d(this,U)&&d(this[U],e)&&(this[U][e]=!1),ht(this,e,E(1,t))};return l&&dt&&ht(Z,e,{configurable:!0,set:n}),yt(e,t)},Q=J[W],C(Q,"toString",(function(){return q(this).tag})),C(J,"withoutSetter",(function(t){return yt(z(t),t)})),D.f=mt,N.f=vt,A.f=_t,P.f=k.f=Ot,M.f=wt,H.f=function(t){return yt(B(t),t)},l&&(ot(Q,"description",{configurable:!0,get:function(){return q(this).description}}),s||C(Z,"propertyIsEnumerable",mt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:J}),Y(S(pt),(function(t){F(t)})),r({target:V,stat:!0,forced:!f},{for:function(t){var e=x(t);if(d(lt,e))return lt[e];var n=J(e);return lt[e]=n,ft[n]=e,n},keyFor:function(t){if(!b(t))throw tt(t+" is not a symbol");if(d(ft,t))return ft[t]},useSetter:function(){dt=!0},useSimple:function(){dt=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!l},{create:bt,defineProperty:vt,defineProperties:gt,getOwnPropertyDescriptor:_t}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Ot,getOwnPropertySymbols:wt}),r({target:"Object",stat:!0,forced:p((function(){M.f(1)}))},{getOwnPropertySymbols:function(t){return M.f(_(t))}}),nt){var xt=!f||p((function(){var t=J();return"[null]"!=nt([t])||"{}"!=nt({a:t})||"{}"!=nt(Object(t))}));r({target:"JSON",stat:!0,forced:xt},{stringify:function(t,e,n){var r=T(arguments),o=e;if((v(e)||void 0!==t)&&!b(t))return h(e)||(e=function(t,e){if(y(o)&&(e=u(o,this,t,e)),!b(e))return e}),r[1]=e,a(nt,null,r)}})}if(!Q[K]){var Et=Q.valueOf;C(Q,K,(function(t){return u(Et,this)}))}G(J,V),L[U]=!0},function(t,e,n){"use strict";var r=n(146).charAt,o=n(40),i=n(56),a=n(111),u="String Iterator",c=i.set,s=i.getterFor(u);a(String,"String",(function(t){c(this,{type:u,string:o(t),index:0})}),(function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(82))},function(t,e,n){"use strict";var r=n(16),o=n(36),i=n(7),a=n(15),u=n(34),c=n(28),s=n(58),l=n(40),f=n(37).f,p=n(134),d=i.Symbol,h=d&&d.prototype;if(o&&c(d)&&(!("description"in h)||void 0!==d().description)){var y={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=s(h,this)?new d(t):void 0===t?d():d(t);return""===t&&(y[e]=!0),e};p(v,d),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(d("test")),b=a(h.toString),m=a(h.valueOf),_=/^Symbol\((.*)\)[^)]+$/,O=a("".replace),w=a("".slice);f(h,"description",{configurable:!0,get:function(){var t=m(this),e=b(t);if(u(y,t))return"";var n=g?w(e,7,-1):O(e,_,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:v})}},function(t,e,n){var r=n(150);r("iterator")},function(t,e,n){"use strict";n.d(e,"a",(function(){return a["a"]})),n.d(e,"c",(function(){return a["e"]})),n.d(e,"h",(function(){return w})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return y})),n.d(e,"b",(function(){return C})),n.d(e,"e",(function(){return z})),n.d(e,"f",(function(){return R})),n.d(e,"g",(function(){return mt}));var r,o,i,a=n(1),u=0,c=[],s=a["i"].__b,l=a["i"].__r,f=a["i"].diffed,p=a["i"].__c,d=a["i"].unmount;function h(t,e){a["i"].__h&&a["i"].__h(o,t,u||e),u=0;var n=o.__H||(o.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function y(t){return u=1,v(N,t)}function v(t,e,n){var i=h(r++,2);return i.t=t,i.__c||(i.__=[n?n(e):N(void 0,e),function(t){var e=i.t(i.__[0],t);i.__[0]!==e&&(i.__=[e,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function g(t,e){var n=h(r++,3);!a["i"].__s&&A(n.__H,e)&&(n.__=t,n.__H=e,o.__H.__h.push(n))}function b(t,e){var n=h(r++,4);!a["i"].__s&&A(n.__H,e)&&(n.__=t,n.__H=e,o.__h.push(n))}function m(t){return u=5,O((function(){return{current:t}}),[])}function _(t,e,n){u=6,b((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==n?n:n.concat(t))}function O(t,e){var n=h(r++,7);return A(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function w(t,e){return u=8,O((function(){return t}),e)}function x(t){var e=o.context[t.__c],n=h(r++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(o)),e.props.value):t.__}function E(t,e){a["i"].useDebugValue&&a["i"].useDebugValue(e?e(t):t)}function j(){var t;for(c.sort((function(t,e){return t.__v.__b-e.__v.__b}));t=c.pop();)if(t.__P)try{t.__H.__h.forEach(k),t.__H.__h.forEach(M),t.__H.__h=[]}catch(e){t.__H.__h=[],a["i"].__e(e,t.__v)}}a["i"].__b=function(t){o=null,s&&s(t)},a["i"].__r=function(t){l&&l(t),r=0;var e=(o=t.__c).__H;e&&(e.__h.forEach(k),e.__h.forEach(M),e.__h=[])},a["i"].diffed=function(t){f&&f(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==c.push(e)&&i===a["i"].requestAnimationFrame||((i=a["i"].requestAnimationFrame)||P)(j)),o=null},a["i"].__c=function(t,e){e.some((function(t){try{t.__h.forEach(k),t.__h=t.__h.filter((function(t){return!t.__||M(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],a["i"].__e(n,t.__v)}})),p&&p(t,e)},a["i"].unmount=function(t){d&&d(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{k(t)}catch(t){e=t}})),e&&a["i"].__e(e,n.__v))};var S="function"==typeof requestAnimationFrame;function P(t){var e,n=function(){clearTimeout(r),S&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);S&&(e=requestAnimationFrame(n))}function k(t){var e=o,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),o=e}function M(t){var e=o;t.__c=t.__(),o=e}function A(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function N(t,e){return"function"==typeof e?e(t):e}function D(t,e){for(var n in e)t[n]=e[n];return t}function T(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function C(t){this.props=t}function R(t,e){function n(t){var n=this.props.ref,r=n==t.ref;return!r&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!r:T(this.props,t)}function r(e){return this.shouldComponentUpdate=n,Object(a["e"])(t,e)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(C.prototype=new a["a"]).isPureReactComponent=!0,C.prototype.shouldComponentUpdate=function(t,e){return T(this.props,t)||T(this.state,e)};var I=a["i"].__b;a["i"].__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),I&&I(t)};var L="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function z(t){function e(e,n){var r=D({},e);return delete r.ref,t(r,!(n=e.ref||n)||"object"==typeof n&&!("current"in n)?null:n)}return e.$$typeof=L,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var B=function(t,e){return null==t?null:Object(a["k"])(Object(a["k"])(t).map(e))},H={map:B,forEach:B,count:function(t){return t?Object(a["k"])(t).length:0},only:function(t){var e=Object(a["k"])(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:a["k"]},F=a["i"].__e;a["i"].__e=function(t,e,n){if(t.then)for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e);F(t,e,n)};var G=a["i"].unmount;function X(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=D({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return X(t,e,n)}))),t}function Y(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return Y(t,e,n)})),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function U(){this.__u=0,this.t=null,this.__b=null}function V(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function W(t){var e,n,r;function o(o){if(e||(e=t()).then((function(t){n=t.default||t}),(function(t){r=t})),r)throw r;if(!n)throw e;return Object(a["e"])(n,o)}return o.displayName="Lazy",o.__f=!0,o}function K(){this.u=null,this.o=null}a["i"].unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),G&&G(t)},(U.prototype=new a["a"]).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=V(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(u):u())};n.__R=a;var u=function(){if(!--r.__u){if(r.state.__e){var t=r.state.__e;r.__v.__k[0]=Y(t,t.__c.__P,t.__c.__O)}var e;for(r.setState({__e:r.__b=null});e=r.t.pop();)e.forceUpdate()}},c=!0===e.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},U.prototype.componentWillUnmount=function(){this.t=[]},U.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=X(this.__b,n,r.__O=r.__P)}this.__b=null}var o=e.__e&&Object(a["e"])(a["b"],null,t.fallback);return o&&(o.__h=null),[Object(a["e"])(a["b"],null,e.__e?null:t.children),o]};var $=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function q(t){return this.getChildContext=function(){return t.context},t.children}function Z(t){var e=this,n=t.i;e.componentWillUnmount=function(){Object(a["j"])(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,n){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),Object(a["j"])(Object(a["e"])(q,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function J(t,e){return Object(a["e"])(Z,{__v:t,i:e})}(K.prototype=new a["a"]).__e=function(t){var e=this,n=V(e.__v),r=e.o.get(t);return r[0]++,function(o){var i=function(){e.props.revealOrder?(r.push(o),$(e,t,r)):o()};n?n(i):i()}},K.prototype.render=function(t){this.u=null,this.o=new Map;var e=Object(a["k"])(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},K.prototype.componentDidUpdate=K.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){$(t,n,e)}))};var Q="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,tt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,et="undefined"!=typeof document,nt=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};function rt(t,e,n){return null==e.__k&&(e.textContent=""),Object(a["j"])(t,e),"function"==typeof n&&n(),t?t.__c:null}function ot(t,e,n){return Object(a["h"])(t,e),"function"==typeof n&&n(),t?t.__c:null}a["a"].prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(a["a"].prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var it=a["i"].event;function at(){}function ut(){return this.cancelBubble}function ct(){return this.defaultPrevented}a["i"].event=function(t){return it&&(t=it(t)),t.persist=at,t.isPropagationStopped=ut,t.isDefaultPrevented=ct,t.nativeEvent=t};var st,lt={configurable:!0,get:function(){return this.class}},ft=a["i"].vnode;a["i"].vnode=function(t){var e=t.type,n=t.props,r=n;if("string"==typeof e){var o=-1===e.indexOf("-");for(var i in r={},n){var u=n[i];et&&"children"===i&&"noscript"===e||"value"===i&&"defaultValue"in n&&null==u||("defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===u?u="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!nt(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():o&&tt.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===u&&(u=void 0),r[i]=u)}"select"==e&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(a["k"])(n.children).forEach((function(t){t.props.selected=-1!=r.value.indexOf(t.props.value)}))),"select"==e&&null!=r.defaultValue&&(r.value=Object(a["k"])(n.children).forEach((function(t){t.props.selected=r.multiple?-1!=r.defaultValue.indexOf(t.props.value):r.defaultValue==t.props.value}))),t.props=r,n.class!=n.className&&(lt.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",lt))}t.$$typeof=Q,ft&&ft(t)};var pt=a["i"].__r;a["i"].__r=function(t){pt&&pt(t),st=t.__c};var dt={ReactCurrentDispatcher:{current:{readContext:function(t){return st.__n[t.__c].props.value}}}};function ht(t){return a["e"].bind(null,t)}function yt(t){return!!t&&t.$$typeof===Q}function vt(t){return yt(t)?a["c"].apply(null,arguments):t}function gt(t){return!!t.__k&&(Object(a["j"])(null,t),!0)}function bt(t){return t&&(t.base||1===t.nodeType&&t)||null}var mt=function(t,e){return t(e)},_t=function(t,e){return t(e)},Ot=a["b"],wt={useState:y,useReducer:v,useEffect:g,useLayoutEffect:b,useRef:m,useImperativeHandle:_,useMemo:O,useCallback:w,useContext:x,useDebugValue:E,version:"17.0.2",Children:H,render:rt,hydrate:ot,unmountComponentAtNode:gt,createPortal:J,createElement:a["e"],createContext:a["d"],createFactory:ht,cloneElement:vt,createRef:a["f"],Fragment:a["b"],isValidElement:yt,findDOMNode:bt,Component:a["a"],PureComponent:C,memo:R,forwardRef:z,flushSync:_t,unstable_batchedUpdates:mt,StrictMode:Ot,Suspense:U,SuspenseList:K,lazy:W,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:dt};e["d"]=wt},function(t,e,n){var r=n(7),o=n(147),i=n(148),a=n(179),u=n(57),c=function(t){if(t&&t.forEach!==a)try{u(t,"forEach",a)}catch(e){t.forEach=a}};for(var s in o)o[s]&&c(r[s]&&r[s].prototype);c(i)},function(t,e,n){var r=n(16),o=n(97);r({target:"Object",stat:!0},{setPrototypeOf:o})},function(t,e,n){var r=n(16),o=n(18),i=n(38),a=n(96),u=n(137),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:c,sham:!u},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,n){var r=n(16),o=n(46),i=n(76),a=n(199),u=n(157),c=n(32),s=n(33),l=n(54),f=n(18),p=o("Reflect","construct"),d=Object.prototype,h=[].push,y=f((function(){function t(){}return!(p((function(){}),[],t)instanceof t)})),v=!f((function(){p((function(){}))})),g=y||v;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(t,e){u(t),c(e);var n=arguments.length<3?t:u(arguments[2]);if(v&&!y)return p(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return i(h,r,e),new(i(a,t,r))}var o=n.prototype,f=l(s(o)?o:d),g=i(t,f,e);return s(g)?g:f}})},function(t,e){var n=Function.prototype,r=n.bind,o=n.call,i=r&&r.bind(o);t.exports=r?function(t){return t&&i(o,t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},function(t,e,n){var r=n(7),o=n(51).f,i=n(57),a=n(44),u=n(108),c=n(134),s=n(95);t.exports=function(t,e){var n,l,f,p,d,h,y=t.target,v=t.global,g=t.stat;if(l=v?r:g?r[y]||u(y,{}):(r[y]||{}).prototype,l)for(f in e){if(d=e[f],t.noTargetGet?(h=o(l,f),p=h&&h.value):p=l[f],n=s(v?f:y+(g?".":"#")+f,t.forced),!n&&void 0!==p){if(typeof d==typeof p)continue;c(d,p)}(t.sham||p&&p.sham)&&i(d,"sham",!0),a(l,f,d,t)}}},function(t,e,n){"use strict";var r=n(16),o=n(7),i=n(99),a=n(100),u=n(33),c=n(67),s=n(43),l=n(39),f=n(61),p=n(27),d=n(75),h=n(101),y=d("slice"),v=p("species"),g=o.Array,b=Math.max;r({target:"Array",proto:!0,forced:!y},{slice:function(t,e){var n,r,o,p=l(this),d=s(p),y=c(t,d),m=c(void 0===e?d:e,d);if(i(p)&&(n=p.constructor,a(n)&&(n===g||i(n.prototype))?n=void 0:u(n)&&(n=n[v],null===n&&(n=void 0)),n===g||void 0===n))return h(p,y,m);for(r=new(void 0===n?g:n)(b(m-y,0)),o=0;y<m;y++,o++)y in p&&f(r,o,p[y]);return r.length=o,r}})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){"use strict";var r=n(16),o=n(102);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){var r=n(16),o=n(38),i=n(66),a=n(18),u=a((function(){i(1)}));r({target:"Object",stat:!0,forced:u},{keys:function(t){return i(o(t))}})},function(t,e,n){var r=n(16),o=n(18),i=n(39),a=n(51).f,u=n(36),c=o((function(){a(1)})),s=!u||c;r({target:"Object",stat:!0,forced:s,sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,n){"use strict";var r=n(16),o=n(74).filter,i=n(75),a=i("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(16),o=n(36),i=n(135),a=n(39),u=n(51),c=n(61);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),o=u.f,s=i(r),l={},f=0;while(s.length>f)n=o(r,e=s[f++]),void 0!==n&&c(l,e,n);return l}})},function(t,e,n){var r=n(36),o=n(94).EXISTS,i=n(15),a=n(37).f,u=Function.prototype,c=i(u.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(s.exec),f="name";r&&!o&&a(u,f,{configurable:!0,get:function(){try{return l(s,c(this))[1]}catch(t){return""}}})},function(t,e,n){var r=n(16),o=n(182),i=n(118),a=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:a},{from:o})},,function(t,e,n){var r=n(7),o=n(84),i=n(34),a=n(85),u=n(109),c=n(128),s=o("wks"),l=r.Symbol,f=l&&l["for"],p=c?l:l&&l.withoutSetter||a;t.exports=function(t){if(!i(s,t)||!u&&"string"!=typeof s[t]){var e="Symbol."+t;u&&i(l,t)?s[t]=l[t]:s[t]=c&&f?f(e):p(e)}return s[t]}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";var r=n(16),o=n(7),i=n(18),a=n(99),u=n(33),c=n(38),s=n(43),l=n(61),f=n(119),p=n(75),d=n(27),h=n(65),y=d("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",b=o.TypeError,m=h>=51||!i((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),_=p("concat"),O=function(t){if(!u(t))return!1;var e=t[y];return void 0!==e?!!e:a(t)},w=!m||!_;r({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,r,o,i,a=c(this),u=f(a,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?a:arguments[e],O(i)){if(o=s(i),p+o>v)throw b(g);for(n=0;n<o;n++,p++)n in i&&l(u,p,i[n])}else{if(p>=v)throw b(g);l(u,p++,i)}return u.length=p,u}})},function(t,e,n){var r=n(16),o=n(198);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,n){"use strict";var r=n(105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r["a"]||o||Function("return this")();e["a"]=i},function(t,e,n){var r=n(7),o=n(33),i=r.String,a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not an object")}},function(t,e,n){var r=n(28);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},function(t,e,n){var r=n(15),o=n(38),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},function(t,e){var n=Function.prototype.call;t.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(t,e,n){var r=n(18);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(7),o=n(36),i=n(129),a=n(32),u=n(87),c=r.TypeError,s=Object.defineProperty;e.f=o?s:function(t,e,n){if(a(t),e=u(e),a(n),i)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(7),o=n(45),i=r.Object;t.exports=function(t){return i(o(t))}},function(t,e,n){var r=n(81),o=n(45);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(7),o=n(98),i=r.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},function(t,e,n){"use strict";var r=n(16),o=n(74).map,i=n(75),a=i("map");r({target:"Array",proto:!0,forced:!a},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return s}));var r=n(10),o=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a};function i(){var t=o(Object(r["j"])(0),2),e=t[1],n=Object(r["h"])((function(){e((function(t){return t+1}))}),[]);return n}function a(t){if(!t||"object"!==typeof t)return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}function u(t){return"function"===typeof Symbol?Symbol.for(t):"__$mobx-react "+t+"__"}var c={};function s(){return"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:c}}).call(this,n(82))},function(t,e,n){var r=n(90);t.exports=function(t){return r(t.length)}},function(t,e,n){var r=n(7),o=n(28),i=n(34),a=n(57),u=n(108),c=n(92),s=n(56),l=n(94).CONFIGURABLE,f=s.get,p=s.enforce,d=String(String).split("String");(t.exports=function(t,e,n,c){var s,f=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,y=!!c&&!!c.noTargetGet,v=c&&void 0!==c.name?c.name:e;o(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||l&&n.name!==v)&&a(n,"name",v),s=p(n),s.source||(s.source=d.join("string"==typeof v?v:""))),t!==r?(f?!y&&t[e]&&(h=!0):delete t[e],h?t[e]=n:a(t,e,n)):h?t[e]=n:u(e,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},function(t,e,n){var r=n(7),o=r.TypeError;t.exports=function(t){if(void 0==t)throw o("Can't call method on "+t);return t}},function(t,e,n){var r=n(7),o=n(28),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},function(t,e,n){var r=n(16),o=n(35),i=n(33),a=n(32),u=n(200),c=n(51),s=n(96);function l(t,e){var n,r,f=arguments.length<3?t:arguments[2];return a(t)===f?t[e]:(n=c.f(t,e),n?u(n)?n.value:void 0===n.get?void 0:o(n.get,f):i(r=s(t))?l(r,e,f):void 0)}r({target:"Reflect",stat:!0},{get:l})},function(t,n,r){"use strict";(function(t){var o=r(31),i=r(165),a=e&&!e.nodeType&&e,u=a&&"object"==typeof t&&t&&!t.nodeType&&t,c=u&&u.exports===a,s=c?o["a"].Buffer:void 0,l=s?s.isBuffer:void 0,f=l||i["a"];n["a"]=f}).call(this,r(121)(t))},function(t,n,r){"use strict";(function(t){var o=r(105),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i,c=u&&o["a"].process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||c&&c.binding&&c.binding("util")}catch(e){}}();n["a"]=s}).call(this,r(121)(t))},function(t,e,n){var r=n(15),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},function(t,e,n){var r=n(36),o=n(35),i=n(93),a=n(71),u=n(39),c=n(87),s=n(34),l=n(129),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=u(t),e=c(e),l)try{return f(t,e)}catch(n){}if(s(t,e))return a(!o(i.f,t,e),t[e])}},function(t,e,n){var r=n(16),o=n(213).entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,n){var r=n(46);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r,o=n(32),i=n(168),a=n(110),u=n(69),c=n(133),s=n(86),l=n(91),f=">",p="<",d="prototype",h="script",y=l("IE_PROTO"),v=function(){},g=function(t){return p+h+f+t+p+"/"+h+f},b=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){var t,e=s("iframe"),n="java"+h+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},_=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}_="undefined"!=typeof document?document.domain&&r?b(r):m():b(r);var t=a.length;while(t--)delete _[d][a[t]];return _()};u[y]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(v[d]=o(t),n=new v,v[d]=null,n[y]=t):n=_(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(7),o=n(28),i=n(89),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a function")}},function(t,e,n){var r,o,i,a=n(170),u=n(7),c=n(15),s=n(33),l=n(57),f=n(34),p=n(107),d=n(91),h=n(69),y="Object already initialized",v=u.TypeError,g=u.WeakMap,b=function(t){return i(t)?o(t):r(t,{})},m=function(t){return function(e){var n;if(!s(e)||(n=o(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}};if(a||p.state){var _=p.state||(p.state=new g),O=c(_.get),w=c(_.has),x=c(_.set);r=function(t,e){if(w(_,t))throw new v(y);return e.facade=t,x(_,t,e),e},o=function(t){return O(_,t)||{}},i=function(t){return w(_,t)}}else{var E=d("state");h[E]=!0,r=function(t,e){if(f(t,E))throw new v(y);return e.facade=t,l(t,E,e),e},o=function(t){return f(t,E)?t[E]:{}},i=function(t){return f(t,E)}}t.exports={set:r,get:o,has:i,enforce:b,getterFor:m}},function(t,e,n){var r=n(36),o=n(37),i=n(71);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(15);t.exports=r({}.isPrototypeOf)},function(t,e,n){var r=n(55);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},function(t,e,n){"use strict";var r=n(173),o=n(177);r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){"use strict";var r=n(87),o=n(37),i=n(71);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){var r=n(15),o=n(55),i=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?i(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(16),o=n(214),i=n(83);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e){t.exports=!1},function(t,e,n){var r,o,i=n(7),a=n(53),u=i.process,c=i.Deno,s=u&&u.versions||c&&c.version,l=s&&s.v8;l&&(r=l.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),t.exports=o},function(t,e,n){var r=n(131),o=n(110);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(68),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){var e=+t;return e!==e||0===e?0:(e>0?r:n)(e)}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(131),o=n(110),i=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(37).f,o=n(34),i=n(27),a=i("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e,n){var r=n(62),o=n(15),i=n(81),a=n(38),u=n(43),c=n(119),s=o([].push),l=function(t){var e=1==t,n=2==t,o=3==t,l=4==t,f=6==t,p=7==t,d=5==t||f;return function(h,y,v,g){for(var b,m,_=a(h),O=i(_),w=r(y,v),x=u(O),E=0,j=g||c,S=e?j(h,x):n||p?j(h,0):void 0;x>E;E++)if((d||E in O)&&(b=O[E],m=w(b,E,_),t))if(e)S[E]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return E;case 2:s(S,b)}else switch(t){case 4:return!1;case 7:s(S,b)}return f?-1:o||l?l:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(t,e,n){var r=n(18),o=n(27),i=n(65),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e){var n=Function.prototype,r=n.apply,o=n.bind,i=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(o?i.bind(r):function(){return i.apply(r,arguments)})},function(t,e,n){"use strict";var r=n(16),o=n(15),i=n(81),a=n(39),u=n(120),c=o([].join),s=i!=Object,l=u("join",",");r({target:"Array",proto:!0,forced:s||!l},{join:function(t){return c(a(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(76),o=n(35),i=n(15),a=n(122),u=n(154),c=n(32),s=n(45),l=n(156),f=n(123),p=n(90),d=n(40),h=n(59),y=n(113),v=n(124),g=n(102),b=n(151),m=n(18),_=b.UNSUPPORTED_Y,O=4294967295,w=Math.min,x=[].push,E=i(/./.exec),j=i(x),S=i("".slice),P=!m((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=d(s(this)),a=void 0===n?O:n>>>0;if(0===a)return[];if(void 0===t)return[i];if(!u(t))return o(e,i,t,a);var c,l,f,p=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,b=new RegExp(t.source,h+"g");while(c=o(g,b,i)){if(l=b.lastIndex,l>v&&(j(p,S(i,v,c.index)),c.length>1&&c.index<i.length&&r(x,p,y(c,1)),f=c[0].length,v=l,p.length>=a))break;b.lastIndex===c.index&&b.lastIndex++}return v===i.length?!f&&E(b,"")||j(p,""):j(p,S(i,v)),p.length>a?y(p,0,a):p}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:o(e,this,t,n)}:e,[function(e,n){var r=s(this),a=void 0==e?void 0:h(e,t);return a?o(a,e,r,n):o(i,d(r),e,n)},function(t,r){var o=c(this),a=d(t),u=n(i,o,a,r,i!==e);if(u.done)return u.value;var s=l(o,RegExp),h=o.unicode,y=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(_?"g":"y"),g=new s(_?"^(?:"+o.source+")":o,y),b=void 0===r?O:r>>>0;if(0===b)return[];if(0===a.length)return null===v(g,a)?[a]:[];var m=0,x=0,E=[];while(x<a.length){g.lastIndex=_?0:x;var P,k=v(g,_?S(a,x):a);if(null===k||(P=w(p(g.lastIndex+(_?x:0)),a.length))===m)x=f(a,x,h);else{if(j(E,S(a,m,x)),E.length===b)return E;for(var M=1;M<=k.length-1;M++)if(j(E,k[M]),E.length===b)return E;x=m=P}}return j(E,S(a,m)),E}]}),!P,_)},function(t,e,n){"use strict";var r=n(36),o=n(7),i=n(15),a=n(95),u=n(44),c=n(34),s=n(143),l=n(58),f=n(88),p=n(130),d=n(18),h=n(72).f,y=n(51).f,v=n(37).f,g=n(196),b=n(159).trim,m="Number",_=o[m],O=_.prototype,w=o.TypeError,x=i("".slice),E=i("".charCodeAt),j=function(t){var e=p(t,"number");return"bigint"==typeof e?e:S(e)},S=function(t){var e,n,r,o,i,a,u,c,s=p(t,"number");if(f(s))throw w("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=b(s),e=E(s,0),43===e||45===e){if(n=E(s,2),88===n||120===n)return NaN}else if(48===e){switch(E(s,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(i=x(s,2),a=i.length,u=0;u<a;u++)if(c=E(i,u),c<48||c>o)return NaN;return parseInt(i,r)}return+s};if(a(m,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var P,k=function(t){var e=arguments.length<1?0:_(j(t)),n=this;return l(O,n)&&d((function(){g(n)}))?s(Object(e),n,k):e},M=r?h(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),A=0;M.length>A;A++)c(_,P=M[A])&&!c(k,P)&&v(k,P,y(_,P));k.prototype=O,O.constructor=k,u(o,m,k)}},function(t,e,n){var r=n(16);r({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(7),o=n(15),i=n(18),a=n(50),u=r.Object,c=o("".split);t.exports=i((function(){return!u("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?c(t,""):u(t)}:u},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(27),o=n(54),i=n(37),a=r("unscopables"),u=Array.prototype;void 0==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},function(t,e,n){var r=n(64),o=n(107);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(15),o=0,i=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},function(t,e,n){var r=n(7),o=n(33),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(130),o=n(88);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},function(t,e,n){var r=n(7),o=n(46),i=n(28),a=n(58),u=n(128),c=r.Object;t.exports=u?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return i(e)&&a(e.prototype,c(t))}},function(t,e,n){var r=n(7),o=r.String;t.exports=function(t){try{return o(t)}catch(e){return"Object"}}},function(t,e,n){var r=n(68),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(84),o=n(85),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(15),o=n(28),i=n(107),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(36),o=n(34),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=o(i,"name"),c=u&&"something"===function(){}.name,s=u&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:u,PROPER:c,CONFIGURABLE:s}},function(t,e,n){var r=n(18),o=n(28),i=/#|\.prototype\./,a=function(t,e){var n=c[u(t)];return n==l||n!=s&&(o(e)?r(e):!!e)},u=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},s=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},function(t,e,n){var r=n(7),o=n(34),i=n(28),a=n(38),u=n(91),c=n(137),s=u("IE_PROTO"),l=r.Object,f=l.prototype;t.exports=c?l.getPrototypeOf:function(t){var e=a(t);if(o(e,s))return e[s];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof l?f:null}},function(t,e,n){var r=n(15),o=n(32),i=n(172);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},function(t,e,n){var r=n(7),o=n(116),i=n(28),a=n(50),u=n(27),c=u("toStringTag"),s=r.Object,l="Arguments"==a(function(){return arguments}()),f=function(t,e){try{return t[e]}catch(n){}};t.exports=o?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=f(e=s(t),c))?n:l?a(e):"Object"==(r=a(e))&&i(e.callee)?"Arguments":r}},function(t,e,n){var r=n(50);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(15),o=n(18),i=n(28),a=n(98),u=n(46),c=n(92),s=function(){},l=[],f=u("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=r(p.exec),h=!p.exec(s),y=function(t){if(!i(t))return!1;try{return f(s,l,t),!0}catch(e){return!1}},v=function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!d(p,c(t))};t.exports=!f||o((function(){var t;return y(y.call)||!y(Object)||!y((function(){t=!0}))||t}))?v:y},function(t,e,n){var r=n(15);t.exports=r([].slice)},function(t,e,n){"use strict";var r=n(35),o=n(15),i=n(40),a=n(184),u=n(151),c=n(84),s=n(54),l=n(56).get,f=n(185),p=n(186),d=c("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,y=h,v=o("".charAt),g=o("".indexOf),b=o("".replace),m=o("".slice),_=function(){var t=/a/,e=/b*/g;return r(h,t,"a"),r(h,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),O=u.BROKEN_CARET,w=void 0!==/()??/.exec("")[1],x=_||w||O||f||p;x&&(y=function(t){var e,n,o,u,c,f,p,x=this,E=l(x),j=i(t),S=E.raw;if(S)return S.lastIndex=x.lastIndex,e=r(y,S,j),x.lastIndex=S.lastIndex,e;var P=E.groups,k=O&&x.sticky,M=r(a,x),A=x.source,N=0,D=j;if(k&&(M=b(M,"y",""),-1===g(M,"g")&&(M+="g"),D=m(j,x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&"\n"!==v(j,x.lastIndex-1))&&(A="(?: "+A+")",D=" "+D,N++),n=new RegExp("^(?:"+A+")",M)),w&&(n=new RegExp("^"+A+"$(?!\\s)",M)),_&&(o=x.lastIndex),u=r(h,k?n:x,D),k?u?(u.input=m(u.input,N),u[0]=m(u[0],N),u.index=x.lastIndex,x.lastIndex+=u[0].length):x.lastIndex=0:_&&u&&(x.lastIndex=x.global?u.index+u[0].length:o),w&&u&&u.length>1&&r(d,u[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(u[c]=void 0)})),u&&P)for(u.groups=f=s(null),c=0;c<P.length;c++)p=P[c],f[p[0]]=u[p[1]];return u}),t.exports=y},function(t,e,n){"use strict";var r=n(16),o=n(7),i=n(67),a=n(68),u=n(43),c=n(38),s=n(119),l=n(61),f=n(75),p=f("splice"),d=o.TypeError,h=Math.max,y=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var n,r,o,f,p,b,m=c(this),_=u(m),O=i(t,_),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=_-O):(n=w-2,r=y(h(a(e),0),_-O)),_+n-r>v)throw d(g);for(o=s(m,r),f=0;f<r;f++)p=O+f,p in m&&l(o,f,m[p]);if(o.length=r,n<r){for(f=O;f<_-r;f++)p=f+r,b=f+n,p in m?m[b]=m[p]:delete m[b];for(f=_;f>_-r+n;f--)delete m[f-1]}else if(n>r)for(f=_-r;f>O;f--)p=f+r-1,b=f+n-1,p in m?m[b]=m[p]:delete m[b];for(f=0;f<n;f++)m[f+O]=arguments[f+2];return m.length=_-r+n,o}})},function(t,e,n){"use strict";var r=n(16),o=n(201),i=n(202);r({target:"String",proto:!0,forced:i("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e["a"]=n}).call(this,n(82))},function(t,n,r){"use strict";(function(t){var o=r(31),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i,c=u?o["a"].Buffer:void 0,s=c?c.allocUnsafe:void 0;function l(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}n["a"]=l}).call(this,r(121)(t))},function(t,e,n){var r=n(7),o=n(108),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},function(t,e,n){var r=n(7),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(65),o=n(18);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){"use strict";var r=n(16),o=n(35),i=n(64),a=n(94),u=n(28),c=n(171),s=n(96),l=n(97),f=n(73),p=n(57),d=n(44),h=n(27),y=n(70),v=n(136),g=a.PROPER,b=a.CONFIGURABLE,m=v.IteratorPrototype,_=v.BUGGY_SAFARI_ITERATORS,O=h("iterator"),w="keys",x="values",E="entries",j=function(){return this};t.exports=function(t,e,n,a,h,v,S){c(n,e,a);var P,k,M,A=function(t){if(t===h&&R)return R;if(!_&&t in T)return T[t];switch(t){case w:return function(){return new n(this,t)};case x:return function(){return new n(this,t)};case E:return function(){return new n(this,t)}}return function(){return new n(this)}},N=e+" Iterator",D=!1,T=t.prototype,C=T[O]||T["@@iterator"]||h&&T[h],R=!_&&C||A(h),I="Array"==e&&T.entries||C;if(I&&(P=s(I.call(new t)),P!==Object.prototype&&P.next&&(i||s(P)===m||(l?l(P,m):u(P[O])||d(P,O,j)),f(P,N,!0,!0),i&&(y[N]=j))),g&&h==x&&C&&C.name!==x&&(!i&&b?p(T,"name",x):(D=!0,R=function(){return o(C,this)})),h)if(k={values:A(x),keys:v?R:A(w),entries:A(E)},S)for(M in k)(_||D||!(M in T))&&d(T,M,k[M]);else r({target:e,proto:!0,forced:_||D},k);return i&&!S||T[O]===R||d(T,O,R,{name:h}),y[e]=R,k}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(7),o=n(67),i=n(43),a=n(61),u=r.Array,c=Math.max;t.exports=function(t,e,n){for(var r=i(t),s=o(e,r),l=o(void 0===n?r:n,r),f=u(c(l-s,0)),p=0;s<l;s++,p++)a(f,p,t[s]);return f.length=p,f}},function(t,e,n){var r=n(7),o=n(62),i=n(35),a=n(32),u=n(89),c=n(140),s=n(43),l=n(58),f=n(141),p=n(115),d=n(142),h=r.TypeError,y=function(t,e){this.stopped=t,this.result=e},v=y.prototype;t.exports=function(t,e,n){var r,g,b,m,_,O,w,x=n&&n.that,E=!(!n||!n.AS_ENTRIES),j=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),P=o(e,x),k=function(t){return r&&d(r,"normal",t),new y(!0,t)},M=function(t){return E?(a(t),S?P(t[0],t[1],k):P(t[0],t[1])):S?P(t,k):P(t)};if(j)r=t;else{if(g=p(t),!g)throw h(u(t)+" is not iterable");if(c(g)){for(b=0,m=s(t);m>b;b++)if(_=M(t[b]),_&&l(v,_))return _;return new y(!1)}r=f(t,g)}O=r.next;while(!(w=i(O,r)).done){try{_=M(w.value)}catch(A){d(r,"throw",A)}if("object"==typeof _&&_&&l(v,_))return _}return new y(!1)}},function(t,e,n){var r=n(98),o=n(59),i=n(70),a=n(27),u=a("iterator");t.exports=function(t){if(void 0!=t)return o(t,u)||o(t,"@@iterator")||i[r(t)]}},function(t,e,n){var r=n(27),o=r("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},function(t,e,n){var r=n(7),o=n(58),i=r.TypeError;t.exports=function(t,e){if(o(e,t))return t;throw i("Incorrect invocation")}},function(t,e,n){var r=n(27),o=r("iterator"),i=!1;try{var a=0,u={next:function(){return{done:!!a++}},return:function(){i=!0}};u[o]=function(){return this},Array.from(u,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(c){}return n}},function(t,e,n){var r=n(180);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},function(t,e,n){"use strict";var r=n(18);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";n(19);var r=n(15),o=n(44),i=n(102),a=n(18),u=n(27),c=n(57),s=u("species"),l=RegExp.prototype;t.exports=function(t,e,n,f){var p=u(t),d=!a((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=d&&!a((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!d||!h||n){var y=r(/./[p]),v=e(p,""[t],(function(t,e,n,o,a){var u=r(t),c=e.exec;return c===i||c===l.exec?d&&!a?{done:!0,value:y(e,n,o)}:{done:!0,value:u(n,e,o)}:{done:!1}}));o(String.prototype,t,v[0]),o(l,p,v[1])}f&&c(l[p],"sham",!0)}},function(t,e,n){"use strict";var r=n(146).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(7),o=n(35),i=n(32),a=n(28),u=n(50),c=n(102),s=r.TypeError;t.exports=function(t,e){var n=t.exec;if(a(n)){var r=o(n,t,e);return null!==r&&i(r),r}if("RegExp"===u(t))return o(c,t,e);throw s("RegExp#exec called on incompatible receiver")}},function(t,e,n){"use strict";var r=n(76),o=n(35),i=n(15),a=n(122),u=n(18),c=n(32),s=n(28),l=n(68),f=n(90),p=n(40),d=n(45),h=n(123),y=n(59),v=n(197),g=n(124),b=n(27),m=b("replace"),_=Math.max,O=Math.min,w=i([].concat),x=i([].push),E=i("".indexOf),j=i("".slice),S=function(t){return void 0===t?t:String(t)},P=function(){return"$0"==="a".replace(/./,"$0")}(),k=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),M=!u((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));a("replace",(function(t,e,n){var i=k?"$":"$0";return[function(t,n){var r=d(this),i=void 0==t?void 0:y(t,m);return i?o(i,t,r,n):o(e,p(r),t,n)},function(t,o){var a=c(this),u=p(t);if("string"==typeof o&&-1===E(o,i)&&-1===E(o,"$<")){var d=n(e,a,u,o);if(d.done)return d.value}var y=s(o);y||(o=p(o));var b=a.global;if(b){var m=a.unicode;a.lastIndex=0}var P=[];while(1){var k=g(a,u);if(null===k)break;if(x(P,k),!b)break;var M=p(k[0]);""===M&&(a.lastIndex=h(u,f(a.lastIndex),m))}for(var A="",N=0,D=0;D<P.length;D++){k=P[D];for(var T=p(k[0]),C=_(O(l(k.index),u.length),0),R=[],I=1;I<k.length;I++)x(R,S(k[I]));var L=k.groups;if(y){var z=w([T],R,C,u);void 0!==L&&x(z,L);var B=p(r(o,void 0,z))}else B=v(T,u,C,R,L,o);C>=N&&(A+=j(u,N,C)+B,N=C+T.length)}return A+j(u,N)}]}),!M||!P||k)},function(t,e,n){var r=n(50),o=n(7);t.exports="process"==r(o.process)},function(t,e,n){var r=n(16);r({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(109);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(36),o=n(18),i=n(86);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(7),o=n(35),i=n(33),a=n(88),u=n(59),c=n(169),s=n(27),l=r.TypeError,f=s("toPrimitive");t.exports=function(t,e){if(!i(t)||a(t))return t;var n,r=u(t,f);if(r){if(void 0===e&&(e="default"),n=o(r,t,e),!i(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},function(t,e,n){var r=n(15),o=n(34),i=n(39),a=n(132).indexOf,u=n(69),c=r([].push);t.exports=function(t,e){var n,r=i(t),s=0,l=[];for(n in r)!o(u,n)&&o(r,n)&&c(l,n);while(e.length>s)o(r,n=e[s++])&&(~a(l,n)||c(l,n));return l}},function(t,e,n){var r=n(39),o=n(67),i=n(43),a=function(t){return function(e,n,a){var u,c=r(e),s=i(c),l=o(a,s);if(t&&n!=n){while(s>l)if(u=c[l++],u!=u)return!0}else for(;s>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(46);t.exports=r("document","documentElement")},function(t,e,n){var r=n(34),o=n(135),i=n(51),a=n(37);t.exports=function(t,e){for(var n=o(e),u=a.f,c=i.f,s=0;s<n.length;s++){var l=n[s];r(t,l)||u(t,l,c(e,l))}}},function(t,e,n){var r=n(46),o=n(15),i=n(72),a=n(112),u=n(32),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(u(t)),n=a.f;return n?c(e,n(t)):e}},function(t,e,n){"use strict";var r,o,i,a=n(18),u=n(28),c=n(54),s=n(96),l=n(44),f=n(27),p=n(64),d=f("iterator"),h=!1;[].keys&&(i=[].keys(),"next"in i?(o=s(s(i)),o!==Object.prototype&&(r=o)):h=!0);var y=void 0==r||a((function(){var t={};return r[d].call(t)!==t}));y?r={}:p&&(r=c(r)),u(r[d])||l(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(18);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(16),o=n(15),i=n(69),a=n(33),u=n(34),c=n(37).f,s=n(72),l=n(139),f=n(174),p=n(85),d=n(176),h=!1,y=p("meta"),v=0,g=function(t){c(t,y,{value:{objectID:"O"+v++,weakData:{}}})},b=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!u(t,y)){if(!f(t))return"F";if(!e)return"E";g(t)}return t[y].objectID},m=function(t,e){if(!u(t,y)){if(!f(t))return!0;if(!e)return!1;g(t)}return t[y].weakData},_=function(t){return d&&h&&f(t)&&!u(t,y)&&g(t),t},O=function(){w.enable=function(){},h=!0;var t=s.f,e=o([].splice),n={};n[y]=1,t(n).length&&(s.f=function(n){for(var r=t(n),o=0,i=r.length;o<i;o++)if(r[o]===y){e(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},w=t.exports={enable:O,fastKey:b,getWeakData:m,onFreeze:_};i[y]=!0},function(t,e,n){var r=n(50),o=n(39),i=n(72).f,a=n(113),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(e){return a(u)}};t.exports.f=function(t){return u&&"Window"==r(t)?c(t):i(o(t))}},function(t,e,n){var r=n(27),o=n(70),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(7),o=n(35),i=n(55),a=n(32),u=n(89),c=n(115),s=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?c(t):e;if(i(n))return a(o(n,t));throw s(u(t)+" is not iterable")}},function(t,e,n){var r=n(35),o=n(32),i=n(59);t.exports=function(t,e,n){var a,u;o(t);try{if(a=i(t,"return"),!a){if("throw"===e)throw n;return n}a=r(a,t)}catch(c){u=!0,a=c}if("throw"===e)throw n;if(u)throw a;return o(a),n}},function(t,e,n){var r=n(28),o=n(33),i=n(97);t.exports=function(t,e,n){var a,u;return i&&r(a=e.constructor)&&a!==n&&o(u=a.prototype)&&u!==n.prototype&&i(t,u),t}},function(t,e,n){var r=n(44);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r=n(46),o=n(37),i=n(27),a=n(36),u=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[u]&&n(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(15),o=n(68),i=n(40),a=n(45),u=r("".charAt),c=r("".charCodeAt),s=r("".slice),l=function(t){return function(e,n){var r,l,f=i(a(e)),p=o(n),d=f.length;return p<0||p>=d?t?"":void 0:(r=c(f,p),r<55296||r>56319||p+1===d||(l=c(f,p+1))<56320||l>57343?t?u(f,p):r:t?s(f,p,p+2):l-56320+(r-55296<<10)+65536)}};t.exports={codeAt:l(!1),charAt:l(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(86),o=r("span").classList,i=o&&o.constructor&&o.constructor.prototype;t.exports=i===Object.prototype?void 0:i},function(t,e,n){var r=n(27);e.f=r},function(t,e,n){var r=n(181),o=n(34),i=n(149),a=n(37).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){var r=n(18),o=n(7),i=o.RegExp,a=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),u=a||r((function(){return!i("a","y").sticky})),c=a||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:u,UNSUPPORTED_Y:a}},function(t,e,n){"use strict";var r=n(16),o=n(132).includes,i=n(83);r({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){"use strict";var r=n(16),o=n(15),i=n(193),a=n(45),u=n(40),c=n(194),s=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~s(u(a(this)),u(i(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(33),o=n(50),i=n(27),a=i("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}})();var s,l=[],f=!1,p=-1;function d(){f&&s&&(f=!1,s.length?l=s.concat(l):p=-1,l.length&&h())}function h(){if(!f){var t=u(d);f=!0;var e=l.length;while(e){s=l,l=[];while(++p<e)s&&s[p].run();p=-1,e=l.length}s=null,f=!1,c(t)}}function y(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new y(t,e)),1!==l.length||f||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(32),o=n(157),i=n(27),a=i("species");t.exports=function(t,e){var n,i=r(t).constructor;return void 0===i||void 0==(n=r(i)[a])?e:o(n)}},function(t,e,n){var r=n(7),o=n(100),i=n(89),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a constructor")}},function(t,e,n){"use strict";var r=n(16),o=n(159).trim,i=n(195);r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return o(this)}})},function(t,e,n){var r=n(15),o=n(45),i=n(40),a=n(160),u=r("".replace),c="["+a+"]",s=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(t){return function(e){var n=i(o(e));return 1&t&&(n=u(n,s,"")),2&t&&(n=u(n,l,"")),n}};t.exports={start:f(1),end:f(2),trim:f(3)}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(35),o=n(122),i=n(32),a=n(90),u=n(40),c=n(45),s=n(59),l=n(123),f=n(124);o("match",(function(t,e,n){return[function(e){var n=c(this),o=void 0==e?void 0:s(e,t);return o?r(o,e,n):new RegExp(e)[t](u(n))},function(t){var r=i(this),o=u(t),c=n(e,r,o);if(c.done)return c.value;if(!r.global)return f(r,o);var s=r.unicode;r.lastIndex=0;var p,d=[],h=0;while(null!==(p=f(r,o))){var y=u(p[0]);d[h]=y,""===y&&(r.lastIndex=l(o,a(r.lastIndex),s)),h++}return 0===h?null:d}]}))},function(t,e,n){var r,o,i,a,u=n(7),c=n(76),s=n(62),l=n(28),f=n(34),p=n(18),d=n(133),h=n(101),y=n(86),v=n(163),g=n(126),b=u.setImmediate,m=u.clearImmediate,_=u.process,O=u.Dispatch,w=u.Function,x=u.MessageChannel,E=u.String,j=0,S={},P="onreadystatechange";try{r=u.location}catch(D){}var k=function(t){if(f(S,t)){var e=S[t];delete S[t],e()}},M=function(t){return function(){k(t)}},A=function(t){k(t.data)},N=function(t){u.postMessage(E(t),r.protocol+"//"+r.host)};b&&m||(b=function(t){var e=h(arguments,1);return S[++j]=function(){c(l(t)?t:w(t),void 0,e)},o(j),j},m=function(t){delete S[t]},g?o=function(t){_.nextTick(M(t))}:O&&O.now?o=function(t){O.now(M(t))}:x&&!v?(i=new x,a=i.port2,i.port1.onmessage=A,o=s(a.postMessage,a)):u.addEventListener&&l(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!p(N)?(o=N,u.addEventListener("message",A,!1)):o=P in y("script")?function(t){d.appendChild(y("script"))[P]=function(){d.removeChild(this),k(t)}}:function(t){setTimeout(M(t),0)}),t.exports={set:b,clear:m}},function(t,e,n){var r=n(53);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(t,e,n){"use strict";var r=n(55),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";function r(){return!1}e["a"]=r},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return _}));var r=n(0);function o(t){throw new Error("[mobx-utils] "+t)}function i(t,e){void 0===e&&(e="Illegal state"),t||o(e)}var a=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(a(Object.getPrototypeOf(t))||[])},u=function(t){var e=a(t),n=e.filter((function(t,n){return e.indexOf(t)===n}));return n},c=function(t){return u(t).filter((function(t){return"constructor"!==t&&!~t.indexOf("__")}))},s="pending",l="fulfilled",f="rejected";function p(t){switch(this.state){case s:return t.pending&&t.pending(this.value);case f:return t.rejected&&t.rejected(this.value);case l:return t.fulfilled?t.fulfilled(this.value):this.value}}function d(t,e){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"===typeof t||"object"===typeof t&&t&&"function"===typeof t.then,"Please pass a promise or function to fromPromise"),!0===t.isPromiseBasedObservable)return t;"function"===typeof t&&(t=new Promise(t));var n=t;t.then(Object(r["k"])("observableFromPromise-resolve",(function(t){n.value=t,n.state=l})),Object(r["k"])("observableFromPromise-reject",(function(t){n.value=t,n.state=f}))),n.isPromiseBasedObservable=!0,n.case=p;var o=e&&e.state===l?e.value:void 0;return Object(r["q"])(n,{value:o,state:s},{},{deep:!1}),n}(function(t){function e(e){void 0===e&&(e=void 0);var n=t(Promise.resolve(e));return n.state=l,n.value=e,n}t.reject=Object(r["k"])("fromPromise.reject",(function(e){var n=t(Promise.reject(e));return n.state=f,n.value=e,n})),t.resolve=Object(r["k"])("fromPromise.resolve",e)})(d||(d={}));var h=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};(function(){function t(t,e){var n=this;Object(r["G"])((function(){n.current=e,n.subscription=t.subscribe(n)}))}t.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.next=function(t){this.current=t},t.prototype.complete=function(){this.dispose()},t.prototype.error=function(t){this.current=t,this.dispose()},h([r["C"].ref],t.prototype,"current",void 0),h([r["k"].bound],t.prototype,"next",null),h([r["k"].bound],t.prototype,"complete",null),h([r["k"].bound],t.prototype,"error",null)})();var y=function(){return y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},y.apply(this,arguments)},v=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},g=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function t(t){var e=this;this.model=t,this.localValues=r["C"].map({}),this.localComputedValues=r["C"].map({}),this.isPropertyDirty=function(t){return e.localValues.has(t)},i(Object(r["A"])(t),"createViewModel expects an observable object"),c(t).forEach((function(n){if(n!==r["a"]&&"__mobxDidRunLazyInitializers"!==n){if(i(-1===g.indexOf(n),"The propertyname "+n+" is reserved and cannot be used with viewModels"),Object(r["w"])(t,n)){var o=Object(r["h"])(t,n).derivation;e.localComputedValues.set(n,Object(r["m"])(o.bind(e)))}var a=Object.getOwnPropertyDescriptor(t,n),u=a?{enumerable:a.enumerable}:{};Object.defineProperty(e,n,y(y({},u),{configurable:!0,get:function(){return Object(r["w"])(t,n)?e.localComputedValues.get(n).get():e.isPropertyDirty(n)?e.localValues.get(n):e.model[n]},set:Object(r["k"])((function(t){t!==e.model[n]?e.localValues.set(n,t):e.localValues.delete(n)}))}))}}))}Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var t=this;Object(r["B"])(this.localValues).forEach((function(e){var n=t.localValues.get(e),o=t.model[e];Object(r["y"])(o)?o.replace(n):Object(r["z"])(o)?(o.clear(),o.merge(n)):Object(r["v"])(n)||(t.model[e]=n)})),this.localValues.clear()},t.prototype.reset=function(){this.localValues.clear()},t.prototype.resetProperty=function(t){this.localValues.delete(t)},v([r["m"]],t.prototype,"isDirty",null),v([r["m"]],t.prototype,"changedValues",null),v([r["k"].bound],t.prototype,"submit",null),v([r["k"].bound],t.prototype,"reset",null),v([r["k"].bound],t.prototype,"resetProperty",null)})();function b(t){if(!t)return"ROOT";var e=[];while(t.parent)e.push(t.path),t=t.parent;return e.reverse().join("/")}function m(t){return Object(r["A"])(t)||Object(r["y"])(t)||Object(r["z"])(t)}function _(t,e){var n=new WeakMap;function o(r){var o=n.get(r.object);i(r,o),e(r,b(o),t)}function i(t,e){switch(t.type){case"add":a(t.newValue,e,t.name);break;case"update":u(t.oldValue),a(t.newValue,e,t.name||""+t.index);break;case"remove":case"delete":u(t.oldValue);break;case"splice":t.removed.map(u),t.added.forEach((function(n,r){return a(n,e,""+(t.index+r))}));for(var r=t.index+t.addedCount;r<t.object.length;r++)if(m(t.object[r])){var o=n.get(t.object[r]);o&&(o.path=""+r)}break}}function a(t,e,i){if(m(t)){var u=n.get(t);if(u){if(u.parent!==e||u.path!==i)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+b(e)+"/"+i+"', but it already exists at '"+b(u.parent)+"/"+u.path+"'")}else{var c={parent:e,path:i,dispose:Object(r["D"])(t,o)};n.set(t,c),Object(r["p"])(t).forEach((function(t){var e=t[0],n=t[1];return a(n,c,e)}))}}}function u(t){if(m(t)){var e=n.get(t);if(!e)return;n.delete(t),e.dispose(),Object(r["L"])(t).forEach(u)}}return a(t,void 0,""),function(){u(t)}}var O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=(function(t){function e(e,n,o){var i=void 0===o?{}:o,a=i.name,u=void 0===a?"ogm"+(1e3*Math.random()|0):a,c=i.keyToName,s=void 0===c?function(t){return""+t}:c,l=t.call(this)||this;l._keyToName=s,l._groupBy=n,l._ogmInfoKey=Symbol("ogmInfo"+u),l._base=e;for(var f=0;f<e.length;f++)l._addItem(e[f]);return l._disposeBaseObserver=Object(r["D"])(l._base,(function(t){if("splice"===t.type)Object(r["J"])((function(){for(var e=0,n=t.removed;e<n.length;e++){var r=n[e];l._removeItem(r)}for(var o=0,i=t.added;o<i.length;o++){var a=i[o];l._addItem(a)}}));else{if("update"!==t.type)throw new Error("illegal state");Object(r["J"])((function(){l._removeItem(t.oldValue),l._addItem(t.newValue)}))}})),l}O(e,t),e.prototype.clear=function(){throw new Error("not supported")},e.prototype.delete=function(t){throw new Error("not supported")},e.prototype.set=function(t,e){throw new Error("not supported")},e.prototype.dispose=function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var e=this._base[t],n=e[this._ogmInfoKey];n.reaction(),delete e[this._ogmInfoKey]}},e.prototype._getGroupArr=function(e){var n=t.prototype.get.call(this,e);return void 0===n&&(n=Object(r["C"])([],{name:"GroupArray["+this._keyToName(e)+"]",deep:!1}),t.prototype.set.call(this,e,n)),n},e.prototype._removeFromGroupArr=function(e,n){var r=t.prototype.get.call(this,e);1===r.length?t.prototype.delete.call(this,e):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},e.prototype._addItem=function(t){var e=this,n=this._groupBy(t),o=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:o.length,reaction:Object(r["F"])((function(){return e._groupBy(t)}),(function(n,r){var o=t[e._ogmInfoKey];e._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=e._getGroupArr(n),a=i.length;i.push(t),o.groupByValue=n,o.groupArrIndex=a}))};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(t)},e.prototype._removeItem=function(t){var e=t[this._ogmInfoKey];this._removeFromGroupArr(e.groupByValue,e.groupArrIndex),e.reaction(),delete t[this._ogmInfoKey]}}(r["b"]),function(){function t(t,e){this.base=t,this.args=e,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=t,r=0;r<this.args.length-1;r++){if(n=n.get(e[r]),!n)break;this.closest=n}this.closestIdx=r}return t.prototype.exists=function(){this.assertNotDisposed();var t=this.args.length;return this.closestIdx>=t-1&&this.closest.has(this.args[t-1])},t.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},t.prototype.set=function(t){this.assertNotDisposed();for(var e=this.args.length,n=this.closest,r=this.closestIdx;r<e-1;r++){var o=new Map;n.set(this.args[r],o),n=o}this.closestIdx=e-1,this.closest=n,n.set(this.args[e-1],t)},t.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var t=this.args.length;this.closest.delete(this.args[t-1]);for(var e=this.root,n=[e],r=0;r<t-1;r++)e=e.get(this.args[r]),n.push(e);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},t.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},t}());(function(){function t(){this.store=new Map,this.argsLength=-1}t.prototype.entry=function(t){if(-1===this.argsLength)this.argsLength=t.length;else if(this.argsLength!==t.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+t.length);return this.last&&(this.last.isDisposed=!0),this.last=new w(this.store,t)}})();new Set,new Set;var x,E=Promise.resolve();x="undefined"!==typeof queueMicrotask?queueMicrotask:"undefined"!==typeof t&&t.nextTick?function(e){t.nextTick(e)}:function(t){setTimeout(t,0)};var j=function(){return new Promise((function(t){x(t)}))}}).call(this,n(155))},function(t,e,n){var r;(function(o,i,a){if(o){for(var u,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)c[111+p]="f"+p;for(p=0;p<=9;++p)c[p+96]=p.toString();j.prototype.bind=function(t,e,n){var r=this;return t=t instanceof Array?t:[t],r._bindMultiple.call(r,t,e,n),r},j.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,(function(){}),e)},j.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},j.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},j.prototype.stopCallback=function(t,e){var n=this;if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(E(e,n.target))return!1;if("composedPath"in t&&"function"===typeof t.composedPath){var r=t.composedPath()[0];r!==t.target&&(e=r)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},j.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},j.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(c[e]=t[e]);u=null},j.init=function(){var t=j(i);for(var e in t)"_"!==e.charAt(0)&&(j[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},j.init(),o.Mousetrap=j,t.exports&&(t.exports=j),r=function(){return j}.call(e,n,e,t),r===a||(t.exports=r)}function d(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function h(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return c[t.which]?c[t.which]:s[t.which]?s[t.which]:String.fromCharCode(t.which).toLowerCase()}function y(t,e){return t.sort().join(",")===e.sort().join(",")}function v(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function g(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function b(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function m(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function _(){if(!u)for(var t in u={},c)t>95&&t<112||c.hasOwnProperty(t)&&(u[c[t]]=t);return u}function O(t,e,n){return n||(n=_()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function w(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function x(t,e){var n,r,o,i=[];for(n=w(t),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),e&&"keypress"!=e&&l[r]&&(r=l[r],i.push("shift")),m(r)&&i.push(r);return e=O(r,i,e),{key:r,modifiers:i,action:e}}function E(t,e){return null!==t&&t!==i&&(t===e||E(t.parentNode,e))}function j(t){var e=this;if(t=t||i,!(e instanceof j))return new j(t);e.target=t,e._callbacks={},e._directMap={};var n,r={},o=!1,a=!1,u=!1;function c(t){t=t||{};var e,n=!1;for(e in r)t[e]?n=!0:r[e]=0;n||(u=!1)}function s(t,n,o,i,a,u){var c,s,l=[],f=o.type;if(!e._callbacks[t])return[];for("keyup"==f&&m(t)&&(n=[t]),c=0;c<e._callbacks[t].length;++c)if(s=e._callbacks[t][c],(i||!s.seq||r[s.seq]==s.level)&&f==s.action&&("keypress"==f&&!o.metaKey&&!o.ctrlKey||y(n,s.modifiers))){var p=!i&&s.combo==a,d=i&&s.seq==i&&s.level==u;(p||d)&&e._callbacks[t].splice(c,1),l.push(s)}return l}function l(t,n,r,o){e.stopCallback(n,n.target||n.srcElement,r,o)||!1===t(n,r)&&(g(n),b(n))}function f(t){"number"!==typeof t.which&&(t.which=t.keyCode);var n=h(t);n&&("keyup"!=t.type||o!==n?e.handleKey(n,v(t),t):o=!1)}function p(){clearTimeout(n),n=setTimeout(c,1e3)}function _(t,e,n,i){function a(e){return function(){u=e,++r[t],p()}}function s(e){l(n,e,t),"keyup"!==i&&(o=h(e)),setTimeout(c,10)}r[t]=0;for(var f=0;f<e.length;++f){var d=f+1===e.length,y=d?s:a(i||x(e[f+1]).action);O(e[f],y,i,t,f)}}function O(t,n,r,o,i){e._directMap[t+":"+r]=n,t=t.replace(/\s+/g," ");var a,u=t.split(" ");u.length>1?_(t,u,n,r):(a=x(t,r),e._callbacks[a.key]=e._callbacks[a.key]||[],s(a.key,a.modifiers,{type:a.action},o,t,i),e._callbacks[a.key][o?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:t}))}e._handleKey=function(t,e,n){var r,o=s(t,e,n),i={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,i[o[r].seq]=1,l(o[r].callback,n,o[r].combo,o[r].seq)}else p||l(o[r].callback,n,o[r].combo);var d="keypress"==n.type&&a;n.type!=u||m(t)||d||c(i),a=p&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)O(t[r],e,n)},d(t,"keypress",f),d(t,"keydown",f),d(t,"keyup",f)}})("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},function(t,e,n){var r=n(36),o=n(37),i=n(32),a=n(39),u=n(66);t.exports=r?Object.defineProperties:function(t,e){i(t);var n,r=a(e),c=u(e),s=c.length,l=0;while(s>l)o.f(t,n=c[l++],r[n]);return t}},function(t,e,n){var r=n(7),o=n(35),i=n(28),a=n(33),u=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&i(n=t.toString)&&!a(r=o(n,t)))return r;if(i(n=t.valueOf)&&!a(r=o(n,t)))return r;if("string"!==e&&i(n=t.toString)&&!a(r=o(n,t)))return r;throw u("Can't convert object to primitive value")}},function(t,e,n){var r=n(7),o=n(28),i=n(92),a=r.WeakMap;t.exports=o(a)&&/native code/.test(i(a))},function(t,e,n){"use strict";var r=n(136).IteratorPrototype,o=n(54),i=n(71),a=n(73),u=n(70),c=function(){return this};t.exports=function(t,e,n,s){var l=e+" Iterator";return t.prototype=o(r,{next:i(+!s,n)}),a(t,l,!1,!0),u[l]=c,t}},function(t,e,n){var r=n(7),o=n(28),i=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw a("Can't set "+i(t)+" as a prototype")}},function(t,e,n){"use strict";var r=n(16),o=n(7),i=n(15),a=n(95),u=n(44),c=n(138),s=n(114),l=n(117),f=n(28),p=n(33),d=n(18),h=n(118),y=n(73),v=n(143);t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),m=g?"set":"add",_=o[t],O=_&&_.prototype,w=_,x={},E=function(t){var e=i(O[t]);u(O,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return b&&!p(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},j=a(t,!f(_)||!(b||O.forEach&&!d((function(){(new _).entries().next()}))));if(j)w=n.getConstructor(e,t,g,m),c.enable();else if(a(t,!0)){var S=new w,P=S[m](b?{}:-0,1)!=S,k=d((function(){S.has(1)})),M=h((function(t){new _(t)})),A=!b&&d((function(){var t=new _,e=5;while(e--)t[m](e,e);return!t.has(-0)}));M||(w=e((function(t,e){l(t,O);var n=v(new _,t,w);return void 0!=e&&s(e,n[m],{that:n,AS_ENTRIES:g}),n})),w.prototype=O,O.constructor=w),(k||A)&&(E("delete"),E("has"),g&&E("get")),(A||P)&&E(m),b&&O.clear&&delete O.clear}return x[t]=w,r({global:!0,forced:w!=_},x),y(w,t),b||n.setStrong(w,t,g),w}},function(t,e,n){var r=n(18),o=n(33),i=n(50),a=n(175),u=Object.isExtensible,c=r((function(){u(1)}));t.exports=c||a?function(t){return!!o(t)&&((!a||"ArrayBuffer"!=i(t))&&(!u||u(t)))}:u},function(t,e,n){var r=n(18);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},function(t,e,n){var r=n(18);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){"use strict";var r=n(37).f,o=n(54),i=n(144),a=n(62),u=n(117),c=n(114),s=n(111),l=n(145),f=n(36),p=n(138).fastKey,d=n(56),h=d.set,y=d.getterFor;t.exports={getConstructor:function(t,e,n,s){var l=t((function(t,r){u(t,d),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=r&&c(r,t[s],{that:t,AS_ENTRIES:n})})),d=l.prototype,v=y(e),g=function(t,e,n){var r,o,i=v(t),a=b(t,e);return a?a.value=n:(i.last=a={index:o=p(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},b=function(t,e){var n,r=v(t),o=p(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(d,{clear:function(){var t=this,e=v(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,f?e.size=0:t.size=0},delete:function(t){var e=this,n=v(e),r=b(e,t);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),f?n.size--:e.size--}return!!r},forEach:function(t){var e,n=v(this),r=a(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),i(d,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),f&&r(d,"size",{get:function(){return v(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",o=y(e),i=y(r);s(t,e,(function(t,e){h(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){var t=i(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){"use strict";var r=n(116),o=n(98);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){"use strict";var r=n(74).forEach,o=n(120),i=o("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(7),o=n(99),i=n(100),a=n(33),u=n(27),c=u("species"),s=r.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,i(e)&&(e===s||o(e.prototype))?e=void 0:a(e)&&(e=e[c],null===e&&(e=void 0))),void 0===e?s:e}},function(t,e,n){var r=n(7);t.exports=r},function(t,e,n){"use strict";var r=n(7),o=n(62),i=n(35),a=n(38),u=n(183),c=n(140),s=n(100),l=n(43),f=n(61),p=n(141),d=n(115),h=r.Array;t.exports=function(t){var e=a(t),n=s(this),r=arguments.length,y=r>1?arguments[1]:void 0,v=void 0!==y;v&&(y=o(y,r>2?arguments[2]:void 0));var g,b,m,_,O,w,x=d(e),E=0;if(!x||this==h&&c(x))for(g=l(e),b=n?new this(g):h(g);g>E;E++)w=v?y(e[E],E):e[E],f(b,E,w);else for(_=p(e,x),O=_.next,b=n?new this:[];!(m=i(O,_)).done;E++)w=v?u(_,y,[m.value,E],!0):m.value,f(b,E,w);return b.length=E,b}},function(t,e,n){var r=n(32),o=n(142);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){o(t,"throw",a)}}},function(t,e,n){"use strict";var r=n(32);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(18),o=n(7),i=o.RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,n){var r=n(18),o=n(7),i=o.RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,n){"use strict";var r=n(16),o=n(15),i=n(55),a=n(38),u=n(43),c=n(40),s=n(18),l=n(188),f=n(120),p=n(189),d=n(190),h=n(65),y=n(191),v=[],g=o(v.sort),b=o(v.push),m=s((function(){v.sort(void 0)})),_=s((function(){v.sort(null)})),O=f("sort"),w=!s((function(){if(h)return h<70;if(!(p&&p>3)){if(d)return!0;if(y)return y<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:e+r,v:n})}for(v.sort((function(t,e){return e.v-t.v})),r=0;r<v.length;r++)e=v[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}})),x=m||!_||!O||!w,E=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}};r({target:"Array",proto:!0,forced:x},{sort:function(t){void 0!==t&&i(t);var e=a(this);if(w)return void 0===t?g(e):g(e,t);var n,r,o=[],c=u(e);for(r=0;r<c;r++)r in e&&b(o,e[r]);l(o,E(t)),n=o.length,r=0;while(r<n)e[r]=o[r++];while(r<c)delete e[r++];return e}})},function(t,e,n){var r=n(113),o=Math.floor,i=function(t,e){var n=t.length,c=o(n/2);return n<8?a(t,e):u(t,i(r(t,0,c),e),i(r(t,c),e),e)},a=function(t,e){var n,r,o=t.length,i=1;while(i<o){r=i,n=t[i];while(r&&e(t[r-1],n)>0)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},u=function(t,e,n,r){var o=e.length,i=n.length,a=0,u=0;while(a<o||u<i)t[a+u]=a<o&&u<i?r(e[a],n[u])<=0?e[a++]:n[u++]:a<o?e[a++]:n[u++];return t};t.exports=i},function(t,e,n){var r=n(53),o=r.match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},function(t,e,n){var r=n(53);t.exports=/MSIE|Trident/.test(r)},function(t,e,n){var r=n(53),o=r.match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},function(t,e,n){"use strict";var r=n(16),o=n(74).find,i=n(83),a="find",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},function(t,e,n){var r=n(7),o=n(154),i=r.TypeError;t.exports=function(t){if(o(t))throw i("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(27),o=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,"/./"[t](e)}catch(r){}}return!1}},function(t,e,n){var r=n(94).PROPER,o=n(18),i=n(160),a="";t.exports=function(t){return o((function(){return!!i[t]()||a[t]()!==a||r&&i[t].name!==t}))}},function(t,e,n){var r=n(15);t.exports=r(1..valueOf)},function(t,e,n){var r=n(15),o=n(38),i=Math.floor,a=r("".charAt),u=r("".replace),c=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,f,p){var d=n+t.length,h=r.length,y=l;return void 0!==f&&(f=o(f),y=s),u(p,y,(function(o,u){var s;switch(a(u,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,d);case"<":s=f[c(u,1,-1)];break;default:var l=+u;if(0===l)return o;if(l>h){var p=i(l/10);return 0===p?o:p<=h?void 0===r[p-1]?a(u,1):r[p-1]+a(u,1):o}s=r[l-1]}return void 0===s?"":s}))}},function(t,e,n){"use strict";var r=n(36),o=n(15),i=n(35),a=n(18),u=n(66),c=n(112),s=n(93),l=n(38),f=n(81),p=Object.assign,d=Object.defineProperty,h=o([].concat);t.exports=!p||a((function(){if(r&&1!==p({b:1},p(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=p({},t)[n]||u(p({},e)).join("")!=o}))?function(t,e){var n=l(t),o=arguments.length,a=1,p=c.f,d=s.f;while(o>a){var y,v=f(arguments[a++]),g=p?h(u(v),p(v)):u(v),b=g.length,m=0;while(b>m)y=g[m++],r&&!i(d,v,y)||(n[y]=v[y])}return n}:p},function(t,e,n){"use strict";var r=n(7),o=n(15),i=n(55),a=n(33),u=n(34),c=n(101),s=r.Function,l=o([].concat),f=o([].join),p={},d=function(t,e,n){if(!u(p,e)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";p[e]=s("C,a","return new C("+f(r,",")+")")}return p[e](t,n)};t.exports=s.bind||function(t){var e=i(this),n=e.prototype,r=c(arguments,1),o=function(){var n=l(r,c(arguments));return this instanceof o?d(e,n.length,n):e.apply(t,n)};return a(n)&&(o.prototype=n),o}},function(t,e,n){var r=n(34);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},function(t,e,n){var r=n(15),o=n(45),i=n(40),a=/"/g,u=r("".replace);t.exports=function(t,e,n,r){var c=i(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+u(i(r),a,"&quot;")+'"'),s+">"+c+"</"+e+">"}},function(t,e,n){var r=n(18);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){var r=n(16),o=Math.hypot,i=Math.abs,a=Math.sqrt,u=!!o&&o(1/0,NaN)!==1/0;r({target:"Math",stat:!0,forced:u},{hypot:function(t,e){var n,r,o=0,u=0,c=arguments.length,s=0;while(u<c)n=i(arguments[u++]),s<n?(r=s/n,o=o*r*r+1,s=n):n>0?(r=n/s,o+=r*r):o+=n;return s===1/0?1/0:s*a(o)}})},function(t,e,n){"use strict";var r,o,i,a,u=n(16),c=n(64),s=n(7),l=n(46),f=n(35),p=n(205),d=n(44),h=n(144),y=n(97),v=n(73),g=n(145),b=n(55),m=n(28),_=n(33),O=n(117),w=n(92),x=n(114),E=n(118),j=n(156),S=n(162).set,P=n(206),k=n(209),M=n(210),A=n(164),N=n(211),D=n(56),T=n(95),C=n(27),R=n(212),I=n(126),L=n(65),z=C("species"),B="Promise",H=D.getterFor(B),F=D.set,G=D.getterFor(B),X=p&&p.prototype,Y=p,U=X,V=s.TypeError,W=s.document,K=s.process,$=A.f,q=$,Z=!!(W&&W.createEvent&&s.dispatchEvent),J=m(s.PromiseRejectionEvent),Q="unhandledrejection",tt="rejectionhandled",et=0,nt=1,rt=2,ot=1,it=2,at=!1,ut=T(B,(function(){var t=w(Y),e=t!==String(Y);if(!e&&66===L)return!0;if(c&&!U["finally"])return!0;if(L>=51&&/native code/.test(t))return!1;var n=new Y((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))},o=n.constructor={};return o[z]=r,at=n.then((function(){}))instanceof r,!at||!e&&R&&!J})),ct=ut||!E((function(t){Y.all(t)["catch"]((function(){}))})),st=function(t){var e;return!(!_(t)||!m(e=t.then))&&e},lt=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;P((function(){var r=t.value,o=t.state==nt,i=0;while(n.length>i){var a,u,c,s=n[i++],l=o?s.ok:s.fail,p=s.resolve,d=s.reject,h=s.domain;try{l?(o||(t.rejection===it&&ht(t),t.rejection=ot),!0===l?a=r:(h&&h.enter(),a=l(r),h&&(h.exit(),c=!0)),a===s.promise?d(V("Promise-chain cycle")):(u=st(a))?f(u,a,p,d):p(a)):d(r)}catch(y){h&&!c&&h.exit(),d(y)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&pt(t)}))}},ft=function(t,e,n){var r,o;Z?(r=W.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},!J&&(o=s["on"+t])?o(r):t===Q&&M("Unhandled promise rejection",n)},pt=function(t){f(S,s,(function(){var e,n=t.facade,r=t.value,o=dt(t);if(o&&(e=N((function(){I?K.emit("unhandledRejection",r,n):ft(Q,n,r)})),t.rejection=I||dt(t)?it:ot,e.error))throw e.value}))},dt=function(t){return t.rejection!==ot&&!t.parent},ht=function(t){f(S,s,(function(){var e=t.facade;I?K.emit("rejectionHandled",e):ft(tt,e,t.value)}))},yt=function(t,e,n){return function(r){t(e,r,n)}},vt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=rt,lt(t,!0))},gt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw V("Promise can't be resolved itself");var r=st(e);r?P((function(){var n={done:!1};try{f(r,e,yt(gt,n,t),yt(vt,n,t))}catch(o){vt(n,o,t)}})):(t.value=e,t.state=nt,lt(t,!1))}catch(o){vt({done:!1},o,t)}}};if(ut&&(Y=function(t){O(this,U),b(t),f(r,this);var e=H(this);try{t(yt(gt,e),yt(vt,e))}catch(n){vt(e,n)}},U=Y.prototype,r=function(t){F(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:et,value:void 0})},r.prototype=h(U,{then:function(t,e){var n=G(this),r=n.reactions,o=$(j(this,Y));return o.ok=!m(t)||t,o.fail=m(e)&&e,o.domain=I?K.domain:void 0,n.parent=!0,r[r.length]=o,n.state!=et&&lt(n,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=H(t);this.promise=t,this.resolve=yt(gt,e),this.reject=yt(vt,e)},A.f=$=function(t){return t===Y||t===i?new o(t):q(t)},!c&&m(p)&&X!==Object.prototype)){a=X.then,at||(d(X,"then",(function(t,e){var n=this;return new Y((function(t,e){f(a,n,t,e)})).then(t,e)}),{unsafe:!0}),d(X,"catch",U["catch"],{unsafe:!0}));try{delete X.constructor}catch(bt){}y&&y(X,U)}u({global:!0,wrap:!0,forced:ut},{Promise:Y}),v(Y,B,!1,!0),g(B),i=l(B),u({target:B,stat:!0,forced:ut},{reject:function(t){var e=$(this);return f(e.reject,void 0,t),e.promise}}),u({target:B,stat:!0,forced:c||ut},{resolve:function(t){return k(c&&this===i?Y:this,t)}}),u({target:B,stat:!0,forced:ct},{all:function(t){var e=this,n=$(e),r=n.resolve,o=n.reject,i=N((function(){var n=b(e.resolve),i=[],a=0,u=1;x(t,(function(t){var c=a++,s=!1;u++,f(n,e,t).then((function(t){s||(s=!0,i[c]=t,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=$(e),r=n.reject,o=N((function(){var o=b(e.resolve);x(t,(function(t){f(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(7);t.exports=r.Promise},function(t,e,n){var r,o,i,a,u,c,s,l,f=n(7),p=n(62),d=n(51).f,h=n(162).set,y=n(163),v=n(207),g=n(208),b=n(126),m=f.MutationObserver||f.WebKitMutationObserver,_=f.document,O=f.process,w=f.Promise,x=d(f,"queueMicrotask"),E=x&&x.value;E||(r=function(){var t,e;b&&(t=O.domain)&&t.exit();while(o){e=o.fn,o=o.next;try{e()}catch(n){throw o?a():i=void 0,n}}i=void 0,t&&t.enter()},y||b||g||!m||!_?!v&&w&&w.resolve?(s=w.resolve(void 0),s.constructor=w,l=p(s.then,s),a=function(){l(r)}):b?a=function(){O.nextTick(r)}:(h=p(h,f),a=function(){h(r)}):(u=!0,c=_.createTextNode(""),new m(r).observe(c,{characterData:!0}),a=function(){c.data=u=!u})),t.exports=E||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(53),o=n(7);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},function(t,e,n){var r=n(53);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(32),o=n(33),i=n(164);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t),a=n.resolve;return a(e),n.promise}},function(t,e,n){var r=n(7);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},function(t,e){t.exports="object"==typeof window},function(t,e,n){var r=n(36),o=n(15),i=n(66),a=n(39),u=n(93).f,c=o(u),s=o([].push),l=function(t){return function(e){var n,o=a(e),u=i(o),l=u.length,f=0,p=[];while(l>f)n=u[f++],r&&!c(o,n)||s(p,t?[n,o[n]]:o[n]);return p}};t.exports={entries:l(!0),values:l(!1)}},function(t,e,n){"use strict";var r=n(38),o=n(67),i=n(43);t.exports=function(t){var e=r(this),n=i(e),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,s=void 0===c?n:o(c,n);while(s>u)e[u++]=t;return e}},function(t,e,n){"use strict";n.r(e),n.d(e,"observer",(function(){return LN})),n.d(e,"LogicFlow",(function(){return IN})),n.d(e,"h",(function(){return dt["g"]})),n.d(e,"LogicFlowUtil",(function(){return r})),n.d(e,"BaseNode",(function(){return $E})),n.d(e,"RectNode",(function(){return cj})),n.d(e,"CircleNode",(function(){return Oj})),n.d(e,"PolygonNode",(function(){return Gj})),n.d(e,"DiamondNode",(function(){return eS})),n.d(e,"EllipseNode",(function(){return wS})),n.d(e,"TextNode",(function(){return LS})),n.d(e,"HtmlNode",(function(){return ZS})),n.d(e,"BaseEdge",(function(){return JP})),n.d(e,"LineEdge",(function(){return _k})),n.d(e,"PolylineEdge",(function(){return Zk})),n.d(e,"BezierEdge",(function(){return vM})),n.d(e,"Arrow",(function(){return NM})),n.d(e,"BaseEdgeModel",(function(){return md})),n.d(e,"BezierEdgeModel",(function(){return Xm})),n.d(e,"LineEdgeModel",(function(){return Bd})),n.d(e,"PolylineEdgeModel",(function(){return lh})),n.d(e,"BaseNodeModel",(function(){return j_})),n.d(e,"CircleNodeModel",(function(){return W_})),n.d(e,"DiamondNodeModel",(function(){return OO})),n.d(e,"EllipseNodeModel",(function(){return GO})),n.d(e,"PolygonNodeModel",(function(){return yw})),n.d(e,"RectNodeModel",(function(){return Rw})),n.d(e,"TextNodeModel",(function(){return Qw})),n.d(e,"HtmlNodeModel",(function(){return vx})),n.d(e,"EditConfigModel",(function(){return Ac})),n.d(e,"GraphModel",(function(){return iv})),n.d(e,"SnaplineModel",(function(){return jx})),n.d(e,"Keyboard",(function(){return ON})),n.d(e,"get",(function(){return ym})),n.d(e,"defaults",(function(){return bm}));var r={};n.r(r),n.d(r,"createUuid",(function(){return lp})),n.d(r,"refreshGraphId",(function(){return fp})),n.d(r,"createDrag",(function(){return wy})),n.d(r,"StepDrag",(function(){return Iy}));var o=n(0),i=n(10);if(!i["j"])throw new Error("mobx-react-lite requires React with Hooks support");if(!o["H"])throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var a=n(42),u=Object(a["b"])("observerBatching");function c(t){t()}function s(t){t||(t=c),Object(o["n"])({reactionScheduler:t}),Object(a["a"])()[u]=!0}var l=!1;function f(){return l}function p(t){return Object(o["t"])(t)}function d(t){var e={cleanAt:Date.now()+y,reaction:t};return e}var h,y=1e4,v=1e4,g=new Set;function b(){void 0===h&&(h=setTimeout(O,v))}function m(t){g.add(t),b()}function _(t){g.delete(t)}function O(){h=void 0;var t=Date.now();g.forEach((function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,g.delete(e))})),g.size>0&&b()}var w=!1,x=[];function E(t){return function(){w?x.push(t):t()}}function j(t){w=!0,x=[];try{var e=t();w=!1;var n=x.length>0?x:void 0;return i["d"].useLayoutEffect((function(){n&&n.forEach((function(t){return t()}))}),[n]),e}finally{w=!1}}var S={};function P(t){return"observer"+t}function k(t,e,n){if(void 0===e&&(e="observed"),void 0===n&&(n=S),f())return t();var r=n.useForceUpdate||a["d"],u=r(),c=E(u),s=i["d"].useRef(null);if(!s.current){var l=new o["c"](P(e),(function(){h.mounted?c():(l.dispose(),s.current=null)})),h=d(l);s.current=h,m(s)}var y=s.current.reaction;return i["d"].useDebugValue(y,p),i["d"].useEffect((function(){return _(s),s.current?s.current.mounted=!0:(s.current={reaction:new o["c"](P(e),(function(){c()})),cleanAt:1/0},c()),function(){s.current.reaction.dispose(),s.current=null}}),[]),j((function(){var e,n;if(y.track((function(){try{e=t()}catch(r){n=r}})),n)throw n;return e}))}var M=function(){return M=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},M.apply(this,arguments)};function A(t,e){if(f())return t;var n,r=M({forwardRef:!1},e),o=t.displayName||t.name,a=function(e,n){return k((function(){return t(e,n)}),o)};return a.displayName=o,n=r.forwardRef?Object(i["f"])(Object(i["e"])(a)):Object(i["f"])(a),D(t,n),n.displayName=o,n}var N={$$typeof:!0,render:!0,compare:!0,type:!0};function D(t,e){Object.keys(t).forEach((function(n){N[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}function T(t){var e=t.children,n=t.render,r=e||n;return"function"!==typeof r?null:k(r)}function C(t,e,n,r,o){var i="children"===e?"render":"children",a="function"===typeof t[e],u="function"===typeof t[i];return a&&u?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||u?null:new Error("Invalid prop `"+o+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}T.propTypes={children:C,render:C},T.displayName="Observer";s(i["g"]);var R=0;function I(t){if("function"===typeof Symbol)return Symbol(t);var e="__$mobx-react "+t+" ("+R+")";return R++,e}var L={};function z(t){return L[t]||(L[t]=I(t)),L[t]}function B(t,e){if(H(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(e,n[o])||!H(t[n[o]],e[n[o]]))return!1;return!0}function H(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function F(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var G=z("patchMixins"),X=z("patchedDefinition");function Y(t,e){var n=t[G]=t[G]||{},r=n[e]=n[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function U(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];e.locks++;try{var a;return void 0!==t&&null!==t&&(a=t.apply(this,o)),a}finally{e.locks--,0===e.locks&&e.methods.forEach((function(t){t.apply(n,o)}))}}function V(t,e){var n=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];U.call.apply(U,[this,t,e].concat(r))};return n}function W(t,e,n){var r=Y(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(t,e);if(!o||!o[X]){var i=t[e],a=K(t,e,o?o.enumerable:void 0,r,i);Object.defineProperty(t,e,a)}}function K(t,e,n,r,o){var i,a=V(o,r);return i={},i[X]=!0,i.get=function(){return a},i.set=function(o){if(this===t)a=V(o,r);else{var i=K(this,e,n,r,o);Object.defineProperty(this,e,i)}},i.configurable=!0,i.enumerable=n,i}var $=o["a"]||"$mobx",q=z("isMobXReactObserver"),Z=z("isUnmounted"),J=z("skipRender"),Q=z("isForcingUpdate");function tt(t){var e=t.prototype;if(t[q])et(e);else t[q]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t["__proto__"]!==i["b"])if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==rt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=rt;ot(e,"props"),ot(e,"state");var n=e.render;return e.render=function(){return nt.call(this,n)},W(e,"componentWillUnmount",(function(){var t;if(!0!==f()&&(null===(t=this.render[$])||void 0===t||t.dispose(),this[Z]=!0,!this.render[$]))et(this)})),t}function et(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function nt(t){var e=this;if(!0===f())return t.call(this);F(this,J,!1),F(this,Q,!1);var n=et(this),r=t.bind(this),a=!1,u=new o["c"](n+".render()",(function(){if(!a&&(a=!0,!0!==e[Z])){var t=!0;try{F(e,Q,!0),e[J]||i["a"].prototype.forceUpdate.call(e),t=!1}finally{F(e,Q,!1),t&&u.dispose()}}}));function c(){a=!1;var t=void 0,e=void 0;if(u.track((function(){try{e=Object(o["d"])(!1,r)}catch(n){t=n}})),t)throw t;return e}return u["reactComponent"]=this,c[$]=u,this.render=c,c.call(this)}function rt(t,e){return f(),this.state!==e||!B(this.props,t)}function ot(t,e){var n=z("reactProp_"+e+"_valueHolder"),r=z("reactProp_"+e+"_atomHolder");function i(){return this[r]||F(this,r,Object(o["o"])("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var t=!1;return o["f"]&&o["e"]&&(t=Object(o["f"])(!0)),i.call(this).reportObserved(),o["f"]&&o["e"]&&Object(o["e"])(t),this[n]},set:function(t){this[Q]||B(this[n],t)?F(this,n,t):(F(this,n,t),F(this,J,!0),i.call(this).reportChanged(),F(this,J,!1))}})}var it="function"===typeof Symbol&&Symbol.for,at=it?Symbol.for("react.forward_ref"):"function"===typeof i["e"]&&Object(i["e"])((function(t){return null}))["$$typeof"],ut=it?Symbol.for("react.memo"):"function"===typeof i["f"]&&Object(i["f"])((function(t){return null}))["$$typeof"];function ct(t){if(t["isMobxInjector"],ut&&t["$$typeof"]===ut)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(at&&t["$$typeof"]===at){var e=t["render"];if("function"!==typeof e)throw new Error("render property of ForwardRef was not a function");return Object(i["e"])((function(){var t=arguments;return Object(i["c"])(T,null,(function(){return e.apply(void 0,t)}))}))}return"function"!==typeof t||t.prototype&&t.prototype.render||t["isReactClass"]||Object.prototype.isPrototypeOf.call(i["a"],t)?tt(t):A(t)}function st(){return st=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},st.apply(this,arguments)}function lt(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}var ft=i["d"].createContext({});function pt(t){var e=t.children,n=lt(t,["children"]),r=i["d"].useContext(ft),o=i["d"].useRef(st({},r,n)),a=o.current;return i["d"].createElement(ft.Provider,{value:a},e)}pt.displayName="MobXProvider";if(!i["a"])throw new Error("mobx-react requires React to be available");if(!o["C"])throw new Error("mobx-react requires mobx to be available");var dt=n(1);n(3),n(60),n(2),n(6),n(4),n(11),n(41),n(24),n(20),n(5),n(22),n(21),n(23),n(8),n(9),n(17),n(25),n(19),n(29),n(187),n(192),n(103),n(152),n(153);function ht(t,e){var n=-1,r=null==t?0:t.length,o=Array(r);while(++n<r)o[n]=e(t[n],n,t);return o}var yt=ht;function vt(){this.__data__=[],this.size=0}var gt=vt;function bt(t,e){return t===e||t!==t&&e!==e}var mt=bt;function _t(t,e){var n=t.length;while(n--)if(mt(t[n][0],e))return n;return-1}var Ot=_t,wt=Array.prototype,xt=wt.splice;function Et(t){var e=this.__data__,n=Ot(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():xt.call(e,n,1),--this.size,!0}var jt=Et;function St(t){var e=this.__data__,n=Ot(e,t);return n<0?void 0:e[n][1]}var Pt=St;function kt(t){return Ot(this.__data__,t)>-1}var Mt=kt;function At(t,e){var n=this.__data__,r=Ot(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Nt=At;function Dt(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}Dt.prototype.clear=gt,Dt.prototype["delete"]=jt,Dt.prototype.get=Pt,Dt.prototype.has=Mt,Dt.prototype.set=Nt;var Tt=Dt;function Ct(){this.__data__=new Tt,this.size=0}var Rt=Ct;function It(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}var Lt=It;function zt(t){return this.__data__.get(t)}var Bt=zt;function Ht(t){return this.__data__.has(t)}var Ft=Ht,Gt=n(31),Xt=Gt["a"].Symbol,Yt=Xt,Ut=Object.prototype,Vt=Ut.hasOwnProperty,Wt=Ut.toString,Kt=Yt?Yt.toStringTag:void 0;function $t(t){var e=Vt.call(t,Kt),n=t[Kt];try{t[Kt]=void 0;var r=!0}catch(i){}var o=Wt.call(t);return r&&(e?t[Kt]=n:delete t[Kt]),o}var qt=$t,Zt=Object.prototype,Jt=Zt.toString;function Qt(t){return Jt.call(t)}var te=Qt,ee="[object Null]",ne="[object Undefined]",re=Yt?Yt.toStringTag:void 0;function oe(t){return null==t?void 0===t?ne:ee:re&&re in Object(t)?qt(t):te(t)}var ie=oe;function ae(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var ue=ae,ce="[object AsyncFunction]",se="[object Function]",le="[object GeneratorFunction]",fe="[object Proxy]";function pe(t){if(!ue(t))return!1;var e=ie(t);return e==se||e==le||e==ce||e==fe}var de=pe,he=Gt["a"]["__core-js_shared__"],ye=he,ve=function(){var t=/[^.]+$/.exec(ye&&ye.keys&&ye.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ge(t){return!!ve&&ve in t}var be=ge,me=Function.prototype,_e=me.toString;function Oe(t){if(null!=t){try{return _e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var we=Oe,xe=/[\\^$.*+?()[\]{}|]/g,Ee=/^\[object .+?Constructor\]$/,je=Function.prototype,Se=Object.prototype,Pe=je.toString,ke=Se.hasOwnProperty,Me=RegExp("^"+Pe.call(ke).replace(xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ae(t){if(!ue(t)||be(t))return!1;var e=de(t)?Me:Ee;return e.test(we(t))}var Ne=Ae;function De(t,e){return null==t?void 0:t[e]}var Te=De;function Ce(t,e){var n=Te(t,e);return Ne(n)?n:void 0}var Re=Ce,Ie=Re(Gt["a"],"Map"),Le=Ie,ze=Re(Object,"create"),Be=ze;function He(){this.__data__=Be?Be(null):{},this.size=0}var Fe=He;function Ge(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Xe=Ge,Ye="__lodash_hash_undefined__",Ue=Object.prototype,Ve=Ue.hasOwnProperty;function We(t){var e=this.__data__;if(Be){var n=e[t];return n===Ye?void 0:n}return Ve.call(e,t)?e[t]:void 0}var Ke=We,$e=Object.prototype,qe=$e.hasOwnProperty;function Ze(t){var e=this.__data__;return Be?void 0!==e[t]:qe.call(e,t)}var Je=Ze,Qe="__lodash_hash_undefined__";function tn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Be&&void 0===e?Qe:e,this}var en=tn;function nn(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}nn.prototype.clear=Fe,nn.prototype["delete"]=Xe,nn.prototype.get=Ke,nn.prototype.has=Je,nn.prototype.set=en;var rn=nn;function on(){this.size=0,this.__data__={hash:new rn,map:new(Le||Tt),string:new rn}}var an=on;function un(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var cn=un;function sn(t,e){var n=t.__data__;return cn(e)?n["string"==typeof e?"string":"hash"]:n.map}var ln=sn;function fn(t){var e=ln(this,t)["delete"](t);return this.size-=e?1:0,e}var pn=fn;function dn(t){return ln(this,t).get(t)}var hn=dn;function yn(t){return ln(this,t).has(t)}var vn=yn;function gn(t,e){var n=ln(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var bn=gn;function mn(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}mn.prototype.clear=an,mn.prototype["delete"]=pn,mn.prototype.get=hn,mn.prototype.has=vn,mn.prototype.set=bn;var _n=mn,On=200;function wn(t,e){var n=this.__data__;if(n instanceof Tt){var r=n.__data__;if(!Le||r.length<On-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _n(r)}return n.set(t,e),this.size=n.size,this}var xn=wn;function En(t){var e=this.__data__=new Tt(t);this.size=e.size}En.prototype.clear=Rt,En.prototype["delete"]=Lt,En.prototype.get=Bt,En.prototype.has=Ft,En.prototype.set=xn;var jn=En,Sn="__lodash_hash_undefined__";function Pn(t){return this.__data__.set(t,Sn),this}var kn=Pn;function Mn(t){return this.__data__.has(t)}var An=Mn;function Nn(t){var e=-1,n=null==t?0:t.length;this.__data__=new _n;while(++e<n)this.add(t[e])}Nn.prototype.add=Nn.prototype.push=kn,Nn.prototype.has=An;var Dn=Nn;function Tn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}var Cn=Tn;function Rn(t,e){return t.has(e)}var In=Rn,Ln=1,zn=2;function Bn(t,e,n,r,o,i){var a=n&Ln,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t),l=i.get(e);if(s&&l)return s==e&&l==t;var f=-1,p=!0,d=n&zn?new Dn:void 0;i.set(t,e),i.set(e,t);while(++f<u){var h=t[f],y=e[f];if(r)var v=a?r(y,h,f,e,t,i):r(h,y,f,t,e,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!Cn(e,(function(t,e){if(!In(d,e)&&(h===t||o(h,t,n,r,i)))return d.push(e)}))){p=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){p=!1;break}}return i["delete"](t),i["delete"](e),p}var Hn=Bn,Fn=Gt["a"].Uint8Array,Gn=Fn;function Xn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}var Yn=Xn;function Un(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Vn=Un,Wn=1,Kn=2,$n="[object Boolean]",qn="[object Date]",Zn="[object Error]",Jn="[object Map]",Qn="[object Number]",tr="[object RegExp]",er="[object Set]",nr="[object String]",rr="[object Symbol]",or="[object ArrayBuffer]",ir="[object DataView]",ar=Yt?Yt.prototype:void 0,ur=ar?ar.valueOf:void 0;function cr(t,e,n,r,o,i,a){switch(n){case ir:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case or:return!(t.byteLength!=e.byteLength||!i(new Gn(t),new Gn(e)));case $n:case qn:case Qn:return mt(+t,+e);case Zn:return t.name==e.name&&t.message==e.message;case tr:case nr:return t==e+"";case Jn:var u=Yn;case er:var c=r&Wn;if(u||(u=Vn),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=Kn,a.set(t,e);var l=Hn(u(t),u(e),r,o,i,a);return a["delete"](t),l;case rr:if(ur)return ur.call(t)==ur.call(e)}return!1}var sr=cr;function lr(t,e){var n=-1,r=e.length,o=t.length;while(++n<r)t[o+n]=e[n];return t}var fr=lr,pr=Array.isArray,dr=pr;function hr(t,e,n){var r=e(t);return dr(t)?r:fr(r,n(t))}var yr=hr;function vr(t,e){var n=-1,r=null==t?0:t.length,o=0,i=[];while(++n<r){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}var gr=vr;function br(){return[]}var mr=br,_r=Object.prototype,Or=_r.propertyIsEnumerable,wr=Object.getOwnPropertySymbols,xr=wr?function(t){return null==t?[]:(t=Object(t),gr(wr(t),(function(e){return Or.call(t,e)})))}:mr,Er=xr;function jr(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}var Sr=jr;function Pr(t){return null!=t&&"object"==typeof t}var kr=Pr,Mr="[object Arguments]";function Ar(t){return kr(t)&&ie(t)==Mr}var Nr=Ar,Dr=Object.prototype,Tr=Dr.hasOwnProperty,Cr=Dr.propertyIsEnumerable,Rr=Nr(function(){return arguments}())?Nr:function(t){return kr(t)&&Tr.call(t,"callee")&&!Cr.call(t,"callee")},Ir=Rr,Lr=n(48),zr=9007199254740991,Br=/^(?:0|[1-9]\d*)$/;function Hr(t,e){var n=typeof t;return e=null==e?zr:e,!!e&&("number"==n||"symbol"!=n&&Br.test(t))&&t>-1&&t%1==0&&t<e}var Fr=Hr,Gr=9007199254740991;function Xr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Gr}var Yr=Xr,Ur="[object Arguments]",Vr="[object Array]",Wr="[object Boolean]",Kr="[object Date]",$r="[object Error]",qr="[object Function]",Zr="[object Map]",Jr="[object Number]",Qr="[object Object]",to="[object RegExp]",eo="[object Set]",no="[object String]",ro="[object WeakMap]",oo="[object ArrayBuffer]",io="[object DataView]",ao="[object Float32Array]",uo="[object Float64Array]",co="[object Int8Array]",so="[object Int16Array]",lo="[object Int32Array]",fo="[object Uint8Array]",po="[object Uint8ClampedArray]",ho="[object Uint16Array]",yo="[object Uint32Array]",vo={};function go(t){return kr(t)&&Yr(t.length)&&!!vo[ie(t)]}vo[ao]=vo[uo]=vo[co]=vo[so]=vo[lo]=vo[fo]=vo[po]=vo[ho]=vo[yo]=!0,vo[Ur]=vo[Vr]=vo[oo]=vo[Wr]=vo[io]=vo[Kr]=vo[$r]=vo[qr]=vo[Zr]=vo[Jr]=vo[Qr]=vo[to]=vo[eo]=vo[no]=vo[ro]=!1;var bo=go;function mo(t){return function(e){return t(e)}}var _o=mo,Oo=n(49),wo=Oo["a"]&&Oo["a"].isTypedArray,xo=wo?_o(wo):bo,Eo=xo,jo=Object.prototype,So=jo.hasOwnProperty;function Po(t,e){var n=dr(t),r=!n&&Ir(t),o=!n&&!r&&Object(Lr["a"])(t),i=!n&&!r&&!o&&Eo(t),a=n||r||o||i,u=a?Sr(t.length,String):[],c=u.length;for(var s in t)!e&&!So.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Fr(s,c))||u.push(s);return u}var ko=Po,Mo=Object.prototype;function Ao(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Mo;return t===n}var No=Ao;function Do(t,e){return function(n){return t(e(n))}}var To=Do,Co=To(Object.keys,Object),Ro=Co,Io=Object.prototype,Lo=Io.hasOwnProperty;function zo(t){if(!No(t))return Ro(t);var e=[];for(var n in Object(t))Lo.call(t,n)&&"constructor"!=n&&e.push(n);return e}var Bo=zo;function Ho(t){return null!=t&&Yr(t.length)&&!de(t)}var Fo=Ho;function Go(t){return Fo(t)?ko(t):Bo(t)}var Xo=Go;function Yo(t){return yr(t,Xo,Er)}var Uo=Yo,Vo=1,Wo=Object.prototype,Ko=Wo.hasOwnProperty;function $o(t,e,n,r,o,i){var a=n&Vo,u=Uo(t),c=u.length,s=Uo(e),l=s.length;if(c!=l&&!a)return!1;var f=c;while(f--){var p=u[f];if(!(a?p in e:Ko.call(e,p)))return!1}var d=i.get(t),h=i.get(e);if(d&&h)return d==e&&h==t;var y=!0;i.set(t,e),i.set(e,t);var v=a;while(++f<c){p=u[f];var g=t[p],b=e[p];if(r)var m=a?r(b,g,p,e,t,i):r(g,b,p,t,e,i);if(!(void 0===m?g===b||o(g,b,n,r,i):m)){y=!1;break}v||(v="constructor"==p)}if(y&&!v){var _=t.constructor,O=e.constructor;_==O||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof O&&O instanceof O||(y=!1)}return i["delete"](t),i["delete"](e),y}var qo=$o,Zo=Re(Gt["a"],"DataView"),Jo=Zo,Qo=Re(Gt["a"],"Promise"),ti=Qo,ei=Re(Gt["a"],"Set"),ni=ei,ri=Re(Gt["a"],"WeakMap"),oi=ri,ii="[object Map]",ai="[object Object]",ui="[object Promise]",ci="[object Set]",si="[object WeakMap]",li="[object DataView]",fi=we(Jo),pi=we(Le),di=we(ti),hi=we(ni),yi=we(oi),vi=ie;(Jo&&vi(new Jo(new ArrayBuffer(1)))!=li||Le&&vi(new Le)!=ii||ti&&vi(ti.resolve())!=ui||ni&&vi(new ni)!=ci||oi&&vi(new oi)!=si)&&(vi=function(t){var e=ie(t),n=e==ai?t.constructor:void 0,r=n?we(n):"";if(r)switch(r){case fi:return li;case pi:return ii;case di:return ui;case hi:return ci;case yi:return si}return e});var gi=vi,bi=1,mi="[object Arguments]",_i="[object Array]",Oi="[object Object]",wi=Object.prototype,xi=wi.hasOwnProperty;function Ei(t,e,n,r,o,i){var a=dr(t),u=dr(e),c=a?_i:gi(t),s=u?_i:gi(e);c=c==mi?Oi:c,s=s==mi?Oi:s;var l=c==Oi,f=s==Oi,p=c==s;if(p&&Object(Lr["a"])(t)){if(!Object(Lr["a"])(e))return!1;a=!0,l=!1}if(p&&!l)return i||(i=new jn),a||Eo(t)?Hn(t,e,n,r,o,i):sr(t,e,c,n,r,o,i);if(!(n&bi)){var d=l&&xi.call(t,"__wrapped__"),h=f&&xi.call(e,"__wrapped__");if(d||h){var y=d?t.value():t,v=h?e.value():e;return i||(i=new jn),o(y,v,n,r,i)}}return!!p&&(i||(i=new jn),qo(t,e,n,r,o,i))}var ji=Ei;function Si(t,e,n,r,o){return t===e||(null==t||null==e||!kr(t)&&!kr(e)?t!==t&&e!==e:ji(t,e,n,r,Si,o))}var Pi=Si,ki=1,Mi=2;function Ai(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;t=Object(t);while(o--){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}while(++o<i){u=n[o];var c=u[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new jn;if(r)var p=r(s,l,c,t,e,f);if(!(void 0===p?Pi(l,s,ki|Mi,r,f):p))return!1}}return!0}var Ni=Ai;function Di(t){return t===t&&!ue(t)}var Ti=Di;function Ci(t){var e=Xo(t),n=e.length;while(n--){var r=e[n],o=t[r];e[n]=[r,o,Ti(o)]}return e}var Ri=Ci;function Ii(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}var Li=Ii;function zi(t){var e=Ri(t);return 1==e.length&&e[0][2]?Li(e[0][0],e[0][1]):function(n){return n===t||Ni(n,t,e)}}var Bi=zi,Hi="[object Symbol]";function Fi(t){return"symbol"==typeof t||kr(t)&&ie(t)==Hi}var Gi=Fi,Xi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yi=/^\w*$/;function Ui(t,e){if(dr(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Gi(t))||(Yi.test(t)||!Xi.test(t)||null!=e&&t in Object(e))}var Vi=Ui,Wi="Expected a function";function Ki(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Wi);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Ki.Cache||_n),n}Ki.Cache=_n;var $i=Ki,qi=500;function Zi(t){var e=$i(t,(function(t){return n.size===qi&&n.clear(),t})),n=e.cache;return e}var Ji=Zi,Qi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ta=/\\(\\)?/g,ea=Ji((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Qi,(function(t,n,r,o){e.push(r?o.replace(ta,"$1"):n||t)})),e})),na=ea,ra=1/0,oa=Yt?Yt.prototype:void 0,ia=oa?oa.toString:void 0;function aa(t){if("string"==typeof t)return t;if(dr(t))return yt(t,aa)+"";if(Gi(t))return ia?ia.call(t):"";var e=t+"";return"0"==e&&1/t==-ra?"-0":e}var ua=aa;function ca(t){return null==t?"":ua(t)}var sa=ca;function la(t,e){return dr(t)?t:Vi(t,e)?[t]:na(sa(t))}var fa=la,pa=1/0;function da(t){if("string"==typeof t||Gi(t))return t;var e=t+"";return"0"==e&&1/t==-pa?"-0":e}var ha=da;function ya(t,e){e=fa(e,t);var n=0,r=e.length;while(null!=t&&n<r)t=t[ha(e[n++])];return n&&n==r?t:void 0}var va=ya;function ga(t,e,n){var r=null==t?void 0:va(t,e);return void 0===r?n:r}var ba=ga;function ma(t,e){return null!=t&&e in Object(t)}var _a=ma;function Oa(t,e,n){e=fa(e,t);var r=-1,o=e.length,i=!1;while(++r<o){var a=ha(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:(o=null==t?0:t.length,!!o&&Yr(o)&&Fr(a,o)&&(dr(t)||Ir(t)))}var wa=Oa;function xa(t,e){return null!=t&&wa(t,e,_a)}var Ea=xa,ja=1,Sa=2;function Pa(t,e){return Vi(t)&&Ti(e)?Li(ha(t),e):function(n){var r=ba(n,t);return void 0===r&&r===e?Ea(n,t):Pi(e,r,ja|Sa)}}var ka=Pa;function Ma(t){return t}var Aa=Ma;function Na(t){return function(e){return null==e?void 0:e[t]}}var Da=Na;function Ta(t){return function(e){return va(e,t)}}var Ca=Ta;function Ra(t){return Vi(t)?Da(ha(t)):Ca(t)}var Ia=Ra;function La(t){return"function"==typeof t?t:null==t?Aa:"object"==typeof t?dr(t)?ka(t[0],t[1]):Bi(t):Ia(t)}var za=La;function Ba(t){return function(e,n,r){var o=-1,i=Object(e),a=r(e),u=a.length;while(u--){var c=a[t?u:++o];if(!1===n(i[c],c,i))break}return e}}var Ha=Ba,Fa=Ha(),Ga=Fa;function Xa(t,e){return t&&Ga(t,e,Xo)}var Ya=Xa;function Ua(t,e){return function(n,r){if(null==n)return n;if(!Fo(n))return t(n,r);var o=n.length,i=e?o:-1,a=Object(n);while(e?i--:++i<o)if(!1===r(a[i],i,a))break;return n}}var Va=Ua,Wa=Va(Ya),Ka=Wa;function $a(t,e){var n=-1,r=Fo(t)?Array(t.length):[];return Ka(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}var qa=$a;function Za(t,e){var n=dr(t)?yt:qa;return n(t,za(e,3))}var Ja=Za,Qa=function(){try{var t=Re(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),tu=Qa;function eu(t,e,n){"__proto__"==e&&tu?tu(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var nu=eu,ru=Object.prototype,ou=ru.hasOwnProperty;function iu(t,e,n){var r=t[e];ou.call(t,e)&&mt(r,n)&&(void 0!==n||e in t)||nu(t,e,n)}var au=iu;function uu(t,e,n,r){var o=!n;n||(n={});var i=-1,a=e.length;while(++i<a){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),o?nu(n,u,c):au(n,u,c)}return n}var cu=uu;function su(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var lu=su,fu=Math.max;function pu(t,e,n){return e=fu(void 0===e?t.length-1:e,0),function(){var r=arguments,o=-1,i=fu(r.length-e,0),a=Array(i);while(++o<i)a[o]=r[e+o];o=-1;var u=Array(e+1);while(++o<e)u[o]=r[o];return u[e]=n(a),lu(t,this,u)}}var du=pu;function hu(t){return function(){return t}}var yu=hu,vu=tu?function(t,e){return tu(t,"toString",{configurable:!0,enumerable:!1,value:yu(e),writable:!0})}:Aa,gu=vu,bu=800,mu=16,_u=Date.now;function Ou(t){var e=0,n=0;return function(){var r=_u(),o=mu-(r-n);if(n=r,o>0){if(++e>=bu)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var wu=Ou,xu=wu(gu),Eu=xu;function ju(t,e){return Eu(du(t,e,Aa),t+"")}var Su=ju;function Pu(t,e,n){if(!ue(n))return!1;var r=typeof e;return!!("number"==r?Fo(n)&&Fr(e,n.length):"string"==r&&e in n)&&mt(n[e],t)}var ku=Pu;function Mu(t){return Su((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&ku(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);while(++r<o){var u=n[r];u&&t(e,u,r,i)}return e}))}var Au=Mu,Nu=Object.prototype,Du=Nu.hasOwnProperty,Tu=Au((function(t,e){if(No(e)||Fo(e))cu(e,Xo(e),t);else for(var n in e)Du.call(e,n)&&au(t,n,e[n])})),Cu=Tu;function Ru(t,e,n,r){if(!ue(t))return t;e=fa(e,t);var o=-1,i=e.length,a=i-1,u=t;while(null!=u&&++o<i){var c=ha(e[o]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var l=u[c];s=r?r(l,c,u):void 0,void 0===s&&(s=ue(l)?l:Fr(e[o+1])?[]:{})}au(u,c,s),u=u[c]}return t}var Iu=Ru;function Lu(t,e,n){var r=-1,o=e.length,i={};while(++r<o){var a=e[r],u=va(t,a);n(u,a)&&Iu(i,fa(a,t),u)}return i}var zu=Lu;function Bu(t,e){return zu(t,e,(function(e,n){return Ea(t,n)}))}var Hu=Bu,Fu=Yt?Yt.isConcatSpreadable:void 0;function Gu(t){return dr(t)||Ir(t)||!!(Fu&&t&&t[Fu])}var Xu=Gu;function Yu(t,e,n,r,o){var i=-1,a=t.length;n||(n=Xu),o||(o=[]);while(++i<a){var u=t[i];e>0&&n(u)?e>1?Yu(u,e-1,n,r,o):fr(o,u):r||(o[o.length]=u)}return o}var Uu=Yu;function Vu(t){var e=null==t?0:t.length;return e?Uu(t,1):[]}var Wu=Vu;function Ku(t){return Eu(du(t,void 0,Wu),t+"")}var $u,qu,Zu,Ju,Qu,tc,ec,nc,rc,oc,ic,ac,uc,cc,sc,lc,fc,pc,dc=Ku,hc=dc((function(t,e){return null==t?{}:Hu(t,e)})),yc=hc;function vc(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function gc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mc(t,e,n){return e&&bc(t.prototype,e),n&&bc(t,n),t}function _c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oc(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var wc,xc,Ec,jc,Sc,Pc,kc={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Mc=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Ac=($u=function(){function t(e){gc(this,t),vc(this,"isSilentMode",qu,this),vc(this,"stopZoomGraph",Zu,this),vc(this,"stopScrollGraph",Ju,this),vc(this,"stopMoveGraph",Qu,this),vc(this,"adjustEdge",tc,this),vc(this,"adjustEdgeMiddle",ec,this),vc(this,"adjustEdgeStartAndEnd",nc,this),vc(this,"adjustNodePosition",rc,this),vc(this,"hideAnchors",oc,this),vc(this,"hoverOutline",ic,this),vc(this,"nodeSelectedOutline",ac,this),vc(this,"edgeSelectedOutline",uc,this),vc(this,"nodeTextEdit",cc,this),vc(this,"edgeTextEdit",sc,this),vc(this,"nodeTextDraggable",lc,this),vc(this,"edgeTextDraggable",fc,this),vc(this,"autoExpand",pc,this),_c(this,"multipleSelectKey",""),_c(this,"defaultConfig",{}),Cu(this,this.getConfigDetail(e))}return mc(t,[{key:"updateEditConfig",value:function(t){var e=this.getConfigDetail(t);Cu(this,e)}},{key:"getConfigDetail",value:function(t){var e=t.isSilentMode,n=t.textEdit,r={};if(!1===e&&Cu(r,this.defaultConfig),!0===e){var o=yc(kc,Mc);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Cu(r,o)}!1===n&&Cu(r,{nodeTextEdit:!1,edgeTextEdit:!1});var i=yc(t,Mc);return Cu(r,i)}},{key:"getConfig",value:function(){return yc(this,Mc)}}]),t}(),qu=Oc($u.prototype,"isSilentMode",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zu=Oc($u.prototype,"stopZoomGraph",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ju=Oc($u.prototype,"stopScrollGraph",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qu=Oc($u.prototype,"stopMoveGraph",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tc=Oc($u.prototype,"adjustEdge",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ec=Oc($u.prototype,"adjustEdgeMiddle",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nc=Oc($u.prototype,"adjustEdgeStartAndEnd",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rc=Oc($u.prototype,"adjustNodePosition",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),oc=Oc($u.prototype,"hideAnchors",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ic=Oc($u.prototype,"hoverOutline",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ac=Oc($u.prototype,"nodeSelectedOutline",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uc=Oc($u.prototype,"edgeSelectedOutline",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),cc=Oc($u.prototype,"nodeTextEdit",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sc=Oc($u.prototype,"edgeTextEdit",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lc=Oc($u.prototype,"nodeTextDraggable",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fc=Oc($u.prototype,"edgeTextDraggable",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pc=Oc($u.prototype,"autoExpand",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Oc($u.prototype,"updateEditConfig",[o["k"]],Object.getOwnPropertyDescriptor($u.prototype,"updateEditConfig"),$u.prototype),$u);n(77);(function(t){t[t["DEFAULT"]=1]="DEFAULT",t[t["TEXT_EDIT"]=2]="TEXT_EDIT",t[t["SHOW_MENU"]=3]="SHOW_MENU",t[t["ALLOW_CONNECT"]=4]="ALLOW_CONNECT",t[t["NOT_ALLOW_CONNECT"]=5]="NOT_ALLOW_CONNECT"})(wc||(wc={})),function(t){t["KEY"]="logic-flow",t["NODE_NAME"]="lf-node",t["EDGE_NAME"]="lf-edge"}(xc||(xc={})),function(t){t["NODE"]="node",t["CIRCLE_NODE"]="circle-node",t["POLYGON_NODE"]="polygon-node",t["RECT_NODE"]="rect-node",t["TEXT_NODE"]="text-node",t["ELLIPSE_NODE"]="ellipse-node",t["DIAMOND_NODE"]="diamond-node",t["HTML_NODE"]="html-node",t["EDGE"]="edge",t["LINE_EDGE"]="line-edge",t["POLYLINE_EDGE"]="polyline-edge",t["BEZIER_EDGE"]="bezier-edge",t["GRAPH"]="graph"}(Ec||(Ec={})),function(t){t["NODE"]="node",t["EDGE"]="edge",t["GRAPH"]="graph"}(jc||(jc={})),function(t){t["ELEMENT_CLICK"]="element:click",t["NODE_CLICK"]="node:click",t["NODE_DBCLICK"]="node:dbclick",t["NODE_DELETE"]="node:delete",t["NODE_ADD"]="node:add",t["NODE_DND_ADD"]="node:dnd-add",t["NODE_DND_DRAG"]="node:dnd-drag",t["NODE_MOUSEDOWN"]="node:mousedown",t["NODE_DRAGSTART"]="node:dragstart",t["NODE_DRAG"]="node:drag",t["NODE_DROP"]="node:drop",t["NODE_MOUSEUP"]="node:mouseup",t["NODE_MOUSEMOVE"]="node:mousemove",t["NODE_MOUSEENTER"]="node:mouseenter",t["NODE_MOUSELEAVE"]="node:mouseleave",t["NODE_CONTEXTMENU"]="node:contextmenu",t["EDGE_DELETE"]="edge:delete",t["EDGE_ADD"]="edge:add",t["EDGE_CLICK"]="edge:click",t["EDGE_DBCLICK"]="edge:dbclick",t["EDGE_MOUSEENTER"]="edge:mouseenter",t["EDGE_MOUSELEAVE"]="edge:mouseleave",t["EDGE_CONTEXTMENU"]="edge:contextmenu",t["EDGE_ADJUST"]="edge:adjust",t["EDGE_EXCHANGE_NODE"]="edge:exchange-node",t["ANCHOR_DRAGSTART"]="anchor:dragstart",t["ANCHOR_DRAG"]="anchor:drag",t["ANCHOR_DROP"]="anchor:drop",t["BLANK_MOUSEDOWN"]="blank:mousedown",t["BLANK_DRAGSTART"]="blank:dragstart",t["BLANK_DRAG"]="blank:drag",t["BLANK_DROP"]="blank:drop",t["BLANK_MOUSEMOVE"]="blank:mousemove",t["BLANK_MOUSEUP"]="blank:mouseup",t["BLANK_CLICK"]="blank:click",t["BLANK_CONTEXTMENU"]="blank:contextmenu",t["SELECTION_MOUSEDOWN"]="selection:mousedown",t["SELECTION_DRAGSTART"]="selection:dragstart",t["SELECTION_DRAG"]="selection:drag",t["SELECTION_DROP"]="selection:drop",t["SELECTION_MOUSEMOVE"]="selection:mousemove",t["SELECTION_MOUSEUP"]="selection:mouseup",t["SELECTION_CONTEXTMENU"]="selection:contextmenu",t["CONNECTION_NOT_ALLOWED"]="connection:not-allowed",t["HISTORY_CHANGE"]="history:change",t["TEXT_UPDATE"]="text:update",t["GRAPH_TRANSFORM"]="graph:transform",t["GRAPH_RENDERED"]="graph:rendered"}(Sc||(Sc={})),function(t){t["HORIZONTAL"]="horizontal",t["VERTICAL"]="vertical"}(Pc||(Pc={}));var Nc,Dc,Tc,Cc,Rc,Ic,Lc,zc,Bc,Hc=9999;function Fc(t,e){return Vc(t)||Uc(t,e)||Xc(t,e)||Gc()}function Gc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xc(t,e){if(t){if("string"===typeof t)return Yc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yc(t,e):void 0}}function Yc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uc(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Vc(t){if(Array.isArray(t))return t}function Wc(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Kc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qc(t,e,n){return e&&$c(t.prototype,e),n&&$c(t,n),t}function Zc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jc(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}(function(t){t[t["DEFAULT"]=0]="DEFAULT",t[t["INCREASE"]=1]="INCREASE"})(Nc||(Nc={}));var Qc=(Dc=function(){function t(e){Kc(this,t),Zc(this,"MINI_SCALE_SIZE",.2),Zc(this,"MAX_SCALE_SIZE",16),Wc(this,"SCALE_X",Tc,this),Wc(this,"SKEW_Y",Cc,this),Wc(this,"SKEW_X",Rc,this),Wc(this,"SCALE_Y",Ic,this),Wc(this,"TRANSLATE_X",Lc,this),Wc(this,"TRANSLATE_Y",zc,this),Wc(this,"ZOOM_SIZE",Bc,this),Zc(this,"eventCenter",void 0),this.eventCenter=e}return qc(t,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var e=Fc(t,2),n=e[0],r=e[1];return[(n-this.TRANSLATE_X)/this.SCALE_X,(r-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var e=Fc(t,2),n=e[0],r=e[1];return[n*this.SCALE_X+this.TRANSLATE_X,r*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,e,n){var r=Fc(t,2),o=r[0],i=r[1];return[o+e/this.SCALE_X,i+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,e){return[t/this.SCALE_X,e/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=this.SCALE_X,r=this.SCALE_Y;return!0===t?(n+=this.ZOOM_SIZE,r+=this.ZOOM_SIZE):!1===t?(n-=this.ZOOM_SIZE,r-=this.ZOOM_SIZE):"number"===typeof t&&(n=t,r=t),n<this.MINI_SCALE_SIZE||n>this.MAX_SCALE_SIZE||(e&&(this.TRANSLATE_X-=(n-this.SCALE_X)*e[0],this.TRANSLATE_Y-=(r-this.SCALE_Y)*e[1]),this.SCALE_X=n,this.SCALE_Y=r,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(Sc.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,e){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=e,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,e,n,r){var o=this.CanvasPointToHtmlPoint([t,e]),i=Fc(o,2),a=i[0],u=i[1],c=n/2-a,s=r/2-u;this.TRANSLATE_X+=c,this.TRANSLATE_Y+=s,this.emitGraphTransform("focusOn")}}]),t}(),Tc=Jc(Dc.prototype,"SCALE_X",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Cc=Jc(Dc.prototype,"SKEW_Y",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Rc=Jc(Dc.prototype,"SKEW_X",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ic=Jc(Dc.prototype,"SCALE_Y",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Lc=Jc(Dc.prototype,"TRANSLATE_X",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zc=Jc(Dc.prototype,"TRANSLATE_Y",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bc=Jc(Dc.prototype,"ZOOM_SIZE",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),Jc(Dc.prototype,"zoom",[o["k"]],Object.getOwnPropertyDescriptor(Dc.prototype,"zoom"),Dc.prototype),Jc(Dc.prototype,"resetZoom",[o["k"]],Object.getOwnPropertyDescriptor(Dc.prototype,"resetZoom"),Dc.prototype),Jc(Dc.prototype,"translate",[o["k"]],Object.getOwnPropertyDescriptor(Dc.prototype,"translate"),Dc.prototype),Jc(Dc.prototype,"focusOn",[o["k"]],Object.getOwnPropertyDescriptor(Dc.prototype,"focusOn"),Dc.prototype),Dc);function ts(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}var es=ts;function ns(t,e){return t&&cu(e,Xo(e),t)}var rs=ns;function os(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}var is=os,as=Object.prototype,us=as.hasOwnProperty;function cs(t){if(!ue(t))return is(t);var e=No(t),n=[];for(var r in t)("constructor"!=r||!e&&us.call(t,r))&&n.push(r);return n}var ss=cs;function ls(t){return Fo(t)?ko(t,!0):ss(t)}var fs=ls;function ps(t,e){return t&&cu(e,fs(e),t)}var ds=ps,hs=n(106);function ys(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r)e[n]=t[n];return e}var vs=ys;function gs(t,e){return cu(t,Er(t),e)}var bs=gs,ms=To(Object.getPrototypeOf,Object),_s=ms,Os=Object.getOwnPropertySymbols,ws=Os?function(t){var e=[];while(t)fr(e,Er(t)),t=_s(t);return e}:mr,xs=ws;function Es(t,e){return cu(t,xs(t),e)}var js=Es;function Ss(t){return yr(t,fs,xs)}var Ps=Ss,ks=Object.prototype,Ms=ks.hasOwnProperty;function As(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ms.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Ns=As;function Ds(t){var e=new t.constructor(t.byteLength);return new Gn(e).set(new Gn(t)),e}var Ts=Ds;function Cs(t,e){var n=e?Ts(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Rs=Cs,Is=/\w*$/;function Ls(t){var e=new t.constructor(t.source,Is.exec(t));return e.lastIndex=t.lastIndex,e}var zs=Ls,Bs=Yt?Yt.prototype:void 0,Hs=Bs?Bs.valueOf:void 0;function Fs(t){return Hs?Object(Hs.call(t)):{}}var Gs=Fs;function Xs(t,e){var n=e?Ts(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Ys=Xs,Us="[object Boolean]",Vs="[object Date]",Ws="[object Map]",Ks="[object Number]",$s="[object RegExp]",qs="[object Set]",Zs="[object String]",Js="[object Symbol]",Qs="[object ArrayBuffer]",tl="[object DataView]",el="[object Float32Array]",nl="[object Float64Array]",rl="[object Int8Array]",ol="[object Int16Array]",il="[object Int32Array]",al="[object Uint8Array]",ul="[object Uint8ClampedArray]",cl="[object Uint16Array]",sl="[object Uint32Array]";function ll(t,e,n){var r=t.constructor;switch(e){case Qs:return Ts(t);case Us:case Vs:return new r(+t);case tl:return Rs(t,n);case el:case nl:case rl:case ol:case il:case al:case ul:case cl:case sl:return Ys(t,n);case Ws:return new r;case Ks:case Zs:return new r(t);case $s:return zs(t);case qs:return new r;case Js:return Gs(t)}}var fl=ll,pl=Object.create,dl=function(){function t(){}return function(e){if(!ue(e))return{};if(pl)return pl(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),hl=dl;function yl(t){return"function"!=typeof t.constructor||No(t)?{}:hl(_s(t))}var vl=yl,gl="[object Map]";function bl(t){return kr(t)&&gi(t)==gl}var ml=bl,_l=Oo["a"]&&Oo["a"].isMap,Ol=_l?_o(_l):ml,wl=Ol,xl="[object Set]";function El(t){return kr(t)&&gi(t)==xl}var jl=El,Sl=Oo["a"]&&Oo["a"].isSet,Pl=Sl?_o(Sl):jl,kl=Pl,Ml=1,Al=2,Nl=4,Dl="[object Arguments]",Tl="[object Array]",Cl="[object Boolean]",Rl="[object Date]",Il="[object Error]",Ll="[object Function]",zl="[object GeneratorFunction]",Bl="[object Map]",Hl="[object Number]",Fl="[object Object]",Gl="[object RegExp]",Xl="[object Set]",Yl="[object String]",Ul="[object Symbol]",Vl="[object WeakMap]",Wl="[object ArrayBuffer]",Kl="[object DataView]",$l="[object Float32Array]",ql="[object Float64Array]",Zl="[object Int8Array]",Jl="[object Int16Array]",Ql="[object Int32Array]",tf="[object Uint8Array]",ef="[object Uint8ClampedArray]",nf="[object Uint16Array]",rf="[object Uint32Array]",of={};function af(t,e,n,r,o,i){var a,u=e&Ml,c=e&Al,s=e&Nl;if(n&&(a=o?n(t,r,o,i):n(t)),void 0!==a)return a;if(!ue(t))return t;var l=dr(t);if(l){if(a=Ns(t),!u)return vs(t,a)}else{var f=gi(t),p=f==Ll||f==zl;if(Object(Lr["a"])(t))return Object(hs["a"])(t,u);if(f==Fl||f==Dl||p&&!o){if(a=c||p?{}:vl(t),!u)return c?js(t,ds(a,t)):bs(t,rs(a,t))}else{if(!of[f])return o?t:{};a=fl(t,f,u)}}i||(i=new jn);var d=i.get(t);if(d)return d;i.set(t,a),kl(t)?t.forEach((function(r){a.add(af(r,e,n,r,t,i))})):wl(t)&&t.forEach((function(r,o){a.set(o,af(r,e,n,o,t,i))}));var h=s?c?Ps:Uo:c?fs:Xo,y=l?void 0:h(t);return es(y||t,(function(r,o){y&&(o=r,r=t[o]),au(a,o,af(r,e,n,o,t,i))})),a}of[Dl]=of[Tl]=of[Wl]=of[Kl]=of[Cl]=of[Rl]=of[$l]=of[ql]=of[Zl]=of[Jl]=of[Ql]=of[Bl]=of[Hl]=of[Fl]=of[Gl]=of[Xl]=of[Yl]=of[Ul]=of[tf]=of[ef]=of[nf]=of[rf]=!0,of[Il]=of[Ll]=of[Vl]=!1;var uf=af,cf=1,sf=4;function lf(t){return uf(t,cf|sf)}var ff=lf;function pf(t,e,n){(void 0!==n&&!mt(t[e],n)||void 0===n&&!(e in t))&&nu(t,e,n)}var df=pf;function hf(t){return kr(t)&&Fo(t)}var yf=hf,vf="[object Object]",gf=Function.prototype,bf=Object.prototype,mf=gf.toString,_f=bf.hasOwnProperty,Of=mf.call(Object);function wf(t){if(!kr(t)||ie(t)!=vf)return!1;var e=_s(t);if(null===e)return!0;var n=_f.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&mf.call(n)==Of}var xf=wf;function Ef(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var jf=Ef;function Sf(t){return cu(t,fs(t))}var Pf=Sf;function kf(t,e,n,r,o,i,a){var u=jf(t,n),c=jf(e,n),s=a.get(c);if(s)df(t,n,s);else{var l=i?i(u,c,n+"",t,e,a):void 0,f=void 0===l;if(f){var p=dr(c),d=!p&&Object(Lr["a"])(c),h=!p&&!d&&Eo(c);l=c,p||d||h?dr(u)?l=u:yf(u)?l=vs(u):d?(f=!1,l=Object(hs["a"])(c,!0)):h?(f=!1,l=Ys(c,!0)):l=[]:xf(c)||Ir(c)?(l=u,Ir(u)?l=Pf(u):ue(u)&&!de(u)||(l=vl(c))):f=!1}f&&(a.set(c,l),o(l,c,r,i,a),a["delete"](c)),df(t,n,l)}}var Mf=kf;function Af(t,e,n,r,o){t!==e&&Ga(e,(function(i,a){if(o||(o=new jn),ue(i))Mf(t,e,a,n,Af,r,o);else{var u=r?r(jf(t,a),i,a+"",t,e,o):void 0;void 0===u&&(u=i),df(t,a,u)}}),fs)}var Nf=Af,Df=Au((function(t,e,n){Nf(t,e,n)})),Tf=Df,Cf={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Rf=function(t){var e=ff(Cf);return t&&(e=Tf(e,t)),e};n(78),n(158);function If(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zf(t,e,n){return e&&Lf(t.prototype,e),n&&Lf(t,n),t}function Bf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hf="*",Ff=function(){function t(){If(this,t),Bf(this,"_events",{})}return zf(t,[{key:"on",value:function(t,e,n){var r=this;return null===t||void 0===t||t.split(",").forEach((function(t){t=t.trim(),r._events[t]||(r._events[t]=[]),r._events[t].push({callback:e,once:!!n})})),this}},{key:"once",value:function(t,e){var n=this;null===t||void 0===t||t.split(",").forEach((function(t){return t=t.trim(),n.on(t,e,!0)}))}},{key:"emit",value:function(t,e){var n=this;null===t||void 0===t||t.split(",").forEach((function(t){var r=n._events[t]||[],o=n._events[Hf]||[],i=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],u=a.callback,c=a.once;c&&(r.splice(i,1),0===r.length&&delete n._events[t],o--,i--),u.apply(n,[e])}};i(r),i(o)}))}},{key:"off",value:function(t,e){var n=this;return t||(this._events={}),t.split(",").forEach((function(t){if(e){for(var r=n._events[t]||[],o=r.length,i=0;i<o;i++)r[i].callback===e&&(r.splice(i,1),o--,i--);0===r.length&&delete n._events[t]}else delete n._events[t]})),this}},{key:"getEvents",value:function(){return this._events}}]),t}();function Gf(t,e){return e*Math.round(t/e)||t}function Xf(t,e){return t%e}function Yf(t,e){return $f(t)||Kf(t,e)||Vf(t,e)||Uf()}function Uf(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vf(t,e){if(t){if("string"===typeof t)return Wf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wf(t,e):void 0}}function Wf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kf(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function $f(t){if(Array.isArray(t))return t}var qf,Zf=function(t,e,n){var r=Yf(t,2),o=r[0],i=r[1],a=Yf(e,2),u=a[0],c=a[1],s=Yf(n,2),l=s[0],f=s[1];return o>u&&o<l&&i>c&&i<f},Jf=function(t,e){var n=e.multipleSelectKey,r=!1;switch(n){case"meta":r=t.metaKey;break;case"alt":r=t.altKey;break;case"shift":r=t.shiftKey;break;default:r=!1;break}return r},Qf=(n(79),n(161),n(125),n(80),n(30),n(12),n(13),n(14),n(47),new Uint8Array(16));function tp(){if(!qf&&(qf="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!qf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qf(Qf)}var ep=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function np(t){return"string"===typeof t&&ep.test(t)}for(var rp=np,op=[],ip=0;ip<256;++ip)op.push((ip+256).toString(16).substr(1));function ap(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(op[t[e+0]]+op[t[e+1]]+op[t[e+2]]+op[t[e+3]]+"-"+op[t[e+4]]+op[t[e+5]]+"-"+op[t[e+6]]+op[t[e+7]]+"-"+op[t[e+8]]+op[t[e+9]]+"-"+op[t[e+10]]+op[t[e+11]]+op[t[e+12]]+op[t[e+13]]+op[t[e+14]]+op[t[e+15]]).toLowerCase();if(!rp(n))throw TypeError("Stringified UUID is invalid");return n}var up=ap;function cp(t,e,n){t=t||{};var r=t.random||(t.rng||tp)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return up(r)}var sp=cp,lp=function(){var t=sp();return t},fp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.nodes.reduce((function(t,n){return t[n.id]=e+sp(),n.id=t[n.id],t}),{});return t.edges.forEach((function(t){t.id=e+sp(),t.sourceNodeId=n[t.sourceNodeId],t.targetNodeId=n[t.targetNodeId]})),t},pp=(n(104),n(203),function(t,e,n,r){var o=(e.y-t.y)*(r.x-n.x)-(t.x-e.x)*(n.y-r.y);if(0===o)return!1;var i=((e.x-t.x)*(r.x-n.x)*(n.y-t.y)+(e.y-t.y)*(r.x-n.x)*t.x-(r.y-n.y)*(e.x-t.x)*n.x)/o,a=-((e.y-t.y)*(r.y-n.y)*(n.x-t.x)+(e.x-t.x)*(r.y-n.y)*t.y-(r.x-n.x)*(e.y-t.y)*n.y)/o;return(i-t.x)*(i-e.x)<=0&&(a-t.y)*(a-e.y)<=0&&(i-n.x)*(i-r.x)<=0&&(a-n.y)*(a-r.y)<=0&&{x:i,y:a}}),dp=function(t,e,n){var r=t.x,o=t.y;return(r-e.x)*(r-n.x)<=0&&(o-e.y)*(o-n.y)<=0};function hp(t){return hp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(t)}function yp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yp(Object(n),!0).forEach((function(e){gp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bp,mp,_p,Op,wp,xp,Ep,jp,Sp,Pp,kp,Mp,Ap,Np,Dp,Tp,Cp,Rp,Ip,Lp,zp=function(t){var e=t.anchors;return e},Bp=function(t,e){for(var n,r=e.nodes,o=r.length-1;o>=0;o--){var i=r[o],a=Yp(t,i);if(a){var u=Fp(t,i);if(u){var c={node:i,anchorIndex:u.index,anchor:u.anchor};n&&!Hp(i,n.node,e)||(n=c)}}}return n},Hp=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Fp=function(t,e){for(var n,r=zp(e),o=Number.MAX_SAFE_INTEGER,i=0;i<r.length;i++){var a=Gp(t.x,t.y,r[i].x,r[i].y);a<o&&(o=a,n={index:i,anchor:vp(vp({},r[i]),{},{x:r[i].x,y:r[i].y,id:r[i].id})})}return n},Gp=function(t,e,n,r){return Math.hypot(t-n,e-r)},Xp=function(t,e){var n=!1,r=0,o=Up(e);return t.x>=o.minX-r&&t.x<=o.maxX+r&&t.y>=o.minY-r&&t.y<=o.maxY+r&&(n=!0),n},Yp=function(t,e){var n=!1,r=5,o=Up(e);return t.x>=o.minX-r&&t.x<=o.maxX+r&&t.y>=o.minY-r&&t.y<=o.maxY+r&&(n=!0),n},Up=function(t){var e=t.x,n=t.y,r=t.width,o=t.height,i={minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n};return i},Vp=function(t){var e=t,n=e.x,r=e.y,o=e.width,i=e.height,a=e.radius,u=[{x:n-o/2+a,y:r-i/2+a,r:a},{x:n+o/2-a,y:r-i/2+a,r:a},{x:n-o/2+a,y:r+i/2-a,r:a},{x:n+o/2-a,y:r+i/2-a,r:a}];return u},Wp=function(t,e,n){var r,o=Vp(n),i=Number.MAX_SAFE_INTEGER;o.forEach((function(e){var n=Gp(t.x,t.y,e.x,e.y);n<i&&(i=n,r=e)}));var a=Kp(t,e,r);return a},Kp=function(t,e,n){var r,o=n,i=o.x,a=o.y,u=o.r;if(e===Pc.HORIZONTAL){var c=i-Math.sqrt(u*u-(t.y-a)*(t.y-a)),s=i+Math.sqrt(u*u-(t.y-a)*(t.y-a)),l=Math.abs(c-t.x)<Math.abs(s-t.x)?c:s;r={x:l,y:t.y}}else if(e===Pc.VERTICAL){var f=a-Math.sqrt(u*u-(t.x-i)*(t.x-i)),p=a+Math.sqrt(u*u-(t.x-i)*(t.x-i)),d=Math.abs(f-t.y)<Math.abs(p-t.y)?f:p;r={x:t.x,y:d}}return r},$p=function(t,e){var n=e,r=!1,o={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},i=n.x,a=n.y,u=n.width,c=n.height;return t.y===a+c/2||t.y===a-c/2?r=t.x>o.minX&&t.x<o.maxX:t.x!==i+u/2&&t.x!==i-u/2||(r=t.y>o.minY&&t.y<o.maxY),r},qp=function(t,e,n){var r,o=n,i=o.x,a=o.y,u=o.rx,c=o.ry;if(e===Pc.HORIZONTAL){var s=i-Math.sqrt(u*u-(t.y-a)*(t.y-a)*u*u/(c*c)),l=i+Math.sqrt(u*u-(t.y-a)*(t.y-a)*u*u/(c*c)),f=Math.abs(s-t.x)<Math.abs(l-t.x)?s:l;r={x:f,y:t.y}}else if(e===Pc.VERTICAL){var p=a-Math.sqrt(c*c-(t.x-i)*(t.x-i)*c*c/(u*u)),d=a+Math.sqrt(c*c-(t.x-i)*(t.x-i)*c*c/(u*u)),h=Math.abs(p-t.y)<Math.abs(d-t.y)?p:d;r={x:t.x,y:h}}return r},Zp=function(t,e,n){for(var r,o=n,i=o.pointsPosition,a=Number.MAX_SAFE_INTEGER,u=[],c=0;c<i.length;c++)u.push({start:i[c],end:i[(c+1)%i.length]});return u.forEach((function(n){var o=n.start,i=n.end,u=o,c=i;o.x>i.x&&(u=i,c=o);var s={x:t.x,y:t.y};if(u.x===c.x&&e===Pc.HORIZONTAL&&(s={x:u.x,y:t.y}),u.y===c.y&&e===Pc.VERTICAL&&(s={x:t.x,y:u.y}),u.x!==c.x&&u.y!==c.y){var l=(c.y-u.y)/(c.x-u.x),f=(u.x*c.y-c.x*u.y)/(u.x-c.x);e===Pc.HORIZONTAL?s={x:(t.y-f)/l,y:t.y}:e===Pc.VERTICAL&&(s={x:t.x,y:l*t.x+f})}var p=dp(s,o,i);if(p){var d=Gp(s.x,s.y,t.x,t.y);d<a&&(a=d,r=s)}})),r},Jp=function(t){var e=yc(t,["id","type","x","y","text","properties"]);return e},Qp=function(t,e,n,r){var o=t.x,i=t.y;return e.x>t.x?o=t.x+n/2:e.x<t.x&&(o=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:o,y:i}},td=function(t){var e=t.rows,n=t.style,r=t.rowsLength,o=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=o,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach((function(t){var e=document.createElement("div");e.textContent=t,i.appendChild(e)})):i.textContent=e,document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},ed=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,o=0;return e&&e.forEach((function(t){var e=oy(t);o=e>o?e:o})),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},nd=function(t){return"object"!==hp(t)?{isAllPass:!!t,msg:t?"":""}:t},rd={node:!1,edge:!1},od={node:!0,edge:!0},id={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},ad=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},ud=1e3,cd=999,sd=function(){return++ud},ld=function(){return--cd};function fd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fd(Object(n),!0).forEach((function(e){gd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function hd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vd(t,e,n){return e&&yd(t.prototype,e),n&&yd(t,n),t}function gd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bd(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var md=(bp=function(){function t(e,n){hd(this,t),gd(this,"id",lp()),dd(this,"type",mp,this),dd(this,"sourceNodeId",_p,this),dd(this,"targetNodeId",Op,this),dd(this,"startPoint",wp,this),dd(this,"endPoint",xp,this),dd(this,"text",Ep,this),dd(this,"properties",jp,this),dd(this,"points",Sp,this),dd(this,"pointsList",Pp,this),dd(this,"isSelected",kp,this),dd(this,"isHovered",Mp,this),dd(this,"isHitable",Ap,this),dd(this,"draggable",Np,this),dd(this,"visible",Dp,this),gd(this,"virtual",!1),dd(this,"isAnimation",Tp,this),gd(this,"graphModel",void 0),dd(this,"zIndex",Cp,this),gd(this,"BaseType",jc.EDGE),gd(this,"modelType",Ec.EDGE),dd(this,"state",Rp,this),gd(this,"additionStateData",void 0),gd(this,"sourceAnchorId",""),gd(this,"targetAnchorId",""),gd(this,"menu",void 0),gd(this,"customTextPosition",!1),gd(this,"animationData",id),dd(this,"style",Ip,this),dd(this,"arrowConfig",Lp,this),this.graphModel=n,this.initEdgeData(e),this.setAttributes()}return vd(t,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,n=e&&e(t.type);n&&(t.id=n);var r=this.createId();r&&(t.id=r)}Cu(this,fy(t));var o=this.graphModel.overlapMode;o===Nc.INCREASE&&(this.zIndex=t.zIndex||sd()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return pd(pd({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return ff(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return ff(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return ff(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,e=t.theme.outline;return ff(e)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.sourceNodeId])||void 0===e?void 0:e.model}},{key:"targetNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.targetNodeId])||void 0===e?void 0:e.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,e){var n,r,o=zp(t);return o.forEach((function(t){var o=py(t,e);r?o<r&&(r=o,n=t):(r=o,n=t)})),n}},{key:"getEndAnchor",value:function(t){var e,n,r=this,o=zp(t);return o.forEach((function(t){var o=py(t,r.startPoint);n?o<n&&(n=o,e=t):(n=o,e=t)})),e}},{key:"getProperties",value:function(){return Object(o["I"])(this.properties)}},{key:"getData",value:function(){var t=this.text,e=t.x,n=t.y,r=t.value,i={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(o["I"])(this.properties)};return r&&(i.text={x:e,y:n,value:r}),this.graphModel.overlapMode===Nc.INCREASE&&(i.zIndex=this.zIndex),i}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,e){this.properties[t]=ad(e),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=pd(pd({},this.properties),ad(t)),this.setAttributes()}},{key:"setStyle",value:function(t,e){this.style=pd(pd({},this.style),{},gd({},t,ad(e)))}},{key:"setStyles",value:function(t){this.style=pd(pd({},this.style),ad(t))}},{key:"updateStyles",value:function(t){this.style=pd({},ad(t))}},{key:"formatText",value:function(t){var e=this.textPosition,n=e.x,r=e.y;t.text&&"string"!==typeof t.text?"[object Object]"===Object.prototype.toString.call(t.text)&&(this.text={x:t.text.x||n,y:t.text.y||r,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:t.text||"",x:n,y:r,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var t=this.textPosition,e=t.x,n=t.y;this.text.x=e,this.text.y=n}},{key:"moveText",value:function(t,e){if(this.text){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,u=n.editable;this.text={value:i,draggable:a,x:r+t,y:o+e,editable:u}}}},{key:"setText",value:function(t){t&&Cu(this.text,t)}},{key:"updateText",value:function(t){this.text=pd(pd({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var e=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:e.x,y:e.y}),this.targetAnchorId||(this.targetAnchorId=e.id)}}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){Cu(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint;this.updateStartPoint({x:e.x,y:e.y}),this.updateEndPoint({x:n.x,y:n.y})}}]),t}(),mp=bd(bp.prototype,"type",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_p=bd(bp.prototype,"sourceNodeId",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Op=bd(bp.prototype,"targetNodeId",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wp=bd(bp.prototype,"startPoint",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xp=bd(bp.prototype,"endPoint",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ep=bd(bp.prototype,"text",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),jp=bd(bp.prototype,"properties",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Sp=bd(bp.prototype,"points",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pp=bd(bp.prototype,"pointsList",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kp=bd(bp.prototype,"isSelected",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mp=bd(bp.prototype,"isHovered",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ap=bd(bp.prototype,"isHitable",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Np=bd(bp.prototype,"draggable",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dp=bd(bp.prototype,"visible",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tp=bd(bp.prototype,"isAnimation",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cp=bd(bp.prototype,"zIndex",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Rp=bd(bp.prototype,"state",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ip=bd(bp.prototype,"style",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Lp=bd(bp.prototype,"arrowConfig",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),bd(bp.prototype,"sourceNode",[o["m"]],Object.getOwnPropertyDescriptor(bp.prototype,"sourceNode"),bp.prototype),bd(bp.prototype,"targetNode",[o["m"]],Object.getOwnPropertyDescriptor(bp.prototype,"targetNode"),bp.prototype),bd(bp.prototype,"textPosition",[o["m"]],Object.getOwnPropertyDescriptor(bp.prototype,"textPosition"),bp.prototype),bd(bp.prototype,"setProperty",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setProperty"),bp.prototype),bd(bp.prototype,"setProperties",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setProperties"),bp.prototype),bd(bp.prototype,"setStyle",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setStyle"),bp.prototype),bd(bp.prototype,"setStyles",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setStyles"),bp.prototype),bd(bp.prototype,"updateStyles",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"updateStyles"),bp.prototype),bd(bp.prototype,"formatText",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"formatText"),bp.prototype),bd(bp.prototype,"resetTextPosition",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"resetTextPosition"),bp.prototype),bd(bp.prototype,"moveText",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"moveText"),bp.prototype),bd(bp.prototype,"setText",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setText"),bp.prototype),bd(bp.prototype,"updateText",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"updateText"),bp.prototype),bd(bp.prototype,"setAnchors",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setAnchors"),bp.prototype),bd(bp.prototype,"setSelected",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setSelected"),bp.prototype),bd(bp.prototype,"setHovered",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setHovered"),bp.prototype),bd(bp.prototype,"setHitable",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setHitable"),bp.prototype),bd(bp.prototype,"openEdgeAnimation",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"openEdgeAnimation"),bp.prototype),bd(bp.prototype,"closeEdgeAnimation",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"closeEdgeAnimation"),bp.prototype),bd(bp.prototype,"setElementState",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setElementState"),bp.prototype),bd(bp.prototype,"updateStartPoint",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"updateStartPoint"),bp.prototype),bd(bp.prototype,"moveStartPoint",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"moveStartPoint"),bp.prototype),bd(bp.prototype,"updateEndPoint",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"updateEndPoint"),bp.prototype),bd(bp.prototype,"moveEndPoint",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"moveEndPoint"),bp.prototype),bd(bp.prototype,"setZIndex",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setZIndex"),bp.prototype),bd(bp.prototype,"initPoints",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"initPoints"),bp.prototype),bd(bp.prototype,"updateAttributes",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"updateAttributes"),bp.prototype),bd(bp.prototype,"getAdjustStart",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"getAdjustStart"),bp.prototype),bd(bp.prototype,"getAdjustEnd",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"getAdjustEnd"),bp.prototype),bd(bp.prototype,"updateAfterAdjustStartAndEnd",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"updateAfterAdjustStartAndEnd"),bp.prototype),bp),_d=md;function Od(t){return Od="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(t)}function wd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wd(Object(n),!0).forEach((function(e){Id(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ed(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sd(t,e,n){return e&&jd(t.prototype,e),n&&jd(t,n),t}function Pd(){return Pd="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=kd(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Pd.apply(this,arguments)}function kd(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Rd(t),null===t)break;return t}function Md(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ad(t,e)}function Ad(t,e){return Ad=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ad(t,e)}function Nd(t){var e=Cd();return function(){var n,r=Rd(t);if(e){var o=Rd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dd(this,n)}}function Dd(t,e){if(e&&("object"===Od(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Td(t)}function Td(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cd(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rd(t)}function Id(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ld,zd,Bd=function(t){Md(n,t);var e=Nd(n);function n(){var t;Ed(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),Id(Td(t),"modelType",Ec.LINE_EDGE),t}return Sd(n,[{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.line,e=Pd(Rd(n.prototype),"getEdgeStyle",this).call(this);return xd(xd({},e),ff(t))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),n}(_d);function Hd(t){return Hd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(t)}function Fd(t,e){return Vd(t)||Ud(t,e)||Xd(t,e)||Gd()}function Gd(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xd(t,e){if(t){if("string"===typeof t)return Yd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yd(t,e):void 0}}function Yd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ud(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Vd(t){if(Array.isArray(t))return t}function Wd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wd(Object(n),!0).forEach((function(e){ch(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $d(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function qd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jd(t,e,n){return e&&Zd(t.prototype,e),n&&Zd(t,n),t}function Qd(){return Qd="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=th(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Qd.apply(this,arguments)}function th(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=uh(t),null===t)break;return t}function eh(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nh(t,e)}function nh(t,e){return nh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nh(t,e)}function rh(t){var e=ah();return function(){var n,r=uh(t);if(e){var o=uh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oh(this,n)}}function oh(t,e){if(e&&("object"===Hd(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ih(t)}function ih(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ah(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uh(t)}function ch(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sh(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var lh=(Ld=function(t){eh(n,t);var e=rh(n);function n(){var t;qd(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),ch(ih(t),"modelType",Ec.POLYLINE_EDGE),ch(ih(t),"draginngPointList",void 0),$d(ih(t),"dbClickPosition",zd,ih(t)),t}return Jd(n,[{key:"initEdgeData",value:function(t){this.offset=30,Qd(uh(n.prototype),"initEdgeData",this).call(this,t)}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.polyline,e=Qd(uh(n.prototype),"getEdgeStyle",this).call(this);return Kd(Kd({},e),ff(t))}},{key:"getTextPosition",value:function(){var t,e=null===(t=this.text)||void 0===t?void 0:t.value;if(this.dbClickPosition&&!e){var n=this.dbClickPosition,r=n.x,o=n.y;return{x:r,y:o}}var i=ey(this.points),a=qh(i),u=Fd(a,2),c=u[0],s=u[1];return{x:(c.x+s.x)/2,y:(c.y+s.y)/2}}},{key:"getAfterAnchor",value:function(t,e,n){var r,o;return n.forEach((function(n){var i;t===Pc.HORIZONTAL?i=Math.abs(e.y-n.y):t===Pc.VERTICAL&&(i=Math.abs(e.x-n.x)),(!o||o>i)&&(o=i,r=n)})),r}},{key:"getCorssPoint",value:function(t,e,n){var r;return t===Pc.HORIZONTAL?r={x:n.x,y:e.y}:t===Pc.VERTICAL&&(r={x:e.x,y:n.y}),r}},{key:"removeCrossPoints",value:function(t,e,n){var r=n.map((function(t){return t}));if(1===t){var o=r[t],i=r[e],a=r[t-1],u=Zh(a,o,this.sourceNode);if(u){var c=Jh(o,i,this.sourceNode);if(c){var s=Qh(o,i,this.sourceNode);s&&(r[t]=s,r.splice(t-1,1),t--,e--)}}else{var l=this.sourceNode.anchors;l.forEach((function(e){if(e.x===a.x&&e.x===o.x||e.y===a.y&&e.y===o.y){var n=Gp(e.x,e.y,o.x,o.y),i=Gp(a.x,a.y,o.x,o.y);n<i&&(r[t-1]=e)}}))}}if(e===n.length-2){var f=r[t],p=r[e],d=r[e+1],h=Zh(p,d,this.targetNode);if(h){var y=Jh(f,p,this.targetNode);if(y){var v=Qh(f,p,this.targetNode);v&&(r[e]=v,r.splice(e+1,1))}}else{var g=this.targetNode.anchors;g.forEach((function(t){if(t.x===d.x&&t.x===p.x||t.y===d.y&&t.y===p.y){var n=Gp(t.x,t.y,p.x,p.y),o=Gp(d.x,d.y,p.x,p.y);n<o&&(r[e+1]=t)}}))}}return r}},{key:"getDragingPoints",value:function(t,e,n,r,o){var i=o.map((function(t){return t})),a=this.getAfterAnchor(t,n,r),u=this.getCorssPoint(t,n,a);return"start"===e?(i.unshift(u),i.unshift(a)):(i.push(u),i.push(a)),i}},{key:"updateCrossPoints",value:function(t){var e=t.map((function(t){return t})),n=t[0],r=t[1],o=t[e.length-2],i=t[e.length-1],a=this.sourceNode,u=this.targetNode,c=a.modelType,s=u.modelType,l=ty(n,r),f=e[0];switch(c){case Ec.RECT_NODE:if(0!==a.radius){var p=$p(n,a);p||(f=Wp(n,l,a))}break;case Ec.CIRCLE_NODE:f=Kp(n,l,a);break;case Ec.ELLIPSE_NODE:f=qp(n,l,a);break;case Ec.DIAMOND_NODE:f=Zp(n,l,a);break;case Ec.POLYGON_NODE:f=Zp(n,l,a);break;default:break}e[0]=f;var d=ty(o,i),h=e[e.length-1];switch(s){case Ec.RECT_NODE:if(0!==u.radius){var y=$p(i,u);y||(h=Wp(i,d,u))}break;case Ec.CIRCLE_NODE:h=Kp(i,d,u);break;case Ec.ELLIPSE_NODE:h=qp(i,d,u);break;case Ec.DIAMOND_NODE:h=Zp(i,d,u);break;case Ec.POLYGON_NODE:h=Zp(i,d,u);break;default:break}return e[e.length-1]=h,e}},{key:"getData",value:function(){var t=Qd(uh(n.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){var e=t.x,n=t.y;return{x:e,y:n}}));return Object.assign({},t,{pointsList:e})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var t=$h({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=t,this.points=t.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map((function(t){return t}))}},{key:"dragAppendSimple",value:function(t,e){this.isDragging=!0;var n=t.start,r=t.end,o=t.startIndex,i=t.endIndex,a=t.direction,u=this.pointsList,c=u;return a===Pc.HORIZONTAL?(u[o]={x:n.x,y:n.y+e.y},u[i]={x:r.x,y:r.y+e.y},c=this.pointsList.map((function(t){return t}))):a===Pc.VERTICAL&&(u[o]={x:n.x+e.x,y:n.y},u[i]={x:r.x+e.x,y:r.y},c=this.pointsList.map((function(t){return t}))),this.updatePointsAfterDrage(c),this.draginngPointList=c,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},u[o]),end:Object.assign({},u[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppend",value:function(t,e){this.isDragging=!0;var n=t.start,r=t.end,o=t.startIndex,i=t.endIndex,a=t.direction,u=this.pointsList;if(a===Pc.HORIZONTAL){u[o]={x:n.x,y:n.y+e.y},u[i]={x:r.x,y:r.y+e.y};var c=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(c=this.removeCrossPoints(o,i,c)),0===o){var s={x:n.x,y:n.y+e.y},l=Xp(s,this.sourceNode);if(!l){var f=this.sourceNode.anchors;c=this.getDragingPoints(a,"start",s,f,c)}}if(i===this.pointsList.length-1){var p={x:r.x,y:r.y+e.y},d=Xp(p,this.targetNode);if(!d){var h=this.targetNode.anchors;c=this.getDragingPoints(a,"end",p,h,c)}}c=Kh(c),this.updatePointsAfterDrage(c),this.draginngPointList=c}else if(a===Pc.VERTICAL){u[o]={x:n.x+e.x,y:n.y},u[i]={x:r.x+e.x,y:r.y};var y=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(y=this.removeCrossPoints(o,i,y)),0===o){var v={x:n.x+e.x,y:n.y},g=Xp(v,this.sourceNode);if(!g){var b=this.sourceNode.anchors;y=this.getDragingPoints(a,"start",v,b,y)}}if(i===this.pointsList.length-1){var m={x:r.x+e.x,y:r.y},_=Xp(m,this.targetNode);if(!_){var O=this.targetNode.anchors;y=this.getDragingPoints(a,"end",m,O,y)}}y=Kh(y),this.updatePointsAfterDrage(y),this.draginngPointList=y}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},u[o]),end:Object.assign({},u[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var t=ey(this.points);this.pointsList=t.map((function(t){return t})),this.draginngPointList=[];var e=t[0];this.startPoint=Object.assign({},e);var n=t[t.length-1];this.endPoint=Object.assign({},n)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(t){var e=this.updateCrossPoints(t);this.points=e.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint,r=t.sourceNode,o=t.targetNode,i=$h({x:e.x,y:e.y},{x:n.x,y:n.y},r,o,this.offset||0);this.pointsList=i,this.initPoints()}}]),n}(_d),zd=sh(Ld.prototype,"dbClickPosition",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sh(Ld.prototype,"initPoints",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"initPoints"),Ld.prototype),sh(Ld.prototype,"updatePoints",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"updatePoints"),Ld.prototype),sh(Ld.prototype,"updateStartPoint",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"updateStartPoint"),Ld.prototype),sh(Ld.prototype,"moveStartPoint",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"moveStartPoint"),Ld.prototype),sh(Ld.prototype,"updateEndPoint",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"updateEndPoint"),Ld.prototype),sh(Ld.prototype,"moveEndPoint",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"moveEndPoint"),Ld.prototype),sh(Ld.prototype,"dragAppendStart",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"dragAppendStart"),Ld.prototype),sh(Ld.prototype,"dragAppendSimple",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"dragAppendSimple"),Ld.prototype),sh(Ld.prototype,"dragAppend",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"dragAppend"),Ld.prototype),sh(Ld.prototype,"dragAppendEnd",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"dragAppendEnd"),Ld.prototype),sh(Ld.prototype,"updatePointsAfterDrage",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"updatePointsAfterDrage"),Ld.prototype),sh(Ld.prototype,"getAdjustStart",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"getAdjustStart"),Ld.prototype),sh(Ld.prototype,"getAdjustEnd",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"getAdjustEnd"),Ld.prototype),sh(Ld.prototype,"updateAfterAdjustStartAndEnd",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"updateAfterAdjustStartAndEnd"),Ld.prototype),Ld),fh=function(t){var e=t.start,n=t.end,r=t.offset,o=t.verticalLength,i=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},u=Math.atan((n.y-e.y)/(n.x-e.x)),c=Math.atan(r/o),s=Math.sqrt(o*o+r*r);return"start"===i?n.x>=e.x?(a.leftX=e.x+s*Math.sin(u+c),a.leftY=e.y-s*Math.cos(u+c),a.rightX=e.x-s*Math.sin(u-c),a.rightY=e.y+s*Math.cos(u-c)):(a.leftX=e.x-s*Math.sin(u+c),a.leftY=e.y+s*Math.cos(u+c),a.rightX=e.x+s*Math.sin(u-c),a.rightY=e.y-s*Math.cos(u-c)):"end"===i&&(n.x>=e.x?(a.leftX=n.x+s*Math.sin(u-c),a.leftY=n.y-s*Math.cos(u-c),a.rightX=n.x-s*Math.sin(u+c),a.rightY=n.y+s*Math.cos(u+c)):(a.leftX=n.x-s*Math.sin(u-c),a.leftY=n.y+s*Math.cos(u-c),a.rightX=n.x+s*Math.sin(u+c),a.rightY=n.y-s*Math.cos(u+c))),a};function ph(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ph(Object(n),!0).forEach((function(e){hh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yh(t){return bh(t)||gh(t)||wh(t)||vh()}function vh(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gh(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function bh(t){if(Array.isArray(t))return xh(t)}function mh(t){return mh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(t)}function _h(t,e){return jh(t)||Eh(t,e)||wh(t,e)||Oh()}function Oh(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wh(t,e){if(t){if("string"===typeof t)return xh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xh(t,e):void 0}}function xh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eh(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function jh(t){if(Array.isArray(t))return t}var Sh=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Ph=function(t){var e=[],n={};return t.forEach((function(t){var e="".concat(t.x,"-").concat(t.y);t.id=e,n[e]=t})),Object.keys(n).forEach((function(t){e.push(n[t])})),e},kh=function(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Mh=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?Pc.HORIZONTAL:Pc.VERTICAL},Ah=function(t,e){var n=Mh(e,t);return n===Pc.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Nh=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},Dh=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach((function(t){n.push(t.x),r.push(t.y)}));var o=Math.min.apply(Math,n),i=Math.max.apply(Math,n),a=Math.min.apply(Math,r),u=Math.max.apply(Math,r),c=i-o,s=u-a;return e&&(c+=e,s+=e),{centerX:(o+i)/2,centerY:(a+u)/2,maxX:i,maxY:u,minX:o,minY:a,x:(o+i)/2,y:(a+u)/2,height:s,width:c}},Th=function(t){var e=t.minX,n=t.minY,r=t.maxX,o=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:o},{x:e,y:o}]},Ch=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Rh=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Ih=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Lh=function(t,e){return Rh(t,e.x).concat(Ih(t,e.y))},zh=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Bh=function(t,e){var n=-2,r=0;return e.forEach((function(e){e&&(t.x===e.x&&(r+=n),t.y===e.y&&(r+=n))})),r},Hh=function(t,e,n,r,o){return zh(t,e)+zh(t,n)+Bh(t,[e,n,r,o])},Fh=function t(e,n,r,o,i){i||(i=0),e.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&t(e,n,r,r[o],i+1)},Gh=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Xh=function(t,e,n,r){var o=e.x-t.x,i=e.y-t.y,a=r.x-n.x,u=r.y-n.y,c=(-i*(t.x-n.x)+o*(t.y-n.y))/(-a*i+o*u),s=(a*(t.y-n.y)-u*(t.x-n.x))/(-a*i+o*u);return c>=0&&c<=1&&s>=0&&s<=1},Yh=function(t,e,n){if(0===n.width&&0===n.height)return!1;var r=Th(n),o=_h(r,4),i=o[0],a=o[1],u=o[2],c=o[3];return Xh(t,e,i,a)||Xh(t,e,i,c)||Xh(t,e,a,u)||Xh(t,e,u,c)},Uh=function(t,e,n,r){var o=[];return t.forEach((function(t){t!==e&&(t.x!==e.x&&t.y!==e.y||Yh(t,e,n)||Yh(t,e,r)||o.push(t))})),Ph(o)},Vh=function(t,e,n,r,o,i,a){var u=[],c=[e],s={},l={},f={};l[e.id]=0,f[e.id]=Hh(e,n,e);var p={};t.forEach((function(t){p[t.id]=t}));var d=function(){var d=void 0,h=1/0;if(c.forEach((function(t){f[t.id]<h&&(h=f[t.id],d=t)})),d===n){var y=[];return Fh(y,p,s,n.id),{v:y}}Gh(c,d),u.push(d),Uh(t,d,r,o).forEach((function(t){if(-1===u.indexOf(t)){-1===c.indexOf(t)&&c.push(t);var r=f[d.id]+zh(d,t);l[t.id]&&r>=l[t.id]||(s[t.id]=d.id,l[t.id]=r,f[t.id]=l[t.id]+Hh(t,n,e,i,a))}}))};while(c.length){var h=d();if("object"===mh(h))return h.v}return[e,n]},Wh=function(t){var e=Up(t);return e},Kh=function(t){var e=t,n=1;while(n<e.length-1){var r=e[n-1],o=e[n],i=e[n+1];r.x===o.x&&o.x===i.x||r.y===o.y&&o.y===i.y?e.splice(n,1):n++}return e},$h=function(t,e,n,r,o){var i=Wh(n),a=Wh(r),u=kh(i,o),c=kh(a,o),s=Ah(u,t),l=Ah(c,e);if(Sh(u,c)){var f=ny(t,e,s,l);return[t,s].concat(yh(f),[l,e])}var p=Dh([s,l]),d=Nh(u,p),h=Nh(c,p),y=[];y=y.concat(Th(d)),y=y.concat(Th(h));var v={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[p,d,h].forEach((function(t){y=y.concat(Lh(t,v).filter((function(t){return Ch(t,u)&&Ch(t,c)})))})),[{x:s.x,y:l.y},{x:l.x,y:s.y}].forEach((function(t){Ch(t,u)&&Ch(t,c)&&y.push(t)})),y.unshift(s),y.push(l),y=Ph(y);var g=Vh(y,s,l,i,a,t,e);return g.unshift(t),g.push(e),g.length>2&&(g=Kh(g)),Ph(g)},qh=function(t){var e;if(1===t.length)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],o=Gp(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var a=t[i],u=t[i+1],c=Gp(a.x,a.y,u.x,u.y);c>o&&(o=c,n=a,r=u)}e=[n,r]}return e},Zh=function(t,e,n){var r=Xp(t,n),o=Xp(e,n);return r&&o},Jh=function(t,e,n){var r=Xp(t,n),o=Xp(e,n),i=r&&o,a=r||o;return!i&&a},Qh=function(t,e,n){for(var r,o,i=Up(n),a=Th(i),u=0;u<a.length;u++){var c=Xh(t,e,a[u],a[(u+1)%a.length]);c&&(o=[a[u],a[(u+1)%a.length]])}return o&&(r=pp(t,e,o[0],o[1])),r},ty=function(t,e){var n;return t.x===e.x?n=Pc.VERTICAL:t.y===e.y&&(n=Pc.HORIZONTAL),n},ey=function(t){var e=t.split(" "),n=[];return e&&e.forEach((function(t){var e=t.split(","),r=_h(e,2),o=r[0],i=r[1];n.push({x:Number(o),y:Number(i)})})),n},ny=function(t,e,n,r){var o=[],i=ty(t,n),a=ty(e,r);if(i===a)t.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var u={x:n.x,y:r.y},c=dp(u,t,n),s=dp(u,e,r);if(c||s)u={x:r.x,y:n.y};else{var l=ry(u,t,n),f=ry(u,e,r);l&&f&&(u={x:r.x,y:n.y})}o.push(u)}return o},ry=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},oy=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},iy=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=fh(dh(dh({},o),{},{type:"start"})),a=fh(dh(dh({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},ay=function(t){var e=t.start,n=t.end,r=t.sourceNode,o=t.targetNode,i=t.offset,a=Up(r),u=Up(o),c=kh(a,i),s=kh(u,i),l=Ah(c,e),f=Ah(s,n);return{sNext:l,ePre:f}},uy=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(","),n=cy(e[0]),r=cy(e[1]),o=cy(e[2]),i=cy(e[3]);return[n,r,o,i]},cy=function(t){var e=t.replace(/(^\s*)/g,"").split(" "),n=_h(e,2),r=n[0],o=n[1];return{x:+r,y:+o}},sy=function(t){var e=uy(t);return[e[2],e[3]]},ly=function(t,e){for(var n,r=t.x,o=t.y,i=ey(e),a=Number.MAX_SAFE_INTEGER,u=[],c=0;c<i.length;c++)u.push({start:i[c],end:i[(c+1)%i.length]});if(u.forEach((function(t){var e=t.start,i=t.end;if(e.x===i.x){var u={x:e.x,y:o},c=dp(u,e,i);if(c){var s=Math.abs(e.x-r);s<a&&(a=s,n=u)}}else if(e.y===i.y){var l={x:r,y:e.y},f=dp(l,e,i);if(f){var p=Math.abs(e.y-o);p<a&&(a=p,n=l)}}})),!n){var s=u[0],l=s.start,f=s.end;n={x:l.x+(f.x-l.x)/2,y:l.y+(f.y-l.y)/2}}return n},fy=function(t){return yc(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},py=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function dy(t,e){return"function"!==typeof e?function(e,n,r){return Object.assign({type:t.edgeType},r)}:function(n,r,o){var i=e(n,r,o);return i?"string"===typeof i?Object.assign({},o,{type:i}):Object.assign({type:i},o):{type:t.edgeType}}}n(204);function hy(){}var yy=hy;function vy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function by(t,e,n){return e&&gy(t.prototype,e),n&&gy(t,n),t}function my(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _y=window.document,Oy=0;function wy(t){var e=t.onDragStart,n=void 0===e?yy:e,r=t.onDraging,o=void 0===r?yy:r,i=t.onDragEnd,a=void 0===i?yy:i,u=t.step,c=void 0===u?1:u,s=t.isStopPropagation,l=void 0===s||s,f=!1,p=!1,d=0,h=0,y=0,v=0;function g(t){if(l&&t.stopPropagation(),p&&(f=!0,y+=t.clientX-d,v+=t.clientY-h,d=t.clientX,h=t.clientY,Math.abs(y)>c||Math.abs(v)>c)){var e=y%c,n=v%c,r=y-e,i=v-n;y=e,v=n,o({deltaX:r,deltaY:i,event:t})}}function b(t){if(l&&t.stopPropagation(),p=!1,_y.removeEventListener("mousemove",g,!1),_y.removeEventListener("mouseup",b,!1),f)return f=!1,a({event:t})}function m(t){if(t.button===Oy)return l&&t.stopPropagation(),p=!0,d=t.clientX,h=t.clientY,_y.addEventListener("mousemove",g,!1),_y.addEventListener("mouseup",b,!1),n({event:t})}return m}var xy,Ey,jy,Sy,Py,ky,My,Ay,Ny,Dy,Ty,Cy,Ry,Iy=function(){function t(e){var n=this,r=e.onDragStart,o=void 0===r?yy:r,i=e.onDraging,a=void 0===i?yy:i,u=e.onDragEnd,c=void 0===u?yy:u,s=e.eventType,l=void 0===s?"":s,f=e.eventCenter,p=void 0===f?null:f,d=e.step,h=void 0===d?1:d,y=e.isStopPropagation,v=void 0===y||y,g=e.model,b=void 0===g?null:g;vy(this,t),my(this,"onDragStart",void 0),my(this,"onDraging",void 0),my(this,"onDragEnd",void 0),my(this,"step",void 0),my(this,"isStopPropagation",void 0),my(this,"isDraging",!1),my(this,"isStartDraging",!1),my(this,"startX",0),my(this,"startY",0),my(this,"sumDeltaX",0),my(this,"sumDeltaY",0),my(this,"eventType",void 0),my(this,"eventCenter",void 0),my(this,"model",void 0),my(this,"startTime",void 0),my(this,"isGrag",void 0),my(this,"handleMouseDown",(function(t){var e,r;if(t.button===Oy){n.isStopPropagation&&t.stopPropagation(),n.isStartDraging=!0,n.startX=t.clientX,n.startY=t.clientY,_y.addEventListener("mousemove",n.handleMouseMove,!1),_y.addEventListener("mouseup",n.handleMouseUp,!1);var o=null===(e=n.model)||void 0===e?void 0:e.getData();null===(r=n.eventCenter)||void 0===r||r.emit(Sc["".concat(n.eventType,"_MOUSEDOWN")],{e:t,data:o}),n.startTime=(new Date).getTime()}})),my(this,"handleMouseMove",(function(t){if(n.isStopPropagation&&t.stopPropagation(),n.isStartDraging&&(n.sumDeltaX+=t.clientX-n.startX,n.sumDeltaY+=t.clientY-n.startY,n.startX=t.clientX,n.startY=t.clientY,n.step<=1||Math.abs(n.sumDeltaX)>n.step||Math.abs(n.sumDeltaY)>n.step)){var e,r=n.sumDeltaX%n.step,o=n.sumDeltaY%n.step,i=n.sumDeltaX-r,a=n.sumDeltaY-o;n.sumDeltaX=r,n.sumDeltaY=o;var u,c=null===(e=n.model)||void 0===e?void 0:e.getData();if(!n.isDraging)null===(u=n.eventCenter)||void 0===u||u.emit(Sc["".concat(n.eventType,"_DRAGSTART")],{e:t,data:c}),n.onDragStart({event:t});n.isDraging=!0,Promise.resolve().then((function(){var e,r;n.onDraging({deltaX:i,deltaY:a,event:t}),null===(e=n.eventCenter)||void 0===e||e.emit(Sc["".concat(n.eventType,"_MOUSEMOVE")],{e:t,data:c}),null===(r=n.eventCenter)||void 0===r||r.emit(Sc["".concat(n.eventType,"_DRAG")],{e:t,data:c})}))}})),my(this,"handleMouseUp",(function(t){n.isStartDraging=!1,n.isStopPropagation&&t.stopPropagation(),Promise.resolve().then((function(){var e,r,o;_y.removeEventListener("mousemove",n.handleMouseMove,!1),_y.removeEventListener("mouseup",n.handleMouseUp,!1);var i=null===(e=n.model)||void 0===e?void 0:e.getData();null===(r=n.eventCenter)||void 0===r||r.emit(Sc["".concat(n.eventType,"_MOUSEUP")],{e:t,data:i}),n.isDraging&&(n.isDraging=!1,n.onDragEnd({event:t}),null===(o=n.eventCenter)||void 0===o||o.emit(Sc["".concat(n.eventType,"_DROP")],{e:t,data:i}))}))})),my(this,"cancelDrag",(function(){_y.removeEventListener("mousemove",n.handleMouseMove,!1),_y.removeEventListener("mouseup",n.handleMouseUp,!1),n.isDraging=!1})),this.onDragStart=o,this.onDraging=a,this.onDragEnd=c,this.step=h,this.isStopPropagation=v,this.eventType=l,this.eventCenter=p,this.model=b}return by(t,[{key:"setStep",value:function(t){this.step=t}}]),t}(),Ly=function(t){return t&&"boolean"!==typeof t?Tf(ff(rd),t):ff(!0===t?od:rd)};function zy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function By(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zy(Object(n),!0).forEach((function(e){ev(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hy(t,e){return Xy(t)||Gy(t,e)||Vy(t,e)||Fy()}function Fy(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gy(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Xy(t){if(Array.isArray(t))return t}function Yy(t){return Ky(t)||Wy(t)||Vy(t)||Uy()}function Uy(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vy(t,e){if(t){if("string"===typeof t)return $y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$y(t,e):void 0}}function Wy(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Ky(t){if(Array.isArray(t))return $y(t)}function $y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qy(t){return qy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(t)}function Zy(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Jy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tv(t,e,n){return e&&Qy(t.prototype,e),n&&Qy(t,n),t}function ev(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nv(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var rv,ov=200,iv=(xy=function(){function t(e){Jy(this,t),ev(this,"rootEl",void 0),Zy(this,"width",Ey,this),Zy(this,"height",jy,this),ev(this,"theme",void 0),ev(this,"eventCenter",void 0),ev(this,"modelMap",new Map),ev(this,"topElement",void 0),ev(this,"animation",void 0),ev(this,"idGenerator",void 0),ev(this,"edgeGenerator",void 0),ev(this,"nodeMoveRules",[]),Zy(this,"edgeType",Sy,this),Zy(this,"nodes",Py,this),Zy(this,"edges",ky,this),Zy(this,"overlapMode",My,this),Zy(this,"background",Ay,this),Zy(this,"transformModel",Ny,this),Zy(this,"editConfigModel",Dy,this),Zy(this,"gridSize",Ty,this),Zy(this,"partial",Cy,this),Zy(this,"fakerNode",Ry,this);var n=e.container,r=e.background,o=void 0===r?{}:r,i=e.grid,a=e.idGenerator,u=e.edgeGenerator,c=e.animation;this.background=o,"object"===qy(i)&&(this.gridSize=i.size),this.rootEl=n,this.editConfigModel=new Ac(e),this.eventCenter=new Ff,this.transformModel=new Qc(this.eventCenter),this.theme=Rf(e.style),this.edgeType=e.edgeType||"polyline",this.width=e.width,this.height=e.height,this.animation=Ly(c),this.partial=e.partial,this.overlapMode=e.overlapMode||0,this.idGenerator=a,this.edgeGenerator=dy(this,u),this.width=e.width||this.rootEl.getBoundingClientRect().width,this.height=e.height||this.rootEl.getBoundingClientRect().height}return tv(t,[{key:"nodesMap",get:function(){return this.nodes.reduce((function(t,e,n){return t[e.id]={index:n,model:e},t}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(t,e,n){return t[e.id]={index:n,model:e},t}),{})}},{key:"modelsMap",get:function(){return[].concat(Yy(this.nodes),Yy(this.edges)).reduce((function(t,e){return t[e.id]=e,t}),{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach((function(e){return t.push(e)})),this.edges.forEach((function(e){return t.push(e)})),t=t.sort((function(t,e){return t.zIndex-e.zIndex}));for(var e=[],n=-1,r=[-ov,-ov],o=[this.width+ov,this.height+ov],i=0;i<t.length;i++){var a=t[i];a.visible&&(!this.partial||a.isSelected||this.isElementInArea(a,r,o,!1,!1))&&(a.zIndex===Hc&&(n=e.length),e.push(a))}if(-1!==n){var u=e[e.length-1];e[e.length-1]=e[n],e[n]=u}return e}},{key:"textEditElement",get:function(){var t=this.nodes.find((function(t){return t.state===wc.TEXT_EDIT})),e=this.edges.find((function(t){return t.state===wc.TEXT_EDIT}));return t||e}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach((function(e){e.isSelected&&t.set(e.id,e)})),this.edges.forEach((function(e){e.isSelected&&t.set(e.id,e)})),t}},{key:"getAreaElement",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=[],a=[];this.nodes.forEach((function(t){return a.push(t)})),this.edges.forEach((function(t){return a.push(t)}));for(var u=0;u<a.length;u++){var c=a[u];o&&!c.visible||!this.isElementInArea(c,t,e,n,r)||i.push(c)}return i}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var e;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:null===(e=this.nodesMap[t])||void 0===e?void 0:e.model}},{key:"getPointByClient",value:function(t){var e=t.x,n=t.y,r=this.rootEl.getBoundingClientRect(),o={x:e-r.left,y:n-r.top},i=this.transformModel.HtmlPointToCanvasPoint([o.x,o.y]),a=Hy(i,2),u=a[0],c=a[1];return{domOverlayPosition:o,canvasOverlayPosition:{x:u,y:c}}}},{key:"isElementInArea",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(t.BaseType===jc.NODE){for(var i=Up(t),a=i.minX,u=i.minY,c=i.maxX,s=i.maxY,l=[{x:a,y:u},{x:c,y:u},{x:c,y:s},{x:a,y:s}],f=o,p=0;p<l.length;p++){var d=l[p],h=d.x,y=d.y,v=this.transformModel.CanvasPointToHtmlPoint([h,y]),g=Hy(v,2);if(h=g[0],y=g[1],Zf([h,y],e,n)!==o){f=!o;break}}return f}if(t.BaseType===jc.EDGE){var b=t,m=b.startPoint,_=b.endPoint,O=this.transformModel.CanvasPointToHtmlPoint([m.x,m.y]),w=this.transformModel.CanvasPointToHtmlPoint([_.x,_.y]),x=Zf(O,e,n),E=Zf(w,e,n);return r?x&&E:x||E}return!1}},{key:"graphDataToModel",value:function(t){var e=this;this.width&&this.height||this.resize(),this.nodes=Ja(t.nodes,(function(t){var n=e.getModel(t.type);if(!n)throw new Error("".concat(t.type,""));var r=t.x,o=t.y;return r&&o&&(t.x=Gf(r,e.gridSize),t.y=Gf(o,e.gridSize),"object"===qy(t.text)&&(t.text.x-=Xf(r,e.gridSize),t.text.y-=Xf(o,e.gridSize))),new n(t,e)})),this.edges=Ja(t.edges,(function(t){var n=e.getModel(t.type);if(!n)throw new Error("".concat(t.type,""));return new n(t,e)}))}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach((function(e){var n=e.getData();n&&!e.virtual&&t.push(n)}));var e=[];return this.nodes.forEach((function(t){var n=t.getData();n&&!t.virtual&&e.push(n)})),{nodes:e,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,e=[],n=0;n<this.nodes.length;n++){var r=this.nodes[n];if(r.isDragging){t=!0;break}e.push(r.getHistoryData())}if(t)return!1;for(var o=!1,i=[],a=0;a<this.edges.length;a++){var u=this.edges[a];if(u.isDragging){o=!0;break}i.push(u.getHistoryData())}return!o&&{nodes:e,edges:i}}},{key:"getEdgeModelById",value:function(t){var e;return null===(e=this.edgesMap[t])||void 0===e?void 0:e.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var e=[],n=0;n<this.edges.length;n++){var r=this.edges[n],o=this.edges[n].sourceNodeId===t,i=this.edges[n].targetNodeId===t;(o||i)&&e.push(r)}return e}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.selectElements,n={nodes:[],edges:[]};return e.forEach((function(r){if(r.BaseType===jc.NODE&&n.nodes.push(r.getData()),r.BaseType===jc.EDGE){var o=r.getData(),i=e.get(o.sourceNodeId)&&e.get(o.targetNodeId);(t||i)&&n.edges.push(o)}})),n}},{key:"updateAttributes",value:function(t,e){var n=this.getElement(t);n.updateAttributes(e)}},{key:"changeNodeId",value:function(t,e){return e||(e=lp()),this.nodesMap[e]?"":this.nodesMap[t]?(this.edges.forEach((function(n){n.sourceNodeId===t&&(n.sourceNodeId=e),n.targetNodeId===t&&(n.targetNodeId=e)})),this.nodesMap[t].model.id=e,e):""}},{key:"changeEdgeId",value:function(t,e){return e||(e=lp()),this.edgesMap[e]?"":this.edgesMap[t]?(this.edges.forEach((function(n){n.id===t&&(n.id=e)})),e):""}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,e){return this.modelMap.set(t,e)}},{key:"toFront",value:function(t){var e,n,r=(null===(e=this.nodesMap[t])||void 0===e?void 0:e.model)||(null===(n=this.edgesMap[t])||void 0===n?void 0:n.model);if(r){var o;if(this.overlapMode===Nc.DEFAULT)null===(o=this.topElement)||void 0===o||o.setZIndex(),r.setZIndex(Hc),this.topElement=r;this.overlapMode===Nc.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,e){var n,r,o,i=(null===(n=this.nodesMap[t])||void 0===n?void 0:n.model)||(null===(r=this.edgesMap[t])||void 0===r?void 0:r.model);i&&("number"===typeof e&&(o=e),"top"===e&&(o=sd()),"bottom"===e&&(o=ld()),i.setZIndex(o))}},{key:"deleteNode",value:function(t){var e=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(Sc.NODE_DELETE,{data:e})}},{key:"addNode",value:function(t){var e=ad(t);e.id&&this.nodesMap[t.id]&&delete e.id;var n=this.getModel(e.type);if(!n)throw new Error("".concat(e.type,""));var r=new n(e,this);this.nodes.push(r);var o=r.getData();return this.eventCenter.emit(Sc.NODE_ADD,{data:o}),r}},{key:"cloneNode",value:function(t){var e=this.getNodeModelById(t),n=e.getData();n.x+=30,n.y+=30,delete n.id,n.text&&(n.text.x+=30,n.text.y+=30);var r=this.addNode(n);return r.setSelected(!0),e.setSelected(!1),r.getData()}},{key:"moveNode",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[t];if(o){var i=o.model,a=i.getMoveDistance(e,n,r),u=Hy(a,2);e=u[0],n=u[1],this.moveEdge(t,e,n)}}},{key:"moveNode2Coordinate",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[t];if(o){var i=o.model,a=i.x,u=i.y,c=e-a,s=n-u;this.moveNode(t,c,s,r)}}},{key:"editText",value:function(t){this.setElementStateById(t,wc.TEXT_EDIT)}},{key:"addEdge",value:function(t){var e=ad(t),n=e.type;n||(n=this.edgeType),e.id&&this.edgesMap[e.id]&&delete e.id;var r=this.getModel(n);if(!r)throw new Error("".concat(n,""));var o=new r(By(By({},e),{},{type:n}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(Sc.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(t,e,n){for(var r=0;r<this.edges.length;r++){var o,i=this.edges[r],a=i.textPosition,u=a.x,c=a.y,s=this.edges[r].sourceNodeId===t,l=this.edges[r].targetNodeId===t;if(s&&i.moveStartPoint(e,n),l&&i.moveEndPoint(e,n),s||l)if(!0===i.customTextPosition)i.resetTextPosition();else if(i.modelType===Ec.POLYLINE_EDGE&&null!==(o=i.text)&&void 0!==o&&o.value){var f=i.text,p=ly(f,i.points);i.moveText(p.x-f.x,p.y-f.y)}else{var d=i.textPosition,h=d.x,y=d.y;i.moveText(h-u,y-c)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,e){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t&&this.edges[n].targetNodeId===e){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(Sc.EDGE_DELETE,{data:r})}}},{key:"deleteEdgeById",value:function(t){var e=this.edgesMap[t];if(e){var n=this.edgesMap[t].index,r=this.edgesMap[t].model.getData();this.edges.splice(n,1),this.eventCenter.emit(Sc.EDGE_DELETE,{data:r})}}},{key:"deleteEdgeBySource",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].sourceNodeId===t){var n=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(Sc.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeByTarget",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].targetNodeId===t){var n=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(Sc.EDGE_DELETE,{data:n})}}},{key:"setElementStateById",value:function(t,e,n){this.nodes.forEach((function(r){r.id===t?r.setElementState(e,n):r.setElementState(wc.DEFAULT)})),this.edges.forEach((function(r){r.id===t?r.setElementState(e,n):r.setElementState(wc.DEFAULT)}))}},{key:"updateText",value:function(t,e){this.nodes.forEach((function(n){n.id===t&&n.updateText(e)})),this.edges.forEach((function(n){n.id===t&&n.updateText(e)}))}},{key:"selectNodeById",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(e=this.nodesMap[t])||void 0===e?void 0:e.model;null===r||void 0===r||r.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(e=this.edgesMap[t])||void 0===e?void 0:e.model;null===r||void 0===r||r.setSelected(!0)}},{key:"selectElementById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||this.clearSelectElements();var n=this.getElement(t);null===n||void 0===n||n.setSelected(!0)}},{key:"clearSelectElements",value:function(){var t;(this.selectElements.forEach((function(t){null===t||void 0===t||t.setSelected(!1)})),this.selectElements.clear(),this.overlapMode===Nc.DEFAULT)&&(null===(t=this.topElement)||void 0===t||t.setZIndex())}},{key:"moveNodes",value:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.forEach((function(t){return r.moveNode(t,e,n,o)}))}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,e){var n=this.getNodeModelById(t);if(n){var r=n.getData();r.type=e;var o=this.getModel(e);if(!o)throw new Error("".concat(e,""));var i=new o(r,this);this.nodes.splice(this.nodesMap[t].index,1,i);var a=this.getNodeEdges(t);a.forEach((function(e){if(e.sourceNodeId===t){var n=Qp(i,e.startPoint,i.width,i.height);e.updateStartPoint(n)}if(e.targetNodeId===t){var r=Qp(i,e.endPoint,i.width,i.height);e.updateEndPoint(r)}}))}}},{key:"changeEdgeType",value:function(t,e){var n=this.getEdgeModelById(t);if(n&&n.type!==e){var r=n.getData();r.type=e;var o=this.getModel(e);if(!o)throw new Error("".concat(e,""));delete r.pointsList;var i=new o(r,this);this.edges.splice(this.edgesMap[t].index,1,i)}}},{key:"getNodeIncomingEdge",value:function(t){var e=[];return this.edges.forEach((function(n){n.targetNodeId===t&&e.push(n)})),e}},{key:"getNodeOutgoingEdge",value:function(t){var e=[];return this.edges.forEach((function(n){n.sourceNodeId===t&&e.push(n)})),e}},{key:"getNodeIncomingNode",value:function(t){var e=this,n=[];return this.edges.forEach((function(r){r.targetNodeId===t&&n.push(e.nodesMap[r.sourceNodeId].model)})),n}},{key:"getNodeOutgoingNode",value:function(t){var e=this,n=[];return this.edges.forEach((function(r){r.sourceNodeId===t&&n.push(e.nodesMap[r.targetNodeId].model)})),n}},{key:"setTheme",value:function(t){this.theme=Rf(By(By({},this.theme),t))}},{key:"resize",value:function(t,e){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=e||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,e=[],n=[];t.forEach((function(t){var r=t.x,o=t.y,i=t.width,a=t.height,u=t.getNodeStyle(),c=u.strokeWidth,s=void 0===c?0:c;e=e.concat([r+i/2+s,r-i/2-s]),n=n.concat([o+a/2+s,o-a/2-s])}));var r=Math.min.apply(Math,Yy(e)),o=Math.max.apply(Math,Yy(e)),i=Math.min.apply(Math,Yy(n)),a=Math.max.apply(Math,Yy(n)),u=o-r||0,c=a-i||0,s=r+u/2,l=i+c/2;return{virtualRectWidth:u,virtualRectHeight:c,virtualRectCenterPositionX:s,virtualRectCenterPositionY:l}}},{key:"translateCenter",value:function(){var t=this.nodes,e=this.width,n=this.height,r=this.rootEl,o=this.transformModel;if(t.length){var i=e||r.clientWidth,a=n||r.clientHeight,u=this.getVirtualRectSize(),c=u.virtualRectCenterPositionX,s=u.virtualRectCenterPositionY;o.focusOn(c,s,i,a)}}},{key:"fitView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=this.nodes,r=this.width,o=this.height,i=this.rootEl,a=this.transformModel;if(n.length){var u=r||i.clientWidth,c=o||i.clientHeight,s=this.getVirtualRectSize(),l=s.virtualRectWidth,f=s.virtualRectHeight,p=s.virtualRectCenterPositionX,d=s.virtualRectCenterPositionY,h=(l+e)/u,y=(f+t)/c,v=0;v=1/Math.max(h,y);var g=[u/2,c/2];a.zoom(v,g),a.focusOn(p,d,u,c)}}},{key:"openEdgeAnimation",value:function(t){var e=this.getEdgeModelById(t);e.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var e=this.getEdgeModelById(t);e.closeEdgeAnimation()}}]),t}(),Ey=nv(xy.prototype,"width",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jy=nv(xy.prototype,"height",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sy=nv(xy.prototype,"edgeType",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Py=nv(xy.prototype,"nodes",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ky=nv(xy.prototype,"edges",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),My=nv(xy.prototype,"overlapMode",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nc.DEFAULT}}),Ay=nv(xy.prototype,"background",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ny=nv(xy.prototype,"transformModel",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dy=nv(xy.prototype,"editConfigModel",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ty=nv(xy.prototype,"gridSize",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Cy=nv(xy.prototype,"partial",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ry=nv(xy.prototype,"fakerNode",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nv(xy.prototype,"nodesMap",[o["m"]],Object.getOwnPropertyDescriptor(xy.prototype,"nodesMap"),xy.prototype),nv(xy.prototype,"edgesMap",[o["m"]],Object.getOwnPropertyDescriptor(xy.prototype,"edgesMap"),xy.prototype),nv(xy.prototype,"modelsMap",[o["m"]],Object.getOwnPropertyDescriptor(xy.prototype,"modelsMap"),xy.prototype),nv(xy.prototype,"sortElements",[o["m"]],Object.getOwnPropertyDescriptor(xy.prototype,"sortElements"),xy.prototype),nv(xy.prototype,"textEditElement",[o["m"]],Object.getOwnPropertyDescriptor(xy.prototype,"textEditElement"),xy.prototype),nv(xy.prototype,"selectElements",[o["m"]],Object.getOwnPropertyDescriptor(xy.prototype,"selectElements"),xy.prototype),nv(xy.prototype,"setFakerNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"setFakerNode"),xy.prototype),nv(xy.prototype,"removeFakerNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"removeFakerNode"),xy.prototype),nv(xy.prototype,"setModel",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"setModel"),xy.prototype),nv(xy.prototype,"toFront",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"toFront"),xy.prototype),nv(xy.prototype,"setElementZIndex",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"setElementZIndex"),xy.prototype),nv(xy.prototype,"deleteNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"deleteNode"),xy.prototype),nv(xy.prototype,"addNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"addNode"),xy.prototype),nv(xy.prototype,"cloneNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"cloneNode"),xy.prototype),nv(xy.prototype,"moveNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"moveNode"),xy.prototype),nv(xy.prototype,"moveNode2Coordinate",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"moveNode2Coordinate"),xy.prototype),nv(xy.prototype,"editText",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"editText"),xy.prototype),nv(xy.prototype,"addEdge",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"addEdge"),xy.prototype),nv(xy.prototype,"moveEdge",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"moveEdge"),xy.prototype),nv(xy.prototype,"deleteEdgeBySourceAndTarget",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"deleteEdgeBySourceAndTarget"),xy.prototype),nv(xy.prototype,"deleteEdgeById",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"deleteEdgeById"),xy.prototype),nv(xy.prototype,"deleteEdgeBySource",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"deleteEdgeBySource"),xy.prototype),nv(xy.prototype,"deleteEdgeByTarget",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"deleteEdgeByTarget"),xy.prototype),nv(xy.prototype,"setElementStateById",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"setElementStateById"),xy.prototype),nv(xy.prototype,"updateText",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"updateText"),xy.prototype),nv(xy.prototype,"selectNodeById",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"selectNodeById"),xy.prototype),nv(xy.prototype,"selectEdgeById",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"selectEdgeById"),xy.prototype),nv(xy.prototype,"selectElementById",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"selectElementById"),xy.prototype),nv(xy.prototype,"clearSelectElements",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"clearSelectElements"),xy.prototype),nv(xy.prototype,"moveNodes",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"moveNodes"),xy.prototype),nv(xy.prototype,"setDefaultEdgeType",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"setDefaultEdgeType"),xy.prototype),nv(xy.prototype,"changeNodeType",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"changeNodeType"),xy.prototype),nv(xy.prototype,"changeEdgeType",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"changeEdgeType"),xy.prototype),nv(xy.prototype,"getNodeIncomingEdge",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"getNodeIncomingEdge"),xy.prototype),nv(xy.prototype,"getNodeOutgoingEdge",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"getNodeOutgoingEdge"),xy.prototype),nv(xy.prototype,"getNodeIncomingNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"getNodeIncomingNode"),xy.prototype),nv(xy.prototype,"getNodeOutgoingNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"getNodeOutgoingNode"),xy.prototype),nv(xy.prototype,"setTheme",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"setTheme"),xy.prototype),nv(xy.prototype,"resize",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"resize"),xy.prototype),nv(xy.prototype,"clearData",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"clearData"),xy.prototype),nv(xy.prototype,"translateCenter",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"translateCenter"),xy.prototype),nv(xy.prototype,"fitView",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"fitView"),xy.prototype),nv(xy.prototype,"openEdgeAnimation",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"openEdgeAnimation"),xy.prototype),nv(xy.prototype,"closeEdgeAnimation",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"closeEdgeAnimation"),xy.prototype),xy),av=iv;function uv(t){return uv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(t)}function cv(){return cv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(this,arguments)}function sv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fv(t,e,n){return e&&lv(t.prototype,e),n&&lv(t,n),t}function pv(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dv(t,e)}function dv(t,e){return dv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},dv(t,e)}function hv(t){var e=gv();return function(){var n,r=bv(t);if(e){var o=bv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yv(this,n)}}function yv(t,e){if(e&&("object"===uv(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vv(t)}function vv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gv(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function bv(t){return bv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bv(t)}function mv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _v,Ov=LN(rv=function(t){pv(n,t);var e=hv(n);function n(t){var r;sv(this,n),r=e.call(this),mv(vv(r),"stepDrag",void 0),mv(vv(r),"stepScrollX",0),mv(vv(r),"stepScrollY",0),mv(vv(r),"onDraging",(function(t){var e=t.deltaX,n=t.deltaY;r.setState({isDraging:!0});var o=r.props.graphModel,i=o.transformModel,a=o.editConfigModel;a.stopMoveGraph||i.translate(e,n)})),mv(vv(r),"onDragEnd",(function(){r.setState({isDraging:!1})})),mv(vv(r),"zoomHandler",(function(t){var e=r.props,n=e.graphModel,o=n.editConfigModel,i=n.transformModel,a=n.gridSize,u=e.graphModel,c=t.deltaX,s=t.deltaY;if(o.stopScrollGraph||!0===t.ctrlKey){if(!o.stopZoomGraph){t.preventDefault();var l=u.getPointByClient({x:t.clientX,y:t.clientY}),f=l.canvasOverlayPosition,p=f.x,d=f.y;i.zoom(t.deltaY<0,[p,d])}}else{if(t.preventDefault(),r.stepScrollX+=c,r.stepScrollY+=s,Math.abs(r.stepScrollX)>=a){var h=r.stepScrollX%a,y=r.stepScrollX-h;i.translate(-y*i.SCALE_X,0),r.stepScrollX=h}if(Math.abs(r.stepScrollY)>=a){var v=r.stepScrollY%a,g=r.stepScrollY-v;i.translate(0,-g*i.SCALE_Y),r.stepScrollY=v}}})),mv(vv(r),"clickHandler",(function(t){var e=t.target;if("canvas-overlay"===e.getAttribute("name")){var n=r.props.graphModel,o=n.selectElements;o.size>0&&n.clearSelectElements(),n.eventCenter.emit(Sc.BLANK_CLICK,{e:t})}})),mv(vv(r),"handleContextMenu",(function(t){var e=t.target;if("canvas-overlay"===e.getAttribute("name")){t.preventDefault();var n=r.props.graphModel,o=n.getPointByClient({x:t.clientX,y:t.clientY});n.eventCenter.emit(Sc.BLANK_CONTEXTMENU,{e:t,position:o})}})),mv(vv(r),"mouseDownHandler",(function(t){var e=r.props.graphModel,n=e.eventCenter,o=e.editConfigModel,i=e.transformModel.SCALE_X,a=e.gridSize,u=t.target,c=!o.adjustEdge&&!o.adjustNodePosition;("canvas-overlay"===u.getAttribute("name")||c)&&(o.stopMoveGraph?n.emit(Sc.BLANK_MOUSEDOWN,{e:t}):(r.stepDrag.setStep(a*i),r.stepDrag.handleMouseDown(t)),r.clickHandler(t))}));var o=t.graphModel,i=o.gridSize,a=o.eventCenter;return r.stepDrag=new Iy({onDraging:r.onDraging,onDragEnd:r.onDragEnd,step:i,eventType:"BLANK",isStopPropagation:!1,eventCenter:a,model:null}),r.state={isDraging:!1},r}return fv(n,[{key:"render",value:function(){var t=this.props.graphModel.transformModel,e=t.getTransformStyle(),n=e.transform,r=this.props,o=r.children,i=r.dnd,a=this.state.isDraging;return Object(dt["g"])("svg",cv({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:a?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},i.eventMap()),Object(dt["g"])("g",{transform:n},o))}}]),n}(dt["a"]))||rv,wv=Ov;function xv(t){return xv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(t)}function Ev(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sv(t,e,n){return e&&jv(t.prototype,e),n&&jv(t,n),t}function Pv(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kv(t,e)}function kv(t,e){return kv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},kv(t,e)}function Mv(t){var e=Dv();return function(){var n,r=Tv(t);if(e){var o=Tv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Av(this,n)}}function Av(t,e){if(e&&("object"===xv(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nv(t)}function Nv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dv(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Tv(t)}function Cv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rv=LN(_v=function(t){Pv(n,t);var e=Mv(n);function n(){var t;Ev(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),Cv(Nv(t),"setToolOverlayRef",(function(e){var n=t.props.tool,r=n.getInstance();r.components.forEach((function(t){return t(r,e)})),r.components=[]})),t}return Sv(n,[{key:"getTools",value:function(){var t=this.props,e=t.tool,n=t.graphModel,r=e.getTools(),o=r.map((function(t){return Object(dt["g"])(t,{graphModel:n,logicFlow:e.instance})}));return e.components=o,o}},{key:"render",value:function(){return Object(dt["g"])("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),n}(dt["a"]))||_v;function Iv(t){return Iv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(t)}function Lv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bv(t,e,n){return e&&zv(t.prototype,e),n&&zv(t,n),t}function Hv(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fv(t,e)}function Fv(t,e){return Fv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Fv(t,e)}function Gv(t){var e=Uv();return function(){var n,r=Vv(t);if(e){var o=Vv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xv(this,n)}}function Xv(t,e){if(e&&("object"===Iv(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yv(t)}function Yv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uv(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vv(t)}var Wv,Kv=function(t){Hv(n,t);var e=Gv(n);function n(){return Lv(this,n),e.apply(this,arguments)}return Bv(n,[{key:"render",value:function(){var t=this.props.background;return Object(dt["g"])("div",{className:"lf-background"},Object(dt["g"])("div",{style:t,className:"lf-background-area"}))}}]),n}(dt["a"]);function $v(t){return $v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(t)}function qv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jv(t,e,n){return e&&Zv(t.prototype,e),n&&Zv(t,n),t}function Qv(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tg(t,e)}function tg(t,e){return tg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tg(t,e)}function eg(t){var e=og();return function(){var n,r=ig(t);if(e){var o=ig(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ng(this,n)}}function ng(t,e){if(e&&("object"===$v(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rg(t)}function rg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function og(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ig(t)}function ag(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ug=LN(Wv=function(t){Qv(n,t);var e=eg(n);function n(){var t;qv(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),ag(rg(t),"id",lp()),t}return Jv(n,[{key:"renderDot",value:function(){var t=this.props,e=t.config,n=e.color,r=e.thickness,o=void 0===r?2:r,i=t.size,a=t.visible,u=Math.min(Math.max(2,o),i/2),c=1;return a||(c=0),Object(dt["g"])("rect",{width:u,height:u,rx:u/2,ry:u/2,fill:n,opacity:c})}},{key:"renderMesh",value:function(){var t=this.props,e=t.config,n=e.color,r=e.thickness,o=void 0===r?1:r,i=t.size,a=t.visible,u=Math.min(Math.max(1,o),i/2),c="M ".concat(i," 0 H0 M0 0 V0 ").concat(i),s=1;return a||(s=0),Object(dt["g"])("path",{d:c,stroke:n,strokeWidth:u,opacity:s})}},{key:"render",value:function(){var t=this.props,e=t.type,n=t.size,r=t.graphModel.transformModel,o=r.SCALE_X,i=r.SKEW_Y,a=r.SKEW_X,u=r.SCALE_Y,c=r.TRANSLATE_X,s=r.TRANSLATE_Y,l=[o,i,a,u,c,s].join(","),f="matrix(".concat(l,")");return Object(dt["g"])("div",{className:"lf-grid"},Object(dt["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(dt["g"])("defs",null,Object(dt["g"])("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:f,x:"0",y:"0",width:n,height:n},"dot"===e&&this.renderDot(),"mesh"===e&&this.renderMesh())),Object(dt["g"])("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),n}(dt["a"]))||Wv;ug.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};n(52);function cg(t){return cg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(t)}function sg(t,e){return hg(t)||dg(t,e)||fg(t,e)||lg()}function lg(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fg(t,e){if(t){if("string"===typeof t)return pg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pg(t,e):void 0}}function pg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dg(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function hg(t){if(Array.isArray(t))return t}function yg(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach((function(t){var n=sg(t,2),r=n[0],o=n[1];if("style"===r)e[r]=o;else{var i=cg(o);"object"!==i&&(e[r]=o)}})),Object(dt["g"])("line",e)}var vg,gg=yg;function bg(t){return bg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(t)}function mg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mg(Object(n),!0).forEach((function(e){Og(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Og(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eg(t,e,n){return e&&xg(t.prototype,e),n&&xg(t,n),t}function jg(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sg(t,e)}function Sg(t,e){return Sg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Sg(t,e)}function Pg(t){var e=Ag();return function(){var n,r=Ng(t);if(e){var o=Ng(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kg(this,n)}}function kg(t,e){if(e&&("object"===bg(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mg(t)}function Mg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ag(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ng(t)}var Dg,Tg=LN(vg=function(t){jg(n,t);var e=Pg(n);function n(){return wg(this,n),e.apply(this,arguments)}return Eg(n,[{key:"render",value:function(){var t=this.props.snaplineModel,e=t.position,n=t.isShowHorizontal,r=t.isShowVertical,o=t.getStyle(),i=e.x,a=void 0===i?0:i,u=e.y,c=void 0===u?0:u,s=_g(_g({x1:-1e5,y1:c,x2:1e5,y2:c},o),{},{stroke:n?o.stroke:"none"}),l=_g(_g({x1:a,y1:-1e5,x2:a,y2:1e5},o),{},{stroke:r?o.stroke:"none"});return Object(dt["g"])("g",{className:"lf-snapline"},Object(dt["g"])(gg,s),Object(dt["g"])(gg,l))}}]),n}(dt["a"]))||vg;function Cg(t){return Cg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(t)}function Rg(t,e){return Hg(t)||Bg(t,e)||Lg(t,e)||Ig()}function Ig(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lg(t,e){if(t){if("string"===typeof t)return zg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zg(t,e):void 0}}function zg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bg(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Hg(t){if(Array.isArray(t))return t}function Fg(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=t.className,a=t.radius,u=e-r/2,c=n-o/2,s={};return Object.entries(t).forEach((function(t){var e=Rg(t,2),n=e[0],r=e[1],o=Cg(r);"object"!==o&&(s[n]=r)})),s.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",a&&(s.rx=a,s.ry=a),s.x=u,s.y=c,Object(dt["g"])("rect",s)}function Gg(t){return Gg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(t)}function Xg(){return Xg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function Yg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ug(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yg(Object(n),!0).forEach((function(e){Vg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $g(t,e,n){return e&&Kg(t.prototype,e),n&&Kg(t,n),t}function qg(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zg(t,e)}function Zg(t,e){return Zg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zg(t,e)}function Jg(t){var e=eb();return function(){var n,r=nb(t);if(e){var o=nb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qg(this,n)}}function Qg(t,e){if(e&&("object"===Gg(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tb(t)}function tb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eb(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function nb(t){return nb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nb(t)}Fg.defaultProps={className:"",radius:""};var rb,ob=LN(Dg=function(t){qg(n,t);var e=Jg(n);function n(){return Wg(this,n),e.apply(this,arguments)}return $g(n,[{key:"getNodesOutline",value:function(){var t=this.props.graphModel,e=t.nodes,n=t.editConfigModel,r=n.hoverOutline,o=n.nodeSelectedOutline,i=[];return e.forEach((function(t){if(t.isHovered||t.isSelected){var e=t.isHovered,n=t.isSelected,a=t.x,u=t.y,c=t.width,s=t.height;if(o&&n||r&&e){var l=t.getOutlineStyle(),f={};if(Object.keys(l).forEach((function(t){"hover"!==t&&(f[t]=l[t])})),e){var p=l.hover;f=Ug(Ug({},f),p)}i.push(Object(dt["g"])(Fg,Xg({className:"lf-outline-node",x:a,y:u,width:c+10,height:s+10},f)))}}})),i}},{key:"getEdgeOutline",value:function(){for(var t=this.props.graphModel,e=t.edges,n=t.editConfigModel,r=n.edgeSelectedOutline,o=n.hoverOutline,i=[],a=0;a<e.length;a++){var u=e[a];(r&&u.isSelected||o&&u.isHovered)&&(u.modelType===Ec.LINE_EDGE?i.push(this.getLineOutline(u)):u.modelType===Ec.POLYLINE_EDGE?i.push(this.getPolylineOutline(u)):u.modelType===Ec.BEZIER_EDGE&&i.push(this.getBezierOutline(u)))}return i}},{key:"getLineOutline",value:function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,o=(e.y+n.y)/2,i=Math.abs(e.x-n.x)+10,a=Math.abs(e.y-n.y)+10,u=t.getOutlineStyle();return Object(dt["g"])(Fg,Xg({className:"lf-outline-edge",x:r,y:o,width:i,height:a},u))}},{key:"getPolylineOutline",value:function(t){var e=t.points,n=ey(e),r=Dh(n,8),o=r.x,i=r.y,a=r.width,u=r.height,c=t.getOutlineStyle();return Object(dt["g"])(Fg,Xg({className:"lf-outline",x:o,y:i,width:a,height:u},c))}},{key:"getBezierOutline",value:function(t){var e=t.path,n=uy(e),r=Dh(n,8),o=r.x,i=r.y,a=r.width,u=r.height,c=t.getOutlineStyle();return Object(dt["g"])(Fg,Xg({className:"lf-outline",x:o,y:i,width:a,height:u},c))}},{key:"render",value:function(){return Object(dt["g"])("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),n}(dt["a"]))||Dg;function ib(t){return ib="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ib(t)}function ab(t,e){return fb(t)||lb(t,e)||cb(t,e)||ub()}function ub(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cb(t,e){if(t){if("string"===typeof t)return sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sb(t,e):void 0}}function sb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lb(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function fb(t){if(Array.isArray(t))return t}function pb(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.r,a=void 0===i?4:i,u=t.className,c={cx:n,cy:o,r:a,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){var e=ab(t,2),n=e[0],r=e[1],o=ib(r);"object"!==o&&(c[n]=r)})),c.className=u?"lf-basic-shape ".concat(u):"lf-basic-shape",Object(dt["g"])("circle",c)}function db(t){return db="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},db(t)}function hb(t,e){return mb(t)||bb(t,e)||vb(t,e)||yb()}function yb(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vb(t,e){if(t){if("string"===typeof t)return gb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gb(t,e):void 0}}function gb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bb(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function mb(t){if(Array.isArray(t))return t}function _b(){return _b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(this,arguments)}function Ob(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xb(t,e,n){return e&&wb(t.prototype,e),n&&wb(t,n),t}function Eb(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jb(t,e)}function jb(t,e){return jb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jb(t,e)}function Sb(t){var e=Mb();return function(){var n,r=Ab(t);if(e){var o=Ab(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pb(this,n)}}function Pb(t,e){if(e&&("object"===db(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kb(t)}function kb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mb(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ab(t){return Ab=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ab(t)}function Nb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Db,Tb=function(t){Eb(n,t);var e=Sb(n);function n(){var t;return Ob(this,n),t=e.call(this),Nb(kb(t),"dragHandler",void 0),Nb(kb(t),"onDraging",(function(e){var n=e.event,r=t.props,o=r.graphModel,i=r.bezierModel,a=r.type,u=o.getPointByClient({x:n.clientX,y:n.clientY}),c=u.canvasOverlayPosition,s=c.x,l=c.y;i.updateAdjustAnchor({x:s,y:l},a)})),Nb(kb(t),"onDragEnd",(function(){var e=t.props.bezierModel;e.isDragging=!1})),t.dragHandler=new Iy({onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}return xb(n,[{key:"render",value:function(){var t=this,e=this.props.position,n=e.x,r=e.y,o=this.props.bezierModel,i=o.getEdgeStyle(),a=i.adjustAnchor;return Object(dt["g"])(pb,_b({className:"lf-bezier-adjust-anchor",x:n,y:r},a,{onMouseDown:function(e){t.dragHandler.handleMouseDown(e)}}))}}]),n}(dt["a"]),Cb=LN(rb=function(t){Eb(n,t);var e=Sb(n);function n(){return Ob(this,n),e.apply(this,arguments)}return xb(n,[{key:"getBezierAdjust",value:function(t,e){var n=t.path,r=t.id,o=uy(n),i=hb(o,4),a=i[0],u=i[1],c=i[2],s=i[3],l=t.getEdgeStyle(),f=l.adjustLine,p=[];return p.push(Object(dt["g"])(gg,_b({x1:a.x,y1:a.y,x2:u.x,y2:u.y},f))),p.push(Object(dt["g"])(Tb,{position:u,bezierModel:t,graphModel:e,key:"".concat(r,"_ePre"),type:"sNext"})),p.push(Object(dt["g"])(gg,_b({x1:s.x,y1:s.y,x2:c.x,y2:c.y},f))),p.push(Object(dt["g"])(Tb,{position:c,bezierModel:t,graphModel:e,key:"".concat(r,"_sNext"),type:"ePre"})),p}},{key:"selectedBezierEdge",value:function(){for(var t=this.props.graphModel,e=t.edges,n=[],r=0;r<e.length;r++){var o=e[r];o.isSelected&&o.modelType===Ec.BEZIER_EDGE&&o.draggable&&n.push(this.getBezierAdjust(o,t))}return n}},{key:"render",value:function(){return Object(dt["g"])("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(dt["a"]))||rb;function Rb(t){return Rb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rb(t)}function Ib(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zb(t,e,n){return e&&Lb(t.prototype,e),n&&Lb(t,n),t}function Bb(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hb(t,e)}function Hb(t,e){return Hb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Hb(t,e)}function Fb(t){var e=Yb();return function(){var n,r=Ub(t);if(e){var o=Ub(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gb(this,n)}}function Gb(t,e){if(e&&("object"===Rb(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xb(t)}function Xb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yb(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ub(t){return Ub=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ub(t)}var Vb,Wb=LN(Db=function(t){Bb(n,t);var e=Fb(n);function n(){return Ib(this,n),e.apply(this,arguments)}return zb(n,[{key:"render",value:function(){var t=this.props.graphModel.transformModel,e=t.getTransformStyle(),n=e.transform,r=this.props.children;return Object(dt["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(dt["g"])("g",{transform:n},r))}}]),n}(dt["a"]))||Db;function Kb(t){return Kb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kb(t)}function $b(){return $b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(this,arguments)}function qb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jb(t,e,n){return e&&Zb(t.prototype,e),n&&Zb(t,n),t}function Qb(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tm(t,e)}function tm(t,e){return tm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tm(t,e)}function em(t){var e=om();return function(){var n,r=im(t);if(e){var o=im(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nm(this,n)}}function nm(t,e){if(e&&("object"===Kb(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rm(t)}function rm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function om(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},im(t)}var am=LN(Vb=function(t){Qb(n,t);var e=em(n);function n(){return qb(this,n),e.apply(this,arguments)}return Jb(n,[{key:"getComponent",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",r=this.props.getView,o=r(t.type);return Object(dt["g"])(o,{key:t.id,model:t,graphModel:e,overlay:n})}},{key:"render",value:function(){var t=this,e=this.props,n=e.graphModel,r=e.tool,o=e.options,i=e.dnd,a=e.snaplineModel,u={};o.width&&(u.width="".concat(n.width,"px")),o.height&&(u.height="".concat(n.height,"px"));var c=n.fakerNode,s=n.editConfigModel,l=s.adjustEdge;return Object(dt["g"])("div",{className:"lf-graph",style:u},Object(dt["g"])(wv,{graphModel:n,dnd:i},Object(dt["g"])("g",{className:"lf-base"},Ja(n.sortElements,(function(e){return t.getComponent(e,n)}))),c?this.getComponent(c,n):""),Object(dt["g"])(Wb,{graphModel:n},Object(dt["g"])(ob,{graphModel:n}),l?Object(dt["g"])(Cb,{graphModel:n}):"",o.isSilentMode||!1===o.snapline?"":Object(dt["g"])(Tg,{snaplineModel:a})),Object(dt["g"])(Rv,{graphModel:n,tool:r}),o.background&&Object(dt["g"])(Kv,{background:o.background}),o.grid&&Object(dt["g"])(ug,$b({},o.grid,{graphModel:n})))}}]),n}(dt["a"]))||Vb,um=am;function cm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cm(Object(n),!0).forEach((function(e){dm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pm(t,e,n){return e&&fm(t.prototype,e),n&&fm(t,n),t}function dm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hm=function(){function t(e){var n=this;lm(this,t),dm(this,"nodeConfig",void 0),dm(this,"lf",void 0),dm(this,"fakerNode",void 0),dm(this,"stopDrag",(function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)})),dm(this,"dragEnter",(function(t){n.nodeConfig&&!n.fakerNode&&(n.fakerNode=n.lf.createFakerNode(sm(sm({},n.nodeConfig),n.clientToLocalPoint({x:t.clientX,y:t.clientY}))))})),dm(this,"onDragOver",(function(t){if(t.preventDefault(),n.fakerNode){var e=n.clientToLocalPoint({x:t.clientX,y:t.clientY}),r=e.x,o=e.y;n.fakerNode.moveTo(r,o);var i=n.fakerNode.getData();n.lf.setNodeSnapLine(i),n.lf.graphModel.eventCenter.emit(Sc.NODE_DND_DRAG,{data:i})}return!1})),dm(this,"onDragLeave",(function(){n.fakerNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)})),dm(this,"onDrop",(function(t){if(n.lf.graphModel&&t&&n.nodeConfig){var e=n.lf.addNode(sm(sm({},n.nodeConfig),n.clientToLocalPoint({x:t.clientX,y:t.clientY})));t.preventDefault(),t.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null;var r=e.getData();n.lf.graphModel.eventCenter.emit(Sc.NODE_DND_ADD,{data:r})}}));var r=e.lf;this.lf=r}return pm(t,[{key:"clientToLocalPoint",value:function(t){var e=t.x,n=t.y,r=ba(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:e,y:n}),i=o.canvasOverlayPosition,a=i.x,u=i.y;return{x:Gf(a,r),y:Gf(u,r)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),t}();function ym(t){var e=t.container,n=t.grid,r=t.width,o=t.height;if(!e)throw new Error(" container ");if("string"===typeof r||"string"===typeof o)throw new Error("widthheight");return n&&(t.grid=Cu({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Cu({},bm,t)}var vm,gm,bm={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function mm(t){return mm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(t)}function _m(t,e){return jm(t)||Em(t,e)||wm(t,e)||Om()}function Om(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wm(t,e){if(t){if("string"===typeof t)return xm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xm(t,e):void 0}}function xm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Em(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function jm(t){if(Array.isArray(t))return t}function Sm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sm(Object(n),!0).forEach((function(e){Fm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function km(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Mm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Am(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nm(t,e,n){return e&&Am(t.prototype,e),n&&Am(t,n),t}function Dm(){return Dm="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Tm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Dm.apply(this,arguments)}function Tm(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Hm(t),null===t)break;return t}function Cm(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rm(t,e)}function Rm(t,e){return Rm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Rm(t,e)}function Im(t){var e=Bm();return function(){var n,r=Hm(t);if(e){var o=Hm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lm(this,n)}}function Lm(t,e){if(e&&("object"===mm(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zm(t)}function zm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hm(t)}function Fm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gm(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Xm=(vm=function(t){Cm(n,t);var e=Im(n);function n(){var t;Mm(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),Fm(zm(t),"modelType",Ec.BEZIER_EDGE),km(zm(t),"path",gm,zm(t)),t}return Nm(n,[{key:"initEdgeData",value:function(t){this.offset=100,Dm(Hm(n.prototype),"initEdgeData",this).call(this,t)}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.bezier,e=Dm(Hm(n.prototype),"getEdgeStyle",this).call(this);return Pm(Pm({},e),ff(t))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var t=0,e=0;return this.pointsList.forEach((function(n){var r=n.x,o=n.y;t+=r,e+=o})),{x:t/this.pointsList.length,y:e/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var t=Dm(Hm(n.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){var e=t.x,n=t.y;return{x:e,y:n}}));return Pm(Pm({},t),{},{pointsList:e})}},{key:"getControls",value:function(){var t=this.startPoint,e=this.endPoint,n=ay({start:t,end:e,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return n}},{key:"getPath",value:function(t){var e=_m(t,4),n=e[0],r=e[1],o=e[2],i=e[3];return"M ".concat(n.x," ").concat(n.y,"\n    C ").concat(r.x," ").concat(r.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var t=this.getControls(),e=t.sNext,n=t.ePre;this.updatePath(e,n)}},{key:"updatePath",value:function(t,e){var n={x:this.startPoint.x,y:this.startPoint.y},r={x:this.endPoint.x,y:this.endPoint.y};if(!t||!e){var o=this.getControls();t=o.sNext,e=o.ePre}this.pointsList=[n,t,e,r],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e;var n=_m(this.pointsList,3),r=n[1],o=n[2];r.x+=t,r.y+=e,this.updatePath(r,o)}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e;var n=_m(this.pointsList,3),r=n[1],o=n[2];o.x+=t,o.y+=e,this.updatePath(r,o)}},{key:"updateAdjustAnchor",value:function(t,e){"sNext"===e?this.pointsList[1]=t:"ePre"===e&&(this.pointsList[2]=t),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint,r=t.sourceNode,o=t.targetNode,i=ay({start:e,end:n,sourceNode:r,targetNode:o,offset:this.offset}),a=i.sNext,u=i.ePre;this.pointsList=[e,a,u,n],this.initPoints()}}]),n}(_d),gm=Gm(vm.prototype,"path",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gm(vm.prototype,"initPoints",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"initPoints"),vm.prototype),Gm(vm.prototype,"updatePoints",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"updatePoints"),vm.prototype),Gm(vm.prototype,"updateStartPoint",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"updateStartPoint"),vm.prototype),Gm(vm.prototype,"updateEndPoint",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"updateEndPoint"),vm.prototype),Gm(vm.prototype,"moveStartPoint",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"moveStartPoint"),vm.prototype),Gm(vm.prototype,"moveEndPoint",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"moveEndPoint"),vm.prototype),Gm(vm.prototype,"updateAdjustAnchor",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"updateAdjustAnchor"),vm.prototype),Gm(vm.prototype,"getAdjustStart",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"getAdjustStart"),vm.prototype),Gm(vm.prototype,"getAdjustEnd",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"getAdjustEnd"),vm.prototype),Gm(vm.prototype,"updateAfterAdjustStartAndEnd",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"updateAfterAdjustStartAndEnd"),vm.prototype),vm);function Ym(t){return null==t}var Um,Vm,Wm,Km,$m,qm,Zm,Jm,Qm,t_,e_,n_,r_,o_,i_,a_,u_,c_,s_,l_=Ym;function f_(t){return f_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f_(t)}function p_(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=d_(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function d_(t,e){if(t){if("string"===typeof t)return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h_(t,e):void 0}}function h_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y_(Object(n),!0).forEach((function(e){O_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g_(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function __(t,e,n){return e&&m_(t.prototype,e),n&&m_(t,n),t}function O_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w_(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var x_,E_,j_=(Um=function(){function t(e,n){b_(this,t),O_(this,"id",lp()),g_(this,"type",Vm,this),g_(this,"x",Wm,this),g_(this,"y",Km,this),g_(this,"text",$m,this),g_(this,"properties",qm,this),g_(this,"_width",Zm,this),g_(this,"_height",Jm,this),g_(this,"anchorsOffset",Qm,this),g_(this,"isSelected",t_,this),g_(this,"isHovered",e_,this),g_(this,"isDragging",n_,this),g_(this,"isHitable",r_,this),g_(this,"draggable",o_,this),g_(this,"visible",i_,this),O_(this,"virtual",!1),O_(this,"graphModel",void 0),g_(this,"zIndex",a_,this),g_(this,"state",u_,this),g_(this,"autoToFront",c_,this),g_(this,"style",s_,this),O_(this,"BaseType",jc.NODE),O_(this,"modelType",Ec.NODE),O_(this,"additionStateData",void 0),O_(this,"targetRules",[]),O_(this,"sourceRules",[]),O_(this,"moveRules",[]),O_(this,"hasSetTargetRules",!1),O_(this,"hasSetSourceRules",!1),this.graphModel=n,this.initNodeData(e),this.setAttributes()}return __(t,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,n=e&&e(t.type);n&&(t.id=n);var r=this.createId();r&&(t.id=r)}this.formatText(t),Cu(this,Jp(t));var o=this.graphModel.overlapMode;o===Nc.INCREASE&&(this.zIndex=t.zIndex||sd())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&"string"===typeof t.text?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&void 0===t.text.editable&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,e=t.x,n=t.y,r=t.value,i=this.properties;Object(o["x"])(i)&&(i=Object(o["I"])(i));var a={id:this.id,type:this.type,x:this.x,y:this.y,properties:i};return this.graphModel.overlapMode===Nc.INCREASE&&(a.zIndex=this.zIndex),r&&(a.text={x:e,y:n,value:r}),a}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(o["I"])(this.properties)}},{key:"getNodeStyle",value:function(){return v_(v_({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return ff(t)}},{key:"getAnchorStyle",value:function(t){var e=this.graphModel.theme.anchor;return ff(e)}},{key:"getAnchorLineStyle",value:function(){var t=this.graphModel.theme.anchorLine;return ff(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return ff(t)}},{key:"isAllowConnectedAsSource",value:function(t,e,n){var r=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var o,i=!0,a=0;a<r.length;a++){var u=r[a];if(!u.validate.call(this,this,t,e,n)){i=!1,o=u.message;break}}return{isAllPass:i,msg:o}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,e,n){var r=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var o,i=!0,a=0;a<r.length;a++){var u=r[a];if(!u.validate.call(this,t,this,e,n)){i=!1,o=u.message;break}}return{isAllPass:i,msg:o}}},{key:"isAllowMoveNode",value:function(t,e){var n,r=!0,o=!0,i=this.moveRules.concat(this.graphModel.nodeMoveRules),a=p_(i);try{for(a.s();!(n=a.n()).done;){var u=n.value,c=u(this,t,e);if(!c)return!1;if("object"===f_(c)){var s=c;if(!1===s.x&&!1===s.y)return!1;r=r&&s.x,o=o&&s.y}}}catch(l){a.e(l)}finally{a.f()}return{x:r,y:o}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,e=this.id,n=this.x,r=this.y;return t&&t.length>0?t.map((function(t,o){return t.length?{id:"".concat(e,"_").concat(o),x:n+t[0],y:r+t[1]}:v_(v_({},t),{},{x:n+t.x,y:r+t.y,id:t.id||"".concat(e,"_").concat(o)})})):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!l_(t))for(var e=0;e<this.anchors.length;e++){var n=this.anchors[e];if(n.id===t)return n}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=!1;if(n)r=!0,o=!0;else{var i=this.isAllowMoveNode(t,e);"boolean"===typeof i?(r=i,o=i):(r=i.x,o=i.y)}if(r){var a=this.x+t;this.x=a,this.text&&this.moveText(t,0)}if(o){var u=this.y+e;this.y=u,this.text&&this.moveText(0,e)}return r||o}},{key:"getMoveDistance",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=!1,i=0,a=0;if(n)r=!0,o=!0;else{var u=this.isAllowMoveNode(t,e);"boolean"===typeof u?(r=u,o=u):(r=u.x,o=u.y)}if(r&&t){var c=this.x+t;this.x=c,this.text&&this.moveText(t,0),i=t}if(o&&e){var s=this.y+e;this.y=s,this.text&&this.moveText(0,e),a=e}return[i,a]}},{key:"moveTo",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t-this.x,o=e-this.y;return!(!n&&!this.isAllowMoveNode(r,o))&&(this.text&&this.text&&this.moveText(r,o),this.x=t,this.y=e,!0)}},{key:"moveText",value:function(t,e){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,u=n.editable;this.text={value:i,editable:u,draggable:a,x:r+t,y:o+e}}},{key:"updateText",value:function(t){this.text=v_(v_({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"setProperty",value:function(t,e){this.properties=v_(v_({},this.properties),{},O_({},t,ad(e))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=v_(v_({},this.properties),ad(t)),this.setAttributes()}},{key:"setStyle",value:function(t,e){this.style=v_(v_({},this.style),{},O_({},t,ad(e)))}},{key:"setStyles",value:function(t){this.style=v_(v_({},this.style),ad(t))}},{key:"updateStyles",value:function(t){this.style=v_({},ad(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){Cu(this,t)}}]),t}(),Vm=w_(Um.prototype,"type",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wm=w_(Um.prototype,"x",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Km=w_(Um.prototype,"y",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$m=w_(Um.prototype,"text",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),qm=w_(Um.prototype,"properties",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Zm=w_(Um.prototype,"_width",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Jm=w_(Um.prototype,"_height",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Qm=w_(Um.prototype,"anchorsOffset",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),t_=w_(Um.prototype,"isSelected",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e_=w_(Um.prototype,"isHovered",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n_=w_(Um.prototype,"isDragging",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r_=w_(Um.prototype,"isHitable",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),o_=w_(Um.prototype,"draggable",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),i_=w_(Um.prototype,"visible",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),a_=w_(Um.prototype,"zIndex",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u_=w_(Um.prototype,"state",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),c_=w_(Um.prototype,"autoToFront",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),s_=w_(Um.prototype,"style",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),w_(Um.prototype,"incoming",[o["m"]],Object.getOwnPropertyDescriptor(Um.prototype,"incoming"),Um.prototype),w_(Um.prototype,"outgoing",[o["m"]],Object.getOwnPropertyDescriptor(Um.prototype,"outgoing"),Um.prototype),w_(Um.prototype,"addNodeMoveRules",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"addNodeMoveRules"),Um.prototype),w_(Um.prototype,"move",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"move"),Um.prototype),w_(Um.prototype,"getMoveDistance",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"getMoveDistance"),Um.prototype),w_(Um.prototype,"moveTo",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"moveTo"),Um.prototype),w_(Um.prototype,"moveText",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"moveText"),Um.prototype),w_(Um.prototype,"updateText",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"updateText"),Um.prototype),w_(Um.prototype,"setSelected",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"setSelected"),Um.prototype),w_(Um.prototype,"setHovered",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"setHovered"),Um.prototype),w_(Um.prototype,"setHitable",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"setHitable"),Um.prototype),w_(Um.prototype,"setElementState",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"setElementState"),Um.prototype),w_(Um.prototype,"setProperty",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"setProperty"),Um.prototype),w_(Um.prototype,"setProperties",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"setProperties"),Um.prototype),w_(Um.prototype,"setStyle",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"setStyle"),Um.prototype),w_(Um.prototype,"setStyles",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"setStyles"),Um.prototype),w_(Um.prototype,"updateStyles",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"updateStyles"),Um.prototype),w_(Um.prototype,"setZIndex",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"setZIndex"),Um.prototype),w_(Um.prototype,"updateAttributes",[o["k"]],Object.getOwnPropertyDescriptor(Um.prototype,"updateAttributes"),Um.prototype),Um);function S_(t){return S_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S_(t)}function P_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P_(Object(n),!0).forEach((function(e){G_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M_(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function A_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D_(t,e,n){return e&&N_(t.prototype,e),n&&N_(t,n),t}function T_(){return T_="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=C_(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},T_.apply(this,arguments)}function C_(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=F_(t),null===t)break;return t}function R_(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},I_(t,e)}function L_(t){var e=H_();return function(){var n,r=F_(t);if(e){var o=F_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z_(this,n)}}function z_(t,e){if(e&&("object"===S_(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return B_(t)}function B_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H_(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function F_(t){return F_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},F_(t)}function G_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X_(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Y_,U_,V_,W_=(x_=function(t){R_(n,t);var e=L_(n);function n(){var t;A_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),G_(B_(t),"modelType",Ec.CIRCLE_NODE),M_(B_(t),"r",E_,B_(t)),t}return D_(n,[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var t=T_(F_(n.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.circle;return k_(k_({},t),ff(e))}},{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.r;return[{x:t,y:e-n,id:"".concat(this.id,"_0")},{x:t+n,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+n,id:"".concat(this.id,"_2")},{x:t-n,y:e,id:"".concat(this.id,"_3")}]}}]),n}(j_),E_=X_(x_.prototype,"r",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),X_(x_.prototype,"width",[o["m"]],Object.getOwnPropertyDescriptor(x_.prototype,"width"),x_.prototype),X_(x_.prototype,"height",[o["m"]],Object.getOwnPropertyDescriptor(x_.prototype,"height"),x_.prototype),x_);n(127);function K_(t){return K_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K_(t)}function $_(t,e){return tO(t)||Q_(t,e)||Z_(t,e)||q_()}function q_(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z_(t,e){if(t){if("string"===typeof t)return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J_(t,e):void 0}}function J_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q_(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function tO(t){if(Array.isArray(t))return t}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eO(Object(n),!0).forEach((function(e){vO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rO(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function oO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aO(t,e,n){return e&&iO(t.prototype,e),n&&iO(t,n),t}function uO(){return uO="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=cO(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},uO.apply(this,arguments)}function cO(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=yO(t),null===t)break;return t}function sO(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lO(t,e)}function lO(t,e){return lO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},lO(t,e)}function fO(t){var e=hO();return function(){var n,r=yO(t);if(e){var o=yO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pO(this,n)}}function pO(t,e){if(e&&("object"===K_(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dO(t)}function dO(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hO(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function yO(t){return yO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yO(t)}function vO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gO(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var bO,mO,_O,OO=(Y_=function(t){sO(n,t);var e=fO(n);function n(){var t;oO(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),vO(dO(t),"modelType",Ec.DIAMOND_NODE),rO(dO(t),"rx",U_,dO(t)),rO(dO(t),"ry",V_,dO(t)),t}return aO(n,[{key:"getNodeStyle",value:function(){var t=uO(yO(n.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.diamond;return nO(nO({},t),ff(e))}},{key:"points",get:function(){var t=this.x,e=this.y,n=this.rx,r=this.ry;return[[t,e-r],[t+n,e],[t,e+r],[t-n,e]]}},{key:"pointsPosition",get:function(){var t=this.points.map((function(t){return{x:t[0],y:t[1]}}));return t}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=$_(n,1),o=r[0];o<t&&(t=o),o>e&&(e=o)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=$_(n,2),o=r[1];o<t&&(t=o),o>e&&(e=o)})),e-t}},{key:"getDefaultAnchor",value:function(){var t=this;return this.points.map((function(e,n){var r=$_(e,2),o=r[0],i=r[1];return{x:o,y:i,id:"".concat(t.id,"_").concat(n)}}))}}]),n}(j_),U_=gO(Y_.prototype,"rx",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),V_=gO(Y_.prototype,"ry",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),gO(Y_.prototype,"points",[o["m"]],Object.getOwnPropertyDescriptor(Y_.prototype,"points"),Y_.prototype),gO(Y_.prototype,"pointsPosition",[o["m"]],Object.getOwnPropertyDescriptor(Y_.prototype,"pointsPosition"),Y_.prototype),gO(Y_.prototype,"width",[o["m"]],Object.getOwnPropertyDescriptor(Y_.prototype,"width"),Y_.prototype),gO(Y_.prototype,"height",[o["m"]],Object.getOwnPropertyDescriptor(Y_.prototype,"height"),Y_.prototype),Y_);function wO(t){return wO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wO(t)}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function EO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xO(Object(n),!0).forEach((function(e){zO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jO(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function SO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kO(t,e,n){return e&&PO(t.prototype,e),n&&PO(t,n),t}function MO(){return MO="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=AO(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},MO.apply(this,arguments)}function AO(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=LO(t),null===t)break;return t}function NO(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DO(t,e)}function DO(t,e){return DO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},DO(t,e)}function TO(t){var e=IO();return function(){var n,r=LO(t);if(e){var o=LO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CO(this,n)}}function CO(t,e){if(e&&("object"===wO(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return RO(t)}function RO(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IO(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function LO(t){return LO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},LO(t)}function zO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BO(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var HO,FO,GO=(bO=function(t){NO(n,t);var e=TO(n);function n(){var t;SO(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),zO(RO(t),"modelType",Ec.ELLIPSE_NODE),jO(RO(t),"rx",mO,RO(t)),jO(RO(t),"ry",_O,RO(t)),t}return kO(n,[{key:"getNodeStyle",value:function(){var t=MO(LO(n.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.ellipse;return EO(EO({},t),ff(e))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.rx,r=this.ry;return[{x:t,y:e-r,id:"".concat(this.id,"_0")},{x:t+n,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r,id:"".concat(this.id,"_2")},{x:t-n,y:e,id:"".concat(this.id,"_3")}]}}]),n}(j_),mO=BO(bO.prototype,"rx",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),_O=BO(bO.prototype,"ry",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),BO(bO.prototype,"width",[o["m"]],Object.getOwnPropertyDescriptor(bO.prototype,"width"),bO.prototype),BO(bO.prototype,"height",[o["m"]],Object.getOwnPropertyDescriptor(bO.prototype,"height"),bO.prototype),bO);function XO(t){return XO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XO(t)}function YO(t,e){return $O(t)||KO(t,e)||VO(t,e)||UO()}function UO(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function VO(t,e){if(t){if("string"===typeof t)return WO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WO(t,e):void 0}}function WO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KO(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function $O(t){if(Array.isArray(t))return t}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ZO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qO(Object(n),!0).forEach((function(e){fw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function JO(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function QO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ew(t,e,n){return e&&tw(t.prototype,e),n&&tw(t,n),t}function nw(){return nw="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=rw(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},nw.apply(this,arguments)}function rw(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=lw(t),null===t)break;return t}function ow(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iw(t,e)}function iw(t,e){return iw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},iw(t,e)}function aw(t){var e=sw();return function(){var n,r=lw(t);if(e){var o=lw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uw(this,n)}}function uw(t,e){if(e&&("object"===XO(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cw(t)}function cw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function lw(t){return lw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lw(t)}function fw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pw(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var dw,hw,yw=(HO=function(t){ow(n,t);var e=aw(n);function n(){var t;QO(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),fw(cw(t),"modelType",Ec.POLYGON_NODE),JO(cw(t),"points",FO,cw(t)),t}return ew(n,[{key:"getNodeStyle",value:function(){var t=nw(lw(n.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.polygon;return ZO(ZO({},t),ff(e))}},{key:"pointsPosition",get:function(){var t=this.x,e=this.y,n=this.width,r=this.height,o=this.points.map((function(o){return{x:o[0]+t-n/2,y:o[1]+e-r/2}}));return o}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=YO(n,1),o=r[0];o<t&&(t=o),o>e&&(e=o)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=YO(n,2),o=r[1];o<t&&(t=o),o>e&&(e=o)})),e-t}},{key:"getDefaultAnchor",value:function(){var t=this,e=this.x,n=this.y,r=this.width,o=this.height,i=this.points;return i.map((function(i,a){var u=YO(i,2),c=u[0],s=u[1];return{x:e+c-r/2,y:n+s-o/2,id:"".concat(t.id,"_").concat(a)}}))}}]),n}(j_),FO=pw(HO.prototype,"points",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),pw(HO.prototype,"pointsPosition",[o["m"]],Object.getOwnPropertyDescriptor(HO.prototype,"pointsPosition"),HO.prototype),pw(HO.prototype,"width",[o["m"]],Object.getOwnPropertyDescriptor(HO.prototype,"width"),HO.prototype),pw(HO.prototype,"height",[o["m"]],Object.getOwnPropertyDescriptor(HO.prototype,"height"),HO.prototype),HO);function vw(t){return vw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vw(t)}function gw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gw(Object(n),!0).forEach((function(e){Dw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mw(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ow(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ww(t,e,n){return e&&Ow(t.prototype,e),n&&Ow(t,n),t}function xw(){return xw="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Ew(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},xw.apply(this,arguments)}function Ew(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Nw(t),null===t)break;return t}function jw(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Sw(t,e)}function Pw(t){var e=Aw();return function(){var n,r=Nw(t);if(e){var o=Nw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kw(this,n)}}function kw(t,e){if(e&&("object"===vw(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mw(t)}function Mw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Nw(t){return Nw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nw(t)}function Dw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tw(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Cw,Rw=(dw=function(t){jw(n,t);var e=Pw(n);function n(){var t;_w(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),Dw(Mw(t),"modelType",Ec.RECT_NODE),mw(Mw(t),"radius",hw,Mw(t)),t}return ww(n,[{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return[{x:t,y:e-r/2,id:"".concat(this.id,"_0")},{x:t+n/2,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r/2,id:"".concat(this.id,"_2")},{x:t-n/2,y:e,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var t=xw(Nw(n.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.rect;return bw(bw({},t),ff(e))}}]),n}(j_),hw=Tw(dw.prototype,"radius",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dw);function Iw(t){return Iw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iw(t)}function Lw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lw(Object(n),!0).forEach((function(e){Zw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fw(t,e,n){return e&&Hw(t.prototype,e),n&&Hw(t,n),t}function Gw(){return Gw="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Xw(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Gw.apply(this,arguments)}function Xw(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=qw(t),null===t)break;return t}function Yw(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Uw(t,e)}function Vw(t){var e=$w();return function(){var n,r=qw(t);if(e){var o=qw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ww(this,n)}}function Ww(t,e){if(e&&("object"===Iw(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kw(t)}function Kw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function qw(t){return qw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qw(t)}function Zw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jw(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Qw=(Cw=function(t){Yw(n,t);var e=Vw(n);function n(){var t;Bw(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),Zw(Kw(t),"modelType",Ec.TEXT_NODE),t}return Fw(n,[{key:"getTextStyle",value:function(){var t=Gw(qw(n.prototype),"getTextStyle",this).call(this),e=this.graphModel.theme.text;return zw(zw({},t),ff(e))}},{key:"width",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=this.getTextStyle(),n=e.fontSize,r=ed({rows:t,fontSize:n,rowsLength:t.length}),o=r.width;return o}},{key:"height",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=this.getTextStyle(),n=e.fontSize,r=ed({rows:t,fontSize:n,rowsLength:t.length}),o=r.height;return o}}]),n}(j_),Jw(Cw.prototype,"width",[o["m"]],Object.getOwnPropertyDescriptor(Cw.prototype,"width"),Cw.prototype),Jw(Cw.prototype,"height",[o["m"]],Object.getOwnPropertyDescriptor(Cw.prototype,"height"),Cw.prototype),Cw);function tx(t){return tx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tx(t)}function ex(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rx(t,e,n){return e&&nx(t.prototype,e),n&&nx(t,n),t}function ox(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ix(t,e)}function ix(t,e){return ix=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ix(t,e)}function ax(t){var e=sx();return function(){var n,r=lx(t);if(e){var o=lx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ux(this,n)}}function ux(t,e){if(e&&("object"===tx(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cx(t)}function cx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sx(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function lx(t){return lx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lx(t)}function fx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var px,dx,hx,yx,vx=function(t){ox(n,t);var e=ax(n);function n(){var t;ex(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),fx(cx(t),"modelType",Ec.HTML_NODE),t}return rx(n,[{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return[{x:t,y:e-r/2,id:"".concat(this.id,"_0")},{x:t+n/2,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r/2,id:"".concat(this.id,"_2")},{x:t-n/2,y:e,id:"".concat(this.id,"_3")}]}}]),n}(j_);function gx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gx(Object(n),!0).forEach((function(e){xx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mx(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ox(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wx(t,e,n){return e&&Ox(t.prototype,e),n&&Ox(t,n),t}function xx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ex(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var jx=(px=function(){function t(e){_x(this,t),xx(this,"graphModel",void 0),mx(this,"isShowHorizontal",dx,this),mx(this,"isShowVertical",hx,this),mx(this,"position",yx,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=e}return wx(t,[{key:"getStyle",value:function(){return bx({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,e){for(var n=t.x,r=t.y,o=!1,i=!1,a=0;a<e.length;a++){var u=e[a];if(u.id!==t.id&&(n===u.x&&(o=!0),r===u.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:n,y:r}}}},{key:"getHorizontalSnapline",value:function(t,e){var n,r,o=!1,i=t.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Up(a);else{var u=this.graphModel.getNodeModelById(i);r=Up(u)}}for(var c=0;c<e.length;c++){var s=e[c];if(s.id!==t.id){var l=Up(s);if(l.minY===r.minY||l.maxY===r.minY){o=!0,n=r.minY;break}if(l.minY===r.maxY||l.maxY===r.maxY){o=!0,n=r.maxY;break}}}return Cu({isShowHorizontal:o,position:{y:n}})}},{key:"getVerticalSnapline",value:function(t,e){var n,r,o=!1,i=t.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Up(a);else{var u=this.graphModel.getNodeModelById(i);r=Up(u)}}for(var c=0;c<e.length;c++){var s=e[c];if(s.id!==t.id){var l=Up(s);if(l.minX===r.minX||l.maxX===r.minX){o=!0,n=r.minX;break}if(l.minX===r.maxX||l.maxX===r.maxX){o=!0,n=r.maxX;break}}}return Cu({isShowVertical:o,position:{x:n}})}},{key:"getSnapLinePosition",value:function(t,e){var n=this.getCenterSnapLine(t,e),r=n.isShowHorizontal,o=n.isShowVertical;if(!r){var i=this.getHorizontalSnapline(t,e);i.isShowHorizontal&&(n.isShowHorizontal=i.isShowHorizontal,n.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(t,e);a.isShowVertical&&(n.isShowVertical=a.isShowVertical,n.position.x=a.position.x)}return n}},{key:"setSnaplineInfo",value:function(t){var e=t.isShowHorizontal,n=t.isShowVertical,r=t.position;this.position=r,this.isShowHorizontal=e,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var e=this.graphModel.nodes,n=this.getSnapLinePosition(t,e);this.setSnaplineInfo(n)}}]),t}(),dx=Ex(px.prototype,"isShowHorizontal",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hx=Ex(px.prototype,"isShowVertical",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yx=Ex(px.prototype,"position",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ex(px.prototype,"clearSnapline",[o["k"]],Object.getOwnPropertyDescriptor(px.prototype,"clearSnapline"),px.prototype),Ex(px.prototype,"setNodeSnapLine",[o["k"]],Object.getOwnPropertyDescriptor(px.prototype,"setNodeSnapLine"),px.prototype),px),Sx=new Map,Px=function(t){var e=lp();function n(){t();var r=Sx.get(e);if(r){var o=window.requestAnimationFrame(n);Sx.set(e,o)}}var r=window.requestAnimationFrame(n);return Sx.set(e,r),e},kx=function(t){var e=Sx.get(t);e&&(window.cancelAnimationFrame(e),Sx.delete(t))};function Mx(t){return Mx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mx(t)}function Ax(){return Ax=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ax.apply(this,arguments)}function Nx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nx(Object(n),!0).forEach((function(e){$x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tx(t,e){return zx(t)||Lx(t,e)||Rx(t,e)||Cx()}function Cx(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rx(t,e){if(t){if("string"===typeof t)return Ix(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ix(t,e):void 0}}function Ix(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lx(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function zx(t){if(Array.isArray(t))return t}function Bx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fx(t,e,n){return e&&Hx(t.prototype,e),n&&Hx(t,n),t}function Gx(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xx(t,e)}function Xx(t,e){return Xx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Xx(t,e)}function Yx(t){var e=Wx();return function(){var n,r=Kx(t);if(e){var o=Kx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ux(this,n)}}function Ux(t,e){if(e&&("object"===Mx(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vx(t)}function Vx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wx(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Kx(t){return Kx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Kx(t)}function $x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qx=function(t){Gx(n,t);var e=Yx(n);function n(){var t;return Bx(this,n),t=e.call(this),$x(Vx(t),"preTargetNode",void 0),$x(Vx(t),"sourceRuleResults",void 0),$x(Vx(t),"targetRuleResults",void 0),$x(Vx(t),"dragHandler",void 0),$x(Vx(t),"t",void 0),$x(Vx(t),"onDragStart",(function(e){var n=e.event,r=t.props,o=r.anchorData,i=r.nodeModel,a=r.graphModel,u=a.overlapMode;a.selectNodeById(i.id),u!==Nc.INCREASE&&i.autoToFront&&a.toFront(i.id),a.eventCenter.emit(Sc.ANCHOR_DRAGSTART,{data:o,e:n,nodeModel:i}),t.setState({startX:o.x,startY:o.y,endX:o.x,endY:o.y})})),$x(Vx(t),"onDraging",(function(e){var n=e.event,r=t.props,o=r.graphModel,i=r.nodeModel,a=r.anchorData,u=o.transformModel,c=o.eventCenter,s=o.width,l=o.height,f=o.editConfigModel,p=f.autoExpand,d=f.stopMoveGraph,h=n.clientX,y=n.clientY,v=o.getPointByClient({x:h,y:y}),g=v.domOverlayPosition,b=g.x,m=g.y,_=v.canvasOverlayPosition,O=_.x,w=_.y;t.t&&kx(t.t);var x=[],E=10;b<10?x=[E,0]:b+10>s?x=[-E,0]:m<10?x=[0,E]:m+10>l&&(x=[0,-E]),t.setState({endX:O,endY:w,draging:!0}),t.moveAnchorEnd(O,w),x.length>0&&!d&&p&&(t.t=Px((function(){var e=x,n=Tx(e,2),r=n[0],o=n[1];u.translate(r,o);var i=t.state,a=i.endX,c=i.endY;t.setState({endX:a-r,endY:c-o}),t.moveAnchorEnd(a-r,c-o)}))),c.emit(Sc.ANCHOR_DRAG,{data:a,e:n,nodeModel:i})})),$x(Vx(t),"onDragEnd",(function(e){t.t&&kx(t.t),t.checkEnd(e),t.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),t.sourceRuleResults.clear(),t.targetRuleResults.clear()})),$x(Vx(t),"checkEnd",(function(e){var n=t.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,a=i.x,u=i.y,c=i.id,s=(r.edgeType,t.state),l=s.endX,f=s.endY,p=s.draging,d=Bp({x:l,y:f},r);if(t.preTargetNode&&t.preTargetNode.state!==wc.DEFAULT&&t.preTargetNode.setElementState(wc.DEFAULT),p&&d&&d.node){var h=d.node,y=d.anchor.id,v="".concat(o.id,"_").concat(h.id,"_").concat(y,"_").concat(c),g=t.sourceRuleResults.get(v)||{},b=g.isAllPass,m=g.msg,_=t.targetRuleResults.get(v)||{},O=_.isAllPass,w=_.msg;if(b&&O){h.setElementState(wc.DEFAULT);var x=r.edgeGenerator(o.getData(),r.getNodeModelById(d.node.id).getData()),E=r.addEdge(Dx(Dx({},x),{},{sourceNodeId:o.id,sourceAnchorId:c,startPoint:{x:a,y:u},targetNodeId:d.node.id,targetAnchorId:d.anchor.id,endPoint:{x:d.anchor.x,y:d.anchor.y}})),j=t.props.anchorData;r.eventCenter.emit(Sc.ANCHOR_DROP,{data:j,e:e,nodeModel:o,edgeModel:E})}else{var S=h.getData();r.eventCenter.emit(Sc.CONNECTION_NOT_ALLOWED,{data:S,msg:w||m})}}})),t.sourceRuleResults=new Map,t.targetRuleResults=new Map,t.state={startX:0,startY:0,endX:0,endY:0,draging:!1},t.dragHandler=new Iy({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}return Fx(n,[{key:"getAnchorShape",value:function(){var t=this.props,e=t.anchorData,n=t.style,r=t.node,o=r.getAnchorShape(e);if(o)return o;var i=e.x,a=e.y,u=Dx(Dx({},n),n.hover);return Object(dt["g"])("g",null,Object(dt["g"])(pb,Ax({className:"lf-node-anchor-hover"},u,{x:i,y:a})),Object(dt["g"])(pb,Ax({className:"lf-node-anchor"},n,{x:i,y:a})))}},{key:"moveAnchorEnd",value:function(t,e){var n=this.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,a=Bp({x:t,y:e},r);if(a){var u=a.node,c=a.anchor.id;if(this.preTargetNode&&this.preTargetNode!==a.node&&this.preTargetNode.setElementState(wc.DEFAULT),i.id===c)return;this.preTargetNode=u;var s="".concat(o.id,"_").concat(u.id,"_").concat(c,"_").concat(i.id);if(!this.targetRuleResults.has(s)){var l=a.anchor,f=o.isAllowConnectedAsSource(u,i,l),p=u.isAllowConnectedAsTarget(o,i,l);this.sourceRuleResults.set(s,nd(f)),this.targetRuleResults.set(s,nd(p))}var d=this.sourceRuleResults.get(s),h=d.isAllPass,y=this.targetRuleResults.get(s),v=y.isAllPass;h&&v?u.setElementState(wc.ALLOW_CONNECT):u.setElementState(wc.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==wc.DEFAULT&&this.preTargetNode.setElementState(wc.DEFAULT)}},{key:"isShowLine",value:function(){var t=this.state,e=t.startX,n=t.startY,r=t.endX,o=t.endY,i=Gp(e,n,r,o);return i>10}},{key:"render",value:function(){var t=this,e=this.state,n=e.startX,r=e.startY,o=e.endX,i=e.endY,a=this.props,u=a.anchorData.edgeAddable,c=a.edgeStyle;return Object(dt["g"])("g",{className:"lf-anchor"},Object(dt["g"])("g",{onMouseDown:function(e){!1!==u&&t.dragHandler.handleMouseDown(e)}},this.getAnchorShape()),this.isShowLine()&&Object(dt["g"])(gg,Ax({x1:n,y1:r,x2:o,y2:i},c,{"pointer-events":"none"})))}}]),n}(dt["a"]),Zx=qx;n(63);function Jx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jx(Object(n),!0).forEach((function(e){tE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eE(t){return eE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eE(t)}function nE(t,e){return uE(t)||aE(t,e)||oE(t,e)||rE()}function rE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oE(t,e){if(t){if("string"===typeof t)return iE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iE(t,e):void 0}}function iE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aE(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function uE(t){if(Array.isArray(t))return t}function cE(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.value,a=t.fontSize,u=t.fill,c=void 0===u?"currentColor":u,s=t.overflowMode,l=void 0===s?"default":s,f=t.textWidth,p=void 0===f?"":f,d=t.model,h={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:c};if(Object.entries(t).forEach((function(t){var e=nE(t,2),n=e[0],r=e[1],o=eE(r);"object"!==o&&(h[n]=r)})),i){var y=String(i).split(/[\r\n]/g),v=y.length;if("default"!==l){var g=d.BaseType,b=d.modelType;if(g===jc.NODE&&b!==Ec.TEXT_NODE||g===jc.EDGE&&p)return sE(t)}if(v>1){var m=y.map((function(t,e){var r=a+2,i=(e-(v-1)/2)*r;return Object(dt["g"])("tspan",{className:"lf-text-tspan",x:n,y:o+i},t)}));return Object(dt["g"])("text",h,m)}return Object(dt["g"])("text",h,i)}}function sE(t){var e=t.value,n=t.fontSize,r=t.model,o=t.fontFamily,i=void 0===o?"":o,a=t.lineHeight,u=t.wrapPadding,c=void 0===u?"0, 0":u,s=t.overflowMode,l=t.x,f=t.y,p=r.width,d=r.textHeight,h=t.textWidth||p,y=String(e).split(/[\r\n]/g),v=y.length,g=td({rows:y,style:{fontSize:"".concat(n,"px"),width:"".concat(h,"px"),fontFamily:i,lineHeight:a,padding:c},rowsLength:v,className:"lf-get-text-height"}),b=r.height>g?r.height:g;d&&(b=d);var m="ellipsis"===s;return Object(dt["g"])("g",null,Object(dt["g"])("foreignObject",{width:h,height:b,x:l-h/2,y:f-b/2},Object(dt["g"])("div",{className:"lf-node-text-auto-wrap",style:{minHeight:b,width:h,padding:c}},Object(dt["g"])("div",{className:m?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:Qx({},t)},y.map((function(t){return Object(dt["g"])("div",{className:"lf-node-text--auto-wrap-inner"},t)}))))))}function lE(t){return lE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lE(t)}function fE(){return fE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fE.apply(this,arguments)}function pE(t,e){return gE(t)||vE(t,e)||hE(t,e)||dE()}function dE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hE(t,e){if(t){if("string"===typeof t)return yE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yE(t,e):void 0}}function yE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vE(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function gE(t){if(Array.isArray(t))return t}function bE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _E(t,e,n){return e&&mE(t.prototype,e),n&&mE(t,n),t}function OE(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wE(t,e)}function xE(t){var e=SE();return function(){var n,r=PE(t);if(e){var o=PE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EE(this,n)}}function EE(t,e){if(e&&("object"===lE(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jE(t)}function jE(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SE(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function PE(t){return PE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},PE(t)}function kE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ME=function(t){OE(n,t);var e=xE(n);function n(t){var r;bE(this,n),r=e.call(this),kE(jE(r),"dragHandler",void 0),kE(jE(r),"sumDeltaX",0),kE(jE(r),"sumDeltaY",0),kE(jE(r),"stepDrag",void 0),kE(jE(r),"onDraging",(function(t){var e=t.deltaX,n=t.deltaY,o=r.props,i=o.model,a=o.graphModel.transformModel,u=a.fixDeltaXY(e,n),c=pE(u,2),s=c[0],l=c[1];i.moveText(s,l)})),kE(jE(r),"dblClickHandler",(function(){var t=r.props.editable;if(t){var e=r.props.model;e.setElementState(wc.TEXT_EDIT)}})),kE(jE(r),"mouseDownHandle",(function(t){var e=r.props,n=e.draggable,o=e.graphModel.editConfigModel.nodeTextDraggable;(n||o)&&r.stepDrag.handleMouseDown(t)}));var o=t.model,i=t.draggable;return r.stepDrag=new Iy({onDraging:r.onDraging,step:1,model:o,isStopPropagation:i}),r}return _E(n,[{key:"getShape",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.text,o=n.editConfigModel,i=r.value,a=r.x,u=r.y,c=r.editable,s=r.draggable,l={x:a,y:u,className:"",value:i};c?l.className="lf-element-text":s||o.nodeTextDraggable?l.className="lf-text-draggable":l.className="lf-text-disabled";var f=e.getTextStyle();return Object(dt["g"])(cE,fE({},l,f,{model:e}))}},{key:"render",value:function(){var t=this.props.model.text;if(t)return Object(dt["g"])("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),n}(dt["a"]),AE=null!==window.navigator.userAgent.match(/MSIE|Trident/);function NE(t){return NE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NE(t)}function DE(t,e){return LE(t)||IE(t,e)||CE(t,e)||TE()}function TE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function CE(t,e){if(t){if("string"===typeof t)return RE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RE(t,e):void 0}}function RE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IE(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function LE(t){if(Array.isArray(t))return t}function zE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HE(t,e,n){return e&&BE(t.prototype,e),n&&BE(t,n),t}function FE(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GE(t,e)}function GE(t,e){return GE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},GE(t,e)}function XE(t){var e=VE();return function(){var n,r=WE(t);if(e){var o=WE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return YE(this,n)}}function YE(t,e){if(e&&("object"===NE(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return UE(t)}function UE(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VE(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function WE(t){return WE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},WE(t)}function KE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $E=function(t){FE(n,t);var e=XE(n);function n(t){var r;zE(this,n),r=e.call(this),KE(UE(r),"t",void 0),KE(UE(r),"moveOffset",void 0),KE(UE(r),"stepDrag",void 0),KE(UE(r),"contextMenuTime",void 0),KE(UE(r),"startTime",void 0),KE(UE(r),"clickTimer",void 0),KE(UE(r),"onDragStart",(function(t){var e=t.event,n=e.clientX,o=e.clientY,i=r.props,a=i.model,u=i.graphModel,c=u.getPointByClient({x:n,y:o}),s=c.canvasOverlayPosition,l=s.x,f=s.y;r.moveOffset={x:a.x-l,y:a.y-f}})),KE(UE(r),"onDraging",(function(t){var e=t.event,n=r.props,o=n.model,i=n.graphModel,a=i.editConfigModel,u=a.stopMoveGraph,c=a.autoExpand,s=i.transformModel,l=i.width,f=i.height,p=i.gridSize;o.isDragging=!0;var d=e.clientX,h=e.clientY,y=i.getPointByClient({x:d,y:h}),v=y.canvasOverlayPosition,g=v.x,b=v.y,m=s.CanvasPointToHtmlPoint([g,b]),_=DE(m,2),O=_[0],w=_[1];if(g+=r.moveOffset.x,b+=r.moveOffset.y,g=Gf(g,p),b=Gf(b,p),l&&f){var x=O<0||w<0||O>l||w>f;if(!c||u||!x){var E=s.CanvasPointToHtmlPoint([g-o.width/2,b-o.height/2]),j=DE(E,2),S=j[0],P=j[1],k=s.CanvasPointToHtmlPoint([g+o.width/2,b+o.height/2]),M=DE(k,2),A=M[0],N=M[1],D=Math.max(p,20),T=[];S<0?T=[D,0]:A>i.width?T=[-D,0]:P<0?T=[0,D]:N>i.height&&(T=[0,-D]),r.t&&kx(r.t),T.length>0&&!u&&c?r.t=Px((function(){var t=T,e=DE(t,2),n=e[0],r=e[1];s.translate(n,r),i.moveNode(o.id,-n/s.SCALE_X,-r/s.SCALE_X)})):i.moveNode2Coordinate(o.id,g,b)}}else i.moveNode2Coordinate(o.id,g,b)})),KE(UE(r),"onDragEnd",(function(){r.t&&kx(r.t);var t=r.props.model;t.isDragging=!1})),KE(UE(r),"handleClick",(function(t){if(r.startTime){var e=(new Date).getTime()-r.startTime;if(!(e>200)){var n=r.props,o=n.model,i=n.graphModel,a=o.getData(),u=i.getPointByClient({x:t.clientX,y:t.clientY}),c={data:a,e:t,position:u},s=2===t.button,l=2===t.detail;if(!s){var f=i.editConfigModel;i.selectNodeById(o.id,Jf(t,f)),r.toFront(),l?(f.nodeTextEdit&&o.text.editable&&(o.setSelected(!1),i.setElementStateById(o.id,wc.TEXT_EDIT)),i.eventCenter.emit(Sc.NODE_DBCLICK,c)):(i.eventCenter.emit(Sc.ELEMENT_CLICK,c),i.eventCenter.emit(Sc.NODE_CLICK,c))}}}})),KE(UE(r),"handleContextMenu",(function(t){t.preventDefault();var e=r.props,n=e.model,o=e.graphModel,i=n.getData(),a=o.getPointByClient({x:t.clientX,y:t.clientY});o.setElementStateById(n.id,wc.SHOW_MENU,a.domOverlayPosition),o.selectNodeById(n.id),o.eventCenter.emit(Sc.NODE_CONTEXTMENU,{data:i,e:t,position:a}),r.toFront()})),KE(UE(r),"handleMouseDown",(function(t){var e=r.props,n=e.model,o=e.graphModel;r.toFront(),r.startTime=(new Date).getTime();var i=o.editConfigModel;i.adjustNodePosition&&n.draggable&&r.stepDrag&&r.stepDrag.handleMouseDown(t)})),KE(UE(r),"setHoverON",(function(t){var e=r.state.isHovered;if(!e){r.setState({isHovered:!0});var n=r.props,o=n.model,i=n.graphModel,a=o.getData();o.setHovered(!0),i.eventCenter.emit(Sc.NODE_MOUSEENTER,{data:a,e:t})}})),KE(UE(r),"setHoverOFF",(function(t){r.setState({isHovered:!1});var e=r.props,n=e.model,o=e.graphModel,i=n.getData();n.setHovered(!1),o.eventCenter.emit(Sc.NODE_MOUSELEAVE,{data:i,e:t})})),KE(UE(r),"onMouseOut",(function(t){AE&&r.setHoverOFF(t)}));var o=t.graphModel,i=o.gridSize,a=o.eventCenter,u=t.model;return r.stepDrag=new Iy({onDragStart:r.onDragStart,onDraging:r.onDraging,onDragEnd:r.onDragEnd,step:i,eventType:"NODE",isStopPropagation:!1,eventCenter:a,model:u}),r.state={isHovered:!1},r}return HE(n,[{key:"getAnchorShape",value:function(t){return null}},{key:"getAnchors",value:function(){var t=this,e=this.props,n=e.model,r=e.graphModel,o=n.isSelected,i=n.isHitable,a=n.isDragging,u=this.state.isHovered;if(i&&(o||u)&&!a){var c=n.getAnchorLineStyle();return Ja(n.anchors,(function(e,o){var i=n.getAnchorStyle(e);return Object(dt["g"])(Zx,{anchorData:e,node:t,style:i,edgeStyle:c,anchorIndex:o,nodeModel:n,graphModel:r,setHoverOFF:t.setHoverOFF})}))}return[]}},{key:"getText",value:function(){var t=this.props,e=t.model,n=t.graphModel;if(e.state===wc.TEXT_EDIT)return"";if(e.text){var r=n.editConfigModel,o=!1;return(e.text.draggable||r.nodeTextDraggable)&&(o=!0),Object(dt["g"])(ME,{editable:r.nodeTextEdit&&e.text.editable,model:e,graphModel:n,draggable:o})}}},{key:"getStateClassName",value:function(){var t=this.props.model,e=t.state,n=t.isDraging,r=t.isSelected,o="lf-node";switch(e){case wc.ALLOW_CONNECT:o+=" lf-node-allow";break;case wc.NOT_ALLOW_CONNECT:o+=" lf-node-not-allow";break;default:o+=" lf-node-default";break}return n&&(o+=" lf-isDragging"),r&&(o+=" lf-node-selected"),o}},{key:"toFront",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=n.overlapMode;r!==Nc.INCREASE&&e.autoToFront&&n.toFront(e.id)}},{key:"render",value:function(){var t,e=this.props,n=e.model,r=e.graphModel,o=r.editConfigModel,i=o.hideAnchors,a=o.adjustNodePosition,u=r.gridSize,c=r.transformModel.SCALE_X,s=n.isHitable,l=n.draggable,f=Object(dt["g"])("g",{className:"lf-node-content"},this.getShape(),this.getText(),i?null:this.getAnchors());return s?(a&&l&&this.stepDrag.setStep(u*c),t=Object(dt["g"])("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},f)):t=Object(dt["g"])("g",{className:this.getStateClassName()},f),t}}],[{key:"getModel",value:function(t){return t}}]),n}(dt["a"]);function qE(t){return qE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qE(t)}function ZE(){return ZE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(this,arguments)}function JE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tj(t,e,n){return e&&QE(t.prototype,e),n&&QE(t,n),t}function ej(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nj(t,e)}function nj(t,e){return nj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nj(t,e)}function rj(t){var e=aj();return function(){var n,r=uj(t);if(e){var o=uj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oj(this,n)}}function oj(t,e){if(e&&("object"===qE(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ij(t)}function ij(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function uj(t){return uj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uj(t)}var cj=function(t){ej(n,t);var e=rj(n);function n(){return JE(this,n),e.apply(this,arguments)}return tj(n,[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(dt["g"])(Fg,ZE({},e,{x:t.x,y:t.y,width:t.width,height:t.height,radius:t.radius}))}}]),n}($E);function sj(t){return sj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sj(t)}function lj(){return lj=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lj.apply(this,arguments)}function fj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dj(t,e,n){return e&&pj(t.prototype,e),n&&pj(t,n),t}function hj(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yj(t,e)}function yj(t,e){return yj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yj(t,e)}function vj(t){var e=mj();return function(){var n,r=_j(t);if(e){var o=_j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gj(this,n)}}function gj(t,e){if(e&&("object"===sj(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bj(t)}function bj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _j(t){return _j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_j(t)}var Oj=function(t){hj(n,t);var e=vj(n);function n(){return fj(this,n),e.apply(this,arguments)}return dj(n,[{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.r,o=t.getNodeStyle();return Object(dt["g"])(pb,lj({},o,{x:e,y:n,r:r}))}}]),n}($E);function wj(t){return wj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wj(t)}function xj(t,e){return kj(t)||Pj(t,e)||jj(t,e)||Ej()}function Ej(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jj(t,e){if(t){if("string"===typeof t)return Sj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sj(t,e):void 0}}function Sj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pj(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function kj(t){if(Array.isArray(t))return t}function Mj(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach((function(t){var e=xj(t,2),n=e[0],o=e[1],i=wj(o);"object"!==i&&(r[n]=o)})),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map((function(t){return t.join(",")})).join(" "),Object(dt["g"])("polygon",r)}function Aj(t){return Aj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aj(t)}function Nj(){return Nj=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nj.apply(this,arguments)}function Dj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cj(t,e,n){return e&&Tj(t.prototype,e),n&&Tj(t,n),t}function Rj(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ij(t,e)}function Ij(t,e){return Ij=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ij(t,e)}function Lj(t){var e=Hj();return function(){var n,r=Fj(t);if(e){var o=Fj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zj(this,n)}}function zj(t,e){if(e&&("object"===Aj(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bj(t)}function Bj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Fj(t){return Fj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fj(t)}var Gj=function(t){Rj(n,t);var e=Lj(n);function n(){return Dj(this,n),e.apply(this,arguments)}return Cj(n,[{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.points,a=t.getNodeStyle(),u={transform:"matrix(1 0 0 1 ".concat(e-r/2," ").concat(n-o/2,")")};return Object(dt["g"])("g",u,Object(dt["g"])(Mj,Nj({},a,{points:i,x:e,y:n})))}}]),n}($E);function Xj(t){return Xj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xj(t)}function Yj(){return Yj=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yj.apply(this,arguments)}function Uj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wj(t,e,n){return e&&Vj(t.prototype,e),n&&Vj(t,n),t}function Kj(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$j(t,e)}function $j(t,e){return $j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$j(t,e)}function qj(t){var e=Qj();return function(){var n,r=tS(t);if(e){var o=tS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zj(this,n)}}function Zj(t,e){if(e&&("object"===Xj(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Jj(t)}function Jj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function tS(t){return tS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tS(t)}var eS=function(t){Kj(n,t);var e=qj(n);function n(){return Uj(this,n),e.apply(this,arguments)}return Wj(n,[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(dt["g"])("g",null,Object(dt["g"])(Mj,Yj({},e,{points:t.points,x:t.x,y:t.y})))}}]),n}($E);function nS(t){return nS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nS(t)}function rS(t,e){return cS(t)||uS(t,e)||iS(t,e)||oS()}function oS(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iS(t,e){if(t){if("string"===typeof t)return aS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aS(t,e):void 0}}function aS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uS(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function cS(t){if(Array.isArray(t))return t}function sS(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.rx,a=void 0===i?4:i,u=t.ry,c=void 0===u?4:u,s=t.className,l={cx:n,cy:o,rx:a,ry:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){var e=rS(t,2),n=e[0],r=e[1],o=nS(r);"object"!==o&&(l[n]=r)})),l.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",Object(dt["g"])("ellipse",l)}function lS(t){return lS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lS(t)}function fS(){return fS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(this,arguments)}function pS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hS(t,e,n){return e&&dS(t.prototype,e),n&&dS(t,n),t}function yS(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vS(t,e)}function vS(t,e){return vS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vS(t,e)}function gS(t){var e=_S();return function(){var n,r=OS(t);if(e){var o=OS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bS(this,n)}}function bS(t,e){if(e&&("object"===lS(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mS(t)}function mS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function OS(t){return OS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},OS(t)}var wS=function(t){yS(n,t);var e=gS(n);function n(){return pS(this,n),e.apply(this,arguments)}return hS(n,[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(dt["g"])(sS,fS({},e,{x:t.x,y:t.y,rx:t.rx,ry:t.ry}))}}]),n}($E);function xS(t){return xS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xS(t)}function ES(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ES(Object(n),!0).forEach((function(e){SS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function SS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MS(t,e,n){return e&&kS(t.prototype,e),n&&kS(t,n),t}function AS(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NS(t,e)}function NS(t,e){return NS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},NS(t,e)}function DS(t){var e=RS();return function(){var n,r=IS(t);if(e){var o=IS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TS(this,n)}}function TS(t,e){if(e&&("object"===xS(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return CS(t)}function CS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RS(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function IS(t){return IS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},IS(t)}var LS=function(t){AS(n,t);var e=DS(n);function n(){return PS(this,n),e.apply(this,arguments)}return MS(n,[{key:"getBackgroud",value:function(){var t=this.props.model,e=t.getTextStyle(),n=t.text;if(n&&n.value&&e.background&&"transparnet"!==e.background.fill){var r=n.x,o=n.y,i=t.width,a=t.height,u=jS(jS({},e.background),{},{x:r,y:o-1,width:i,height:a});return Object(dt["g"])(Fg,u)}}},{key:"getShape",value:function(){return Object(dt["g"])("g",null,this.getBackgroud())}}]),n}($E);function zS(t){return zS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zS(t)}function BS(){return BS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BS.apply(this,arguments)}function HS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GS(t,e,n){return e&&FS(t.prototype,e),n&&FS(t,n),t}function XS(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},YS(t,e)}function US(t){var e=KS();return function(){var n,r=$S(t);if(e){var o=$S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return VS(this,n)}}function VS(t,e){if(e&&("object"===zS(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return WS(t)}function WS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KS(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function $S(t){return $S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$S(t)}function qS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ZS=function(t){XS(n,t);var e=US(n);function n(){var t;HS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),qS(WS(t),"ref",void 0),qS(WS(t),"currrentProperties",void 0),qS(WS(t),"preProperties",void 0),qS(WS(t),"setRef",(function(e){t.ref=e})),t}return GS(n,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(t){t.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.height,o=t.width,i=t.getNodeStyle();return this.currrentProperties=JSON.stringify(t.properties),Object(dt["g"])("foreignObject",BS({},i,{x:e-o/2,y:n-r/2,width:o,height:r,ref:this.setRef}))}}]),n}($E);function JS(t){return JS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JS(t)}function QS(){return QS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QS.apply(this,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tP(Object(n),!0).forEach((function(e){pP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oP(t,e,n){return e&&rP(t.prototype,e),n&&rP(t,n),t}function iP(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aP(t,e)}function aP(t,e){return aP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},aP(t,e)}function uP(t){var e=lP();return function(){var n,r=fP(t);if(e){var o=fP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cP(this,n)}}function cP(t,e){if(e&&("object"===JS(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return sP(t)}function sP(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function fP(t){return fP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fP(t)}function pP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dP,hP=function(t){iP(n,t);var e=uP(n);function n(t){var r;return nP(this,n),r=e.call(this,t),pP(sP(r),"setHoverON",(function(){r.setState({isHoverd:!0})})),pP(sP(r),"setHoverOFF",(function(){r.setState({isHoverd:!1})})),r.state={isHoverd:!1},r}return oP(n,[{key:"getBackgroud",value:function(){var t=this.props.model,e=t.getTextStyle(),n=t.text,r=e.background||{},o=this.state.isHoverd;if(o&&e.hover&&e.hover.background&&(r=eP(eP({},r),e.hover.background)),n&&n.value&&"transparent"!==r.fill){var i,a=e.fontSize,u=e.overflowMode,c=e.lineHeight,s=e.wrapPadding,l=e.textWidth,f=n.value,p=n.x,d=n.y,h=String(f).split(/[\r\n]/g),y=h.length;if("autoWrap"===u&&l){var v=td({rows:h,style:{fontSize:"".concat(a,"px"),width:"".concat(l,"px"),lineHeight:c,padding:s},rowsLength:y,className:"lf-get-text-height"});i=eP(eP({},r),{},{x:p-1,y:d-1,width:l,height:v})}else{var g=0;h&&h.forEach((function(t){var e=oy(t);g=e>g?e:g}));var b=ed({rows:h,fontSize:a,rowsLength:y}),m=b.width,_=b.height;if("string"===typeof r.wrapPadding){var O=r.wrapPadding.split(",").filter((function(t){return t.trim()})).map((function(t){return parseFloat(t.trim())}));O.length>0&&O.length<=4&&(1===O.length?O=[O[0],O[0],O[0],O[0]]:2===O.length?O=[O[0],O[1],O[0],O[1]]:3===O.length&&(O=[O[0],O[1],O[2],O[1]]),m+=O[1]+O[3],_+=O[0]+O[2],p+=(O[1]-O[3])/2,d+=(O[2]-O[0])/2)}i=eP(eP({},r),{},{x:p-1,y:d-1,width:m,height:_})}return Object(dt["g"])(Fg,i)}}},{key:"getShape",value:function(){var t=this.props.model,e=t.text,n=e.value,r=e.x,o=e.y;if(n){var i=t.getTextStyle(),a=eP({x:r,y:o,className:"lf-element-text",value:n},i);return Object(dt["g"])("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(dt["g"])(cE,QS({},a,{model:t})))}}}]),n}(ME);function yP(t){return yP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yP(t)}function vP(){return vP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vP.apply(this,arguments)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gP(Object(n),!0).forEach((function(e){RP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mP(t,e){return EP(t)||xP(t,e)||OP(t,e)||_P()}function _P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function OP(t,e){if(t){if("string"===typeof t)return wP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wP(t,e):void 0}}function wP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xP(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function EP(t){if(Array.isArray(t))return t}function jP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PP(t,e,n){return e&&SP(t.prototype,e),n&&SP(t,n),t}function kP(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&MP(t,e)}function MP(t,e){return MP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},MP(t,e)}function AP(t){var e=TP();return function(){var n,r=CP(t);if(e){var o=CP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return NP(this,n)}}function NP(t,e){if(e&&("object"===yP(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return DP(t)}function DP(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function CP(t){return CP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},CP(t)}function RP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t["SOURCE"]="SOURCE",t["TARGET"]="TARGET"})(dP||(dP={}));var IP=function(t){kP(n,t);var e=AP(n);function n(){var t;return jP(this,n),t=e.call(this),RP(DP(t),"dragHandler",void 0),RP(DP(t),"oldEdge",void 0),RP(DP(t),"preTargetNode",void 0),RP(DP(t),"targetRuleResults",void 0),RP(DP(t),"sourceRuleResults",void 0),RP(DP(t),"onDragStart",(function(){var e=t.props,n=e.x,r=e.y,o=e.edgeModel,i=o.startPoint,a=o.endPoint,u=o.pointsList;t.oldEdge={startPoint:i,endPoint:a,pointsList:u},t.setState({endX:n,endY:r,draging:!0}),o.isHitable=!1})),RP(DP(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.state,i=o.endX,a=o.endY,u=t.props,c=u.graphModel,s=u.type,l=c.transformModel,f=l.moveCanvasPointByHtml([i,a],n,r),p=mP(f,2),d=p[0],h=p[1];t.setState({endX:d,endY:h,draging:!0});var y=t.props.edgeModel,v=Bp({x:i,y:a},c);if(v&&v.node&&t.isAllowAdjust(v)){var g,b=y.startPoint,m=y.endPoint,_=y.sourceNode,O=y.targetNode;s===dP.SOURCE?g={startPoint:{x:v.anchor.x,y:v.anchor.y},endPoint:{x:m.x,y:m.y},sourceNode:v.node,targetNode:O}:s===dP.TARGET&&(g={startPoint:{x:b.x,y:b.y},endPoint:{x:v.anchor.x,y:v.anchor.y},sourceNode:_,targetNode:v.node}),y.updateAfterAdjustStartAndEnd(g)}else s===dP.SOURCE?y.updateStartPoint({x:d,y:h}):s===dP.TARGET&&y.updateEndPoint({x:d,y:h})})),RP(DP(t),"onDragEnd",(function(){var e;t.setState({draging:!1});var n=t.props,r=n.graphModel,o=n.edgeModel,i=n.type;o.isHitable=!0;var a=t.state,u=a.endX,c=a.endY,s=a.draging,l=Bp({x:u,y:c},r);if(s){if(l&&l.node&&t.isAllowAdjust(l)){var f,p=o.getData(),d=bP(bP({},p),{},{sourceAnchorId:"",targetAnchorId:"",text:(null===p||void 0===p||null===(f=p.text)||void 0===f?void 0:f.value)||""});if(i===dP.SOURCE){var h=r.edgeGenerator(r.getNodeModelById(l.node.id).getData(),r.getNodeModelById(o.targetNodeId).getData(),d);d=bP(bP({},h),{},{sourceNodeId:l.node.id,sourceAnchorId:l.anchor.id,startPoint:{x:l.anchor.x,y:l.anchor.y},targetNodeId:o.targetNodeId,endPoint:bP({},o.endPoint)})}else if(i===dP.TARGET){var y=r.edgeGenerator(r.getNodeModelById(o.sourceNodeId).getData(),r.getNodeModelById(l.node.id).getData(),d);d=bP(bP({},y),{},{sourceNodeId:o.sourceNodeId,startPoint:bP({},o.startPoint),targetNodeId:l.node.id,targetAnchorId:l.anchor.id,endPoint:{x:l.anchor.x,y:l.anchor.y}})}r.deleteEdgeById(o.id);var v=r.addEdge(bP({},d));r.eventCenter.emit(Sc.EDGE_EXCHANGE_NODE,{data:{newEdge:v.getData(),oldEdge:o.getData()}})}else t.recoveryEdge();null===(e=t.preTargetNode)||void 0===e||e.setElementState(wc.DEFAULT)}})),RP(DP(t),"recoveryEdge",(function(){var e=t.props.edgeModel,n=t.oldEdge,r=n.startPoint,o=n.endPoint,i=n.pointsList;e.updateStartPoint(r),e.updateEndPoint(o),e.modelType!==Ec.LINE_EDGE&&(e.pointsList=i,e.initPoints())})),RP(DP(t),"getAdjustPointStyle",(function(){var e=t.props.graphModel.theme,n=e.edgeAdjust;return n})),t.state={draging:!1,endX:0,endY:0},t.targetRuleResults=new Map,t.sourceRuleResults=new Map,t.dragHandler=wy({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}return PP(n,[{key:"isAllowAdjust",value:function(t){var e=this.props,n=e.edgeModel,r=(n.id,n.sourceNode),o=n.targetNode,i=n.sourceAnchorId,a=n.targetAnchorId,u=e.type,c=null,s=null,l=null,f=null;if(u===dP.SOURCE?(c=t.node,s=o,l=t.anchor,f=o.getAnchorInfo(a)):(c=r,s=t.node,f=t.anchor,l=r.getAnchorInfo(i)),this.preTargetNode&&this.preTargetNode!==t.node&&this.preTargetNode.setElementState(wc.DEFAULT),this.preTargetNode=t.node,f.id===l.id)return!1;var p="".concat(c.id,"_").concat(s.id,"_").concat(l.id,"_").concat(f.id);if(!this.targetRuleResults.has(p)){var d=c.isAllowConnectedAsSource(s,l,f),h=s.isAllowConnectedAsTarget(c,l,f);this.sourceRuleResults.set(p,nd(d)),this.targetRuleResults.set(p,nd(h))}var y=this.sourceRuleResults.get(p),v=y.isAllPass,g=this.targetRuleResults.get(p),b=g.isAllPass,m=v&&b?wc.ALLOW_CONNECT:wc.NOT_ALLOW_CONNECT;return u===dP.SOURCE?c.setElementState(m):s.setElementState(m),v&&b}},{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=this.state.draging,o=this.getAdjustPointStyle();return Object(dt["g"])("g",null,Object(dt["g"])(pb,vP({className:"lf-edge-adjust-point"},o,{x:e,y:n,onMouseDown:this.dragHandler,"pointer-events":r?"none":""})))}}]),n}(dt["a"]);function LP(t){return LP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LP(t)}function zP(){return zP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zP.apply(this,arguments)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function HP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?BP(Object(n),!0).forEach((function(e){ZP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function FP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XP(t,e,n){return e&&GP(t.prototype,e),n&&GP(t,n),t}function YP(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UP(t,e)}function UP(t,e){return UP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},UP(t,e)}function VP(t){var e=$P();return function(){var n,r=qP(t);if(e){var o=qP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WP(this,n)}}function WP(t,e){if(e&&("object"===LP(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return KP(t)}function KP(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function qP(t){return qP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qP(t)}function ZP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var JP=function(t){YP(n,t);var e=VP(n);function n(){var t;FP(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),ZP(KP(t),"startTime",void 0),ZP(KP(t),"contextMenuTime",void 0),ZP(KP(t),"clickTimer",void 0),ZP(KP(t),"handleHover",(function(e,n){var r=t.props,o=r.model,i=r.graphModel.eventCenter;o.setHovered(e);var a=e?Sc.EDGE_MOUSEENTER:Sc.EDGE_MOUSELEAVE,u=o.getData();i.emit(a,{data:u,e:n})})),ZP(KP(t),"setHoverON",(function(e){var n=t.props.model.isHovered;n||t.handleHover(!0,e)})),ZP(KP(t),"setHoverOFF",(function(e){t.handleHover(!1,e)})),ZP(KP(t),"handleContextMenu",(function(e){e.preventDefault(),t.contextMenuTime=(new Date).getTime(),t.clickTimer&&clearTimeout(t.clickTimer);var n=t.props,r=n.model,o=n.graphModel,i=o.getPointByClient({x:e.clientX,y:e.clientY});o.setElementStateById(r.id,wc.SHOW_MENU,i.domOverlayPosition),t.toFront(),o.selectEdgeById(r.id);var a=null===r||void 0===r?void 0:r.getData();o.eventCenter.emit(Sc.EDGE_CONTEXTMENU,{data:a,e:e,position:i})})),ZP(KP(t),"handleMouseDown",(function(e){e.stopPropagation(),t.startTime=(new Date).getTime()})),ZP(KP(t),"handleMouseUp",(function(e){if(t.startTime){var n=(new Date).getTime()-t.startTime;if(!(n>200)){var r=2===e.button;if(!r){var o=2===e.detail,i=t.props,a=i.model,u=i.graphModel,c=null===a||void 0===a?void 0:a.getData(),s=u.getPointByClient({x:e.clientX,y:e.clientY});if(o){var l=u.editConfigModel,f=u.textEditElement;if(f&&f.id===a.id&&u.setElementStateById(a.id,wc.DEFAULT),l.edgeTextEdit&&a.text.editable&&u.setElementStateById(a.id,wc.TEXT_EDIT),a.modelType===Ec.POLYLINE_EDGE){var p=a,d=u.getPointByClient({x:e.x,y:e.y}),h=d.canvasOverlayPosition,y=h.x,v=h.y,g=ly({x:y,y:v},p.points);p.dbClickPosition=g}u.eventCenter.emit(Sc.EDGE_DBCLICK,{data:c,e:e,position:s})}else u.eventCenter.emit(Sc.ELEMENT_CLICK,{data:c,e:e,position:s}),u.eventCenter.emit(Sc.EDGE_CLICK,{data:c,e:e,position:s});var b=u.editConfigModel;u.selectEdgeById(a.id,Jf(e,b)),t.toFront()}}}})),ZP(KP(t),"getIsDraging",(function(){return!1})),t}return XP(n,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var t=this.props,e=t.model,n=t.graphModel;if(e.state===wc.TEXT_EDIT)return"";var r=!1,o=n.editConfigModel;return(e.text.draggable||o.edgeTextDraggable)&&(r=!0),Object(dt["g"])(hP,{editable:o.edgeTextEdit&&e.text.editable,model:e,graphModel:n,draggable:r})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint,r=t.isSelected,o=this.state,i=o.hover;return{start:e,end:n,hover:i,isSelected:r}}},{key:"getArrowStyle",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.getEdgeStyle(),o=e.getEdgeAnimationStyle(),i=n.theme.arrow,a=e.isAnimation?o.stroke:r.stroke;return HP(HP({},r),{},{fill:a,stroke:a},i)}},{key:"getArrow",value:function(){return Object(dt["g"])("g",null,Object(dt["g"])("defs",null,this.getStartArrow(),this.getEndArrow()))}},{key:"getStartArrow",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.id,o=n.theme.arrow,i=o.offset,a=o.verticalLength,u=this.getArrowStyle(),c=u.stroke,s=u.strokeWidth;return Object(dt["g"])("marker",{id:"marker-start-".concat(r),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(dt["g"])("path",{stroke:c,fill:c,strokeWidth:s,d:"M 0 0 L ".concat(i," -").concat(a," L ").concat(i," ").concat(a," Z")}))}},{key:"getEndArrow",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.id,o=n.theme.arrow,i=o.offset,a=o.verticalLength,u=this.getArrowStyle(),c=u.stroke,s=u.strokeWidth;return Object(dt["g"])("marker",{id:"marker-end-".concat(r),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(dt["g"])("path",{stroke:c,fill:c,strokeWidth:s,transform:"rotate(180)",d:"M 0 0 L ".concat(i," -").concat(a," L ").concat(i," ").concat(a," Z")}))}},{key:"getAdjustPoints",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.getAdjustStart(),o=e.getAdjustEnd();return Object(dt["g"])("g",null,Object(dt["g"])(IP,zP({type:"SOURCE"},r,{edgeModel:e,graphModel:n})),Object(dt["g"])(IP,zP({type:"TARGET"},o,{edgeModel:e,graphModel:n})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(dt["g"])("g",null)}},{key:"getAppend",value:function(){return Object(dt["g"])("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var t=this.props,e=t.graphModel,n=t.model,r=e.overlapMode;r!==Nc.INCREASE&&e.toFront(n.id)}},{key:"render",value:function(){var t=this.props,e=t.model,n=e.isSelected,r=e.isHitable,o=t.graphModel,i=this.getIsDraging(),a=o.editConfigModel.adjustEdgeStartAndEnd,u=o.animation,c=n&&u.edge&&1===o.getSelectElements().edges.length;return Object(dt["g"])("g",null,Object(dt["g"])("g",{className:["lf-edge",!r&&"pointer-none",n&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),c&&this.getAnimation(),this.getText(),this.getArrow()),a&&n&&!i?this.getAdjustPoints():"")}}]),n}(dt["a"]);function QP(t){return QP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QP(t)}function tk(t,e){return ik(t)||ok(t,e)||nk(t,e)||ek()}function ek(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nk(t,e){if(t){if("string"===typeof t)return rk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rk(t,e):void 0}}function rk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ok(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function ik(t){if(Array.isArray(t))return t}function ak(t){var e={d:""};return Object.entries(t).forEach((function(t){var n=tk(t,2),r=n[0],o=n[1],i=QP(o);"style"!==r&&"object"===i||(e[r]=o)})),Object(dt["g"])("path",e)}var uk=ak;function ck(t){return ck="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ck(t)}function sk(){return sk=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sk.apply(this,arguments)}function lk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pk(t,e,n){return e&&fk(t.prototype,e),n&&fk(t,n),t}function dk(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hk(t,e)}function hk(t,e){return hk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hk(t,e)}function yk(t){var e=bk();return function(){var n,r=mk(t);if(e){var o=mk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vk(this,n)}}function vk(t,e){if(e&&("object"===ck(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gk(t)}function gk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bk(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function mk(t){return mk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mk(t)}var _k=function(t){dk(n,t);var e=yk(n);function n(){return lk(this,n),e.apply(this,arguments)}return pk(n,[{key:"getEdge",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint,r=t.isAnimation,o=t.arrowConfig,i=t.getEdgeStyle(),a=t.getEdgeAnimationStyle(),u=a.strokeDasharray,c=a.stroke,s=a.strokeDashoffset,l=a.animationName,f=a.animationDuration,p=a.animationIterationCount,d=a.animationTimingFunction,h=a.animationDirection;return Object(dt["g"])(gg,sk({},i,{x1:e.x,y1:e.y,x2:n.x,y2:n.y},o,r?{strokeDasharray:u,stroke:c,style:{strokeDashoffset:s,animationName:l,animationDuration:f,animationIterationCount:p,animationTimingFunction:d,animationDirection:h}}:{}))}},{key:"getShape",value:function(){return Object(dt["g"])("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var t=this.props.model,e=t.getAnimation(),n=e.stroke,r=e.className,o=e.strokeDasharray,i=t.startPoint,a=t.endPoint,u=t.getEdgeStyle();return Object(dt["g"])("g",null,Object(dt["g"])(gg,sk({},u,{x1:i.x,y1:i.y,x2:a.x,y2:a.y,className:r,strokeDasharray:o,stroke:n})))}},{key:"getAppendWidth",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint,r={start:e,end:n},o=iy(r),i=o.d,a=o.strokeWidth,u=o.fill,c=o.strokeDasharray,s=o.stroke;return Object(dt["g"])(uk,{d:i,fill:u,strokeWidth:a,stroke:s,strokeDasharray:c})}}]),n}(JP);function Ok(t){return Ok="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ok(t)}function wk(t,e){return Pk(t)||Sk(t,e)||Ek(t,e)||xk()}function xk(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ek(t,e){if(t){if("string"===typeof t)return jk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jk(t,e):void 0}}function jk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sk(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Pk(t){if(Array.isArray(t))return t}function kk(t){var e={points:"",fill:"none"};return Object.entries(t).forEach((function(t){var n=wk(t,2),r=n[0],o=n[1];if("style"===r)e[r]=o;else{var i=Ok(o);"object"!==i&&(e[r]=o)}})),Object(dt["g"])("polyline",e)}var Mk=kk;function Ak(t){return Ak="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ak(t)}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nk(Object(n),!0).forEach((function(e){qk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tk(){return Tk=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tk.apply(this,arguments)}function Ck(t,e){return Bk(t)||zk(t,e)||Ik(t,e)||Rk()}function Rk(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ik(t,e){if(t){if("string"===typeof t)return Lk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lk(t,e):void 0}}function Lk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zk(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Bk(t){if(Array.isArray(t))return t}function Hk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gk(t,e,n){return e&&Fk(t.prototype,e),n&&Fk(t,n),t}function Xk(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yk(t,e)}function Yk(t,e){return Yk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Yk(t,e)}function Uk(t){var e=Kk();return function(){var n,r=$k(t);if(e){var o=$k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vk(this,n)}}function Vk(t,e){if(e&&("object"===Ak(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wk(t)}function Wk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kk(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function $k(t){return $k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$k(t)}function qk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zk=function(t){Xk(n,t);var e=Uk(n);function n(){var t;return Hk(this,n),t=e.call(this),qk(Wk(t),"drag",void 0),qk(Wk(t),"isDraging",void 0),qk(Wk(t),"appendInfo",void 0),qk(Wk(t),"dragHandler",void 0),qk(Wk(t),"onDragStart",(function(){var e=t.props.model;e.dragAppendStart()})),qk(Wk(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.props,i=o.model,a=o.graphModel;t.isDraging=!0;var u=a.transformModel,c=a.editConfigModel,s=u.fixDeltaXY(n,r),l=Ck(s,2),f=l[0],p=l[1],d=i,h=c.adjustEdgeMiddle;t.appendInfo=h?d.dragAppendSimple(t.appendInfo,{x:f,y:p}):d.dragAppend(t.appendInfo,{x:f,y:p})})),qk(Wk(t),"onDragEnd",(function(){var e=t.props,n=e.model,r=e.graphModel.eventCenter,o=n;o.dragAppendEnd(),t.isDraging=!1,t.appendInfo=void 0,r.emit(Sc.EDGE_ADJUST,{data:o.getData()})})),qk(Wk(t),"beforeDragStart",(function(e,n){n.dragAble&&t.dragHandler(e),t.appendInfo=n})),qk(Wk(t),"getIsDraging",(function(){return t.isDraging})),t.drag=wy({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd,isStopPropagation:!1}),t}return Gk(n,[{key:"getEdge",value:function(){var t=this.props.model,e=t.points,n=t.isAnimation,r=t.arrowConfig,o=t.getEdgeStyle(),i=t.getEdgeAnimationStyle(),a=i.strokeDasharray,u=i.stroke,c=i.strokeDashoffset,s=i.animationName,l=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object(dt["g"])(Mk,Tk({points:e},o,r,n?{strokeDasharray:a,stroke:u,style:{strokeDashoffset:c,animationName:s,animationDuration:l,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getShape",value:function(){return Object(dt["g"])("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var t=this.props.model,e=t.getAnimation(),n=e.stroke,r=e.className,o=e.strokeDasharray,i=t.getEdgeStyle();return Object(dt["g"])("g",null,Object(dt["g"])(Mk,Tk({points:t.points},i,{className:r,strokeDasharray:o,stroke:n})))}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.points,n=t.isSelected,r=this.state,o=r.hover,i={start:null,end:null,hover:o,isSelected:n},a=ey(e);return a.length>=2&&(i.start=a[a.length-2],i.end=a[a.length-1]),i}},{key:"getAppendAttributes",value:function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=fh(Dk(Dk({},o),{},{type:"start"})),a=fh(Dk(Dk({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(t){var e=this.getAppendAttributes(t),n=e.d,r=e.strokeWidth,o=e.fill,i=e.strokeDasharray,a=e.stroke;return Object(dt["g"])(uk,{d:n,fill:o,strokeWidth:r,stroke:a,strokeDasharray:i})}},{key:"getAppendWidth",value:function(){for(var t=this,e=this.props,n=e.model,r=e.graphModel,o=n.pointsList,i=n.draggable,a=[],u=o.length,c=function(e){var n="lf-polyline-append",c={start:{x:o[e].x,y:o[e].y},end:{x:o[e+1].x,y:o[e+1].y},startIndex:e,endIndex:e+1,direction:"",dragAble:!0},s=Object(dt["g"])("g",{className:n},t.getAppendShape(c)),l=r.editConfigModel,f=l.adjustEdge,p=l.adjustEdgeMiddle;if(f&&i){t.dragHandler=t.drag;var d=c.startIndex,h=c.endIndex,y=p&&(0===d||h===u-1);c.dragAble=!y,c.start.x===c.end.x?(c.dragAble&&(n+="-ew-resize"),c.direction=Pc.VERTICAL):c.start.y===c.end.y&&(c.dragAble&&(n+="-ns-resize"),c.direction=Pc.HORIZONTAL),s=Object(dt["g"])("g",{className:t.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(e){return t.beforeDragStart(e,c)}},Object(dt["g"])("g",{className:n},t.getAppendShape(c)))}else t.dragHandler=function(){};a.push(s)},s=0;s<u-1;s++)c(s);return Object(dt["g"])("g",null,a)}}]),n}(JP);function Jk(t){return Jk="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jk(t)}function Qk(t,e){return oM(t)||rM(t,e)||eM(t,e)||tM()}function tM(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eM(t,e){if(t){if("string"===typeof t)return nM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nM(t,e):void 0}}function nM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rM(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function oM(t){if(Array.isArray(t))return t}function iM(){return iM=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iM.apply(this,arguments)}function aM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cM(t,e,n){return e&&uM(t.prototype,e),n&&uM(t,n),t}function sM(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lM(t,e)}function lM(t,e){return lM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},lM(t,e)}function fM(t){var e=hM();return function(){var n,r=yM(t);if(e){var o=yM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pM(this,n)}}function pM(t,e){if(e&&("object"===Jk(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dM(t)}function dM(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hM(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function yM(t){return yM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yM(t)}var vM=function(t){sM(n,t);var e=fM(n);function n(){return aM(this,n),e.apply(this,arguments)}return cM(n,[{key:"getEdge",value:function(){var t=this.props.model,e=t.getEdgeStyle(),n=t.path,r=t.isAnimation,o=t.arrowConfig,i=t.getEdgeAnimationStyle(),a=i.strokeDasharray,u=i.stroke,c=i.strokeDashoffset,s=i.animationName,l=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object(dt["g"])(uk,iM({d:n},e,o,r?{strokeDasharray:a,stroke:u,style:{strokeDashoffset:c,animationName:s,animationDuration:l,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getShape",value:function(){return Object(dt["g"])("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var t=this.props.model,e=t.getAnimation(),n=e.stroke,r=e.className,o=e.strokeDasharray,i=t.getEdgeStyle();return Object(dt["g"])("g",null,Object(dt["g"])(uk,iM({d:t.path},i,{className:r,strokeDasharray:o,stroke:n})))}},{key:"getAppendWidth",value:function(){var t=this.props.model.path;return Object(dt["g"])(uk,{d:t,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=this.state,n=e.hover,r=t,o=r.path,i=r.isSelected,a=sy(o),u=Qk(a,2),c=u[0],s=u[1],l={start:c,end:s,hover:n,isSelected:i};return l}}]),n}(JP);function gM(t){return gM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gM(t)}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bM(Object(n),!0).forEach((function(e){_M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xM(t,e,n){return e&&wM(t.prototype,e),n&&wM(t,n),t}function EM(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jM(t,e)}function jM(t,e){return jM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jM(t,e)}function SM(t){var e=MM();return function(){var n,r=AM(t);if(e){var o=AM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return PM(this,n)}}function PM(t,e){if(e&&("object"===gM(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kM(t)}function kM(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MM(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function AM(t){return AM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},AM(t)}var NM=function(t){EM(n,t);var e=SM(n);function n(){return OM(this,n),e.apply(this,arguments)}return xM(n,[{key:"getArrowAttributes",value:function(){var t=this.props,e=t.arrowInfo,n=t.style,r=e.start,o=e.end,i={start:r,end:o,offset:n.offset,verticalLength:n.verticalLength,type:"end"},a=fh(i),u=a.leftX,c=a.leftY,s=a.rightX,l=a.rightY;return mM({d:"M".concat(u," ").concat(c," L").concat(o.x," ").concat(o.y," L").concat(s," ").concat(l," z")},n)}},{key:"getShape",value:function(){var t=this.getArrowAttributes(),e=t.d,n=t.strokeWidth,r=t.stroke,o=t.fill;return Object(dt["g"])(uk,{d:e,fill:o,strokeWidth:n,stroke:r})}},{key:"render",value:function(){return Object(dt["g"])("g",{className:"lf-arrow"},this.getShape())}}]),n}(dt["a"]);function DM(t,e){return Pi(t,e)}var TM=DM;function CM(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var RM=CM,IM=function(){return Gt["a"].Date.now()},LM=IM,zM=/\s/;function BM(t){var e=t.length;while(e--&&zM.test(t.charAt(e)));return e}var HM=BM,FM=/^\s+/;function GM(t){return t?t.slice(0,HM(t)+1).replace(FM,""):t}var XM=GM,YM=NaN,UM=/^[-+]0x[0-9a-f]+$/i,VM=/^0b[01]+$/i,WM=/^0o[0-7]+$/i,KM=parseInt;function $M(t){if("number"==typeof t)return t;if(Gi(t))return YM;if(ue(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ue(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=XM(t);var n=VM.test(t);return n||WM.test(t)?KM(t.slice(2),n?2:8):UM.test(t)?YM:+t}var qM=$M,ZM="Expected a function",JM=Math.max,QM=Math.min;function tA(t,e,n){var r,o,i,a,u,c,s=0,l=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError(ZM);function d(e){var n=r,i=o;return r=o=void 0,s=e,a=t.apply(i,n),a}function h(t){return s=t,u=setTimeout(g,e),l?d(t):a}function y(t){var n=t-c,r=t-s,o=e-n;return f?QM(o,i-r):o}function v(t){var n=t-c,r=t-s;return void 0===c||n>=e||n<0||f&&r>=i}function g(){var t=LM();if(v(t))return b(t);u=setTimeout(g,y(t))}function b(t){return u=void 0,p&&r?d(t):(r=o=void 0,a)}function m(){void 0!==u&&clearTimeout(u),s=0,r=c=o=u=void 0}function _(){return void 0===u?a:b(LM())}function O(){var t=LM(),n=v(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return h(c);if(f)return clearTimeout(u),u=setTimeout(g,e),d(c)}return void 0===u&&(u=setTimeout(g,e)),a}return e=qM(e)||0,ue(n)&&(l=!!n.leading,f="maxWait"in n,i=f?JM(qM(n.maxWait)||0,e):i,p="trailing"in n?!!n.trailing:p),O.cancel=m,O.flush=_,O}var eA=tA,nA=n(166);function rA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iA(t,e,n){return e&&oA(t.prototype,e),n&&oA(t,n),t}function aA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uA,cA,sA,lA=function(){function t(e){rA(this,t),aA(this,"undos",[]),aA(this,"redos",[]),aA(this,"callbacks",[]),aA(this,"stopWatch",null),aA(this,"curData",null),aA(this,"maxSize",50),aA(this,"waitTime",100),aA(this,"eventCenter",void 0),this.eventCenter=e}return iA(t,[{key:"add",value:function(t){TM(RM(this.undos),t)||(this.undos.push(t),TM(this.curData,t)||(this.redos=[]),this.eventCenter.emit(Sc.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var e=this.undos.pop();return this.curData=ff(e),e}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=ff(t),t}}},{key:"watch",value:function(t){var e=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(nA["a"])(t,eA((function(){var n=t.modelToHistoryData();n&&e.add(n)}),this.waitTime))}}]),t}(),fA=lA;function pA(t){return pA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pA(t)}function dA(t,e){return bA(t)||gA(t,e)||yA(t,e)||hA()}function hA(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yA(t,e){if(t){if("string"===typeof t)return vA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vA(t,e):void 0}}function vA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gA(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function bA(t){if(Array.isArray(t))return t}function mA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mA(Object(n),!0).forEach((function(e){NA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function OA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xA(t,e,n){return e&&wA(t.prototype,e),n&&wA(t,n),t}function EA(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jA(t,e)}function SA(t){var e=MA();return function(){var n,r=AA(t);if(e){var o=AA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return PA(this,n)}}function PA(t,e){if(e&&("object"===pA(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kA(t)}function kA(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function AA(t){return AA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},AA(t)}function NA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DA,TA,CA,RA=LN((sA=cA=function(t){EA(n,t);var e=SA(n);function n(){var t;return OA(this,n),t=e.call(this),NA(kA(t),"ref",Object(dt["f"])()),NA(kA(t),"__prevText",{type:"",text:"",id:""}),NA(kA(t),"keyupHandler",(function(e){var n=t.props.graphModel.textEditElement;"Enter"===e.key&&e.altKey&&n.setElementState(0)})),NA(kA(t),"inputHandler",(function(e){var n=e.target,r=n.innerText,o=t.props.graphModel.textEditElement;t.__prevText={type:o.type,text:r.replace(/(\r\n)+$|(\n)+$/,""),id:o.id}})),NA(kA(t),"keydownHandler",(function(t){t.stopPropagation()})),t.state={style:{left:0,top:0}},t}return xA(n,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var t=this.props.graphModel,e=t.eventCenter,n=t.editConfigModel,r=n.edgeTextEdit,o=n.nodeTextEdit;(r||o)&&e.on("".concat(Sc.GRAPH_TRANSFORM,",").concat(Sc.NODE_CLICK,",").concat(Sc.BLANK_CLICK," "),(function(){t.textEditElement&&t.textEditElement.setElementState(wc.DEFAULT)}))}},{key:"componentDidUpdate",value:function(){var t=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var e=this.__prevText,n=e.text,r=e.id;t.updateText(r,n),t.eventCenter.emit(Sc.TEXT_UPDATE,_A({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(t){if(void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}}},{key:"render",value:function(){var t,e=this.props.graphModel.textEditElement,n=this.state.style;return e?Object(dt["g"])("div",{contentEditable:!0,className:"lf-text-input",style:n,ref:this.ref,key:e.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},null===(t=e.text)||void 0===t?void 0:t.value):null}}],[{key:"getDerivedStateFromProps",value:function(t){var e,n=t.graphModel,r=n.transformModel,o=n.theme,i=n.textEditElement;if(i){var a;if((null===(a=i.text)||void 0===a||!a.value)&&i.BaseType===jc.EDGE){var u=i.text,c=i.textPosition,s=c.x,l=c.y;u.x=s,u.y=l,i.setText(u)}var f={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(i.BaseType===jc.EDGE){var p=o.edgeText,d=p.overflowMode,h=p.lineHeight,y=p.wrapPadding,v=p.textWidth;v&&"autoWrap"===d&&(e=_A(_A({},f),{},{width:v,minWidth:v,lineHeight:h,padding:y}))}else if(i.BaseType===jc.NODE){var g=o.nodeText,b=g.overflowMode,m=g.lineHeight,_=g.wrapPadding,O=g.textWidth,w=i,x=w.width,E=w.modelType;(E!==Ec.TEXT_NODE&&"autoWrap"===b||E===Ec.TEXT_NODE&&O)&&(e=_A(_A({},f),{},{width:O||x,minWidth:O||x,lineHeight:m,padding:_}))}var j=i.text,S=j.x,P=j.y,k=r.CanvasPointToHtmlPoint([S,P]),M=dA(k,2),A=M[0],N=M[1];return{style:_A({left:A,top:N},e)}}}}]),n}(dt["a"]),NA(cA,"toolName","textEdit"),uA=sA))||uA,IA=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{x:e-r/2,y:n-o/2,x1:e+r/2,y1:n+o/2}},LA=function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,o=(e.y+n.y)/2,i=Math.abs(e.x-n.x)+10,a=Math.abs(e.y-n.y)+10;return{x:r-i/2,y:o-a/2,x1:r+i/2,y1:o+a/2}},zA=function(t){var e=t.points,n=ey(e),r=Dh(n,8),o=r.x,i=r.y,a=r.width,u=r.height;return{x:o-a/2,y:i-u/2,x1:o+a/2,y1:i+u/2}},BA=function(t){var e=t.path,n=uy(e),r=Dh(n,8),o=r.x,i=r.y,a=r.width,u=r.height;return{x:o-a/2,y:i-u/2,x1:o+a/2,y1:i+u/2}},HA=function(t){return t.modelType===Ec.LINE_EDGE?LA(t):t.modelType===Ec.POLYLINE_EDGE?zA(t):t.modelType===Ec.BEZIER_EDGE?BA(t):void 0};function FA(t){return FA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FA(t)}function GA(t,e){return UA(t)||YA(t,e)||KA(t,e)||XA()}function XA(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function YA(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function UA(t){if(Array.isArray(t))return t}function VA(t){return qA(t)||$A(t)||KA(t)||WA()}function WA(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function KA(t,e){if(t){if("string"===typeof t)return ZA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZA(t,e):void 0}}function $A(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function qA(t){if(Array.isArray(t))return ZA(t)}function ZA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tN(t,e,n){return e&&QA(t.prototype,e),n&&QA(t,n),t}function eN(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nN(t,e)}function nN(t,e){return nN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nN(t,e)}function rN(t){var e=aN();return function(){var n,r=uN(t);if(e){var o=uN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oN(this,n)}}function oN(t,e){if(e&&("object"===FA(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return iN(t)}function iN(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aN(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function uN(t){return uN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uN(t)}function cN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sN=LN((CA=TA=function(t){eN(n,t);var e=rN(n);function n(t){var r;JA(this,n),r=e.call(this),cN(iN(r),"stepDrag",void 0),cN(iN(r),"handleMouseDown",(function(t){r.stepDrag.handleMouseDown(t)})),cN(iN(r),"onDraging",(function(t){var e=t.deltaX,n=t.deltaY,o=r.props.graphModel,i=o.getSelectElements(!0);o.moveNodes(i.nodes.map((function(t){return t.id})),e,n)})),cN(iN(r),"handleContextMenu",(function(t){t.preventDefault();var e=r.props,n=e.graphModel,o=e.graphModel,i=o.eventCenter,a=o.selectElements,u=n.getPointByClient({x:t.clientX,y:t.clientY}),c={nodes:[],edges:[]},s=VA(a.values());s.forEach((function(t){t.BaseType===jc.NODE&&c.nodes.push(t.getData()),t.BaseType===jc.EDGE&&c.edges.push(t.getData())})),i.emit(Sc.SELECTION_CONTEXTMENU,{data:c,e:t,position:u})}));var o=t.graphModel,i=o.gridSize,a=o.eventCenter;return r.stepDrag=new Iy({onDraging:r.onDraging,step:i,eventType:"SELECTION",eventCenter:a}),r}return tN(n,[{key:"render",value:function(){var t=this.props.graphModel,e=t.selectElements,n=t.transformModel;if(!(e.size<=1)){var r=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;e.forEach((function(t){var e={x:0,y:0,x1:0,y1:0};t.BaseType===jc.NODE&&(e=IA(t)),t.BaseType===jc.EDGE&&(e=HA(t)),r=Math.min(r,e.x),o=Math.min(o,e.y),i=Math.max(i,e.x1),a=Math.max(a,e.y1)}));var u=n.CanvasPointToHtmlPoint([r,o]),c=GA(u,2);r=c[0],o=c[1];var s=n.CanvasPointToHtmlPoint([i,a]),l=GA(s,2);i=l[0],a=l[1];var f={left:"".concat(r-10,"px"),top:"".concat(o-10,"px"),width:"".concat(i-r+20,"px"),height:"".concat(a-o+20,"px")};return Object(dt["g"])("div",{className:"lf-multiple-select",style:f,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),n}(dt["a"]),cN(TA,"toolName","multipleSelect"),DA=CA))||DA;function lN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pN(t,e,n){return e&&fN(t.prototype,e),n&&fN(t,n),t}function dN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hN=function(){function t(e){lN(this,t),dN(this,"tools",void 0),dN(this,"components",void 0),dN(this,"toolMap",new Map),dN(this,"instance",void 0),this.instance=e,this.isDisabledTool(RA.toolName)||this.registerTool(RA.toolName,RA),this.isDisabledTool(sN.toolName)||this.registerTool(sN.toolName,sN)}return pN(t,[{key:"isDisabledTool",value:function(t){return-1!==this.instance.options.disabledTools.indexOf(t)}},{key:"registerTool",value:function(t,e){this.toolMap.set(t,e)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),t}(),yN=n(167),vN=n.n(yN);function gN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mN(t,e,n){return e&&bN(t.prototype,e),n&&bN(t,n),t}function _N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ON=function(){function t(e){gN(this,t),_N(this,"mousetrap",void 0),_N(this,"options",void 0),_N(this,"target",void 0),e.keyboard||(e.keyboard={enabled:!1}),this.options=e;var n=e.lf;this.target=n.container,this.mousetrap=new vN.a(this.target),e.keyboard.enabled&&this.enable(!0)}return mN(t,[{key:"initShortcuts",value:function(){var t=this,e=this.options.keyboard.shortcuts;if(e)if(dr(e))e.forEach((function(e){var n=e.keys,r=e.callback,o=e.action;return t.on(n,r,o)}));else{var n=e.keys,r=e.callback,o=e.action;this.on(n,r,o)}}},{key:"on",value:function(t,e,n){this.mousetrap.bind(this.getKeys(t),e,n)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(t,e){this.mousetrap.unbind(this.getKeys(t),e)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var e=this;return(Array.isArray(t)?t:[t]).map((function(t){return e.formatkey(t)}))}},{key:"formatkey",value:function(t){var e=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return e}}]),t}(),wN=ON,xN=null;function EN(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function jN(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach((function(t){t.x+=e,t.y+=e})),t.text&&(t.text.x+=e,t.text.y+=e),t}var SN=40;function PN(t,e){var n=t.keyboard,r=n.options.keyboard;n.on(["cmd + c","ctrl + c"],(function(){if(r.enabled&&!e.textEditElement){var n=t.options.guards,o=e.getSelectElements(!1),i=!n||!n.beforeClone||n.beforeClone(o);return i?(xN=o,xN.nodes.forEach((function(t){return EN(t,SN)})),xN.edges.forEach((function(t){return jN(t,SN)})),!1):(xN=null,!1)}})),n.on(["cmd + v","ctrl + v"],(function(){if(r.enabled&&!e.textEditElement){if(xN&&(xN.nodes||xN.edges)){t.clearSelectElements();var n=t.addElements(xN);if(!n)return;n.nodes.forEach((function(e){return t.selectElementById(e.id,!0)})),n.edges.forEach((function(e){return t.selectElementById(e.id,!0)})),xN.nodes.forEach((function(t){return EN(t,SN)})),xN.edges.forEach((function(t){return jN(t,SN)}))}return!1}})),n.on(["cmd + z","ctrl + z"],(function(){if(r.enabled&&!e.textEditElement)return t.undo(),!1})),n.on(["cmd + y","ctrl + y"],(function(){if(r.enabled&&!e.textEditElement)return t.redo(),!1})),n.on(["backspace"],(function(){if(r.enabled&&!e.textEditElement){var n=e.getSelectElements(!0);return t.clearSelectElements(),n.edges.forEach((function(e){return t.deleteEdge(e.id)})),n.nodes.forEach((function(e){return t.deleteNode(e.id)})),!1}}))}function kN(t,e){t.on("node:mousemove",(function(t){var n=t.data;e.setNodeSnapLine(n)})),t.on("node:mouseup",(function(){e.clearSnapline()}))}function MN(t){return MN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MN(t)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function NN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?AN(Object(n),!0).forEach((function(e){RN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function DN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CN(t,e,n){return e&&TN(t.prototype,e),n&&TN(t,n),t}function RN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var IN=function(){function t(e){var n=this;DN(this,t),RN(this,"container",void 0),RN(this,"width",void 0),RN(this,"height",void 0),RN(this,"graphModel",void 0),RN(this,"history",void 0),RN(this,"viewMap",new Map),RN(this,"tool",void 0),RN(this,"keyboard",void 0),RN(this,"dnd",void 0),RN(this,"options",void 0),RN(this,"snaplineModel",void 0),RN(this,"components",[]),RN(this,"plugins",void 0),RN(this,"extension",{}),RN(this,"adapterIn",void 0),RN(this,"adapterOut",void 0),RN(this,"getView",(function(t){return n.viewMap.get(t)})),e=ym(e),this.options=e,this.container=e.container,this.plugins=e.plugins,this.graphModel=new av(NN({},e)),this.tool=new hN(this),this.history=new fA(this.graphModel.eventCenter),this.dnd=new hm({lf:this}),this.keyboard=new wN({lf:this,keyboard:e.keyboard}),e.isSilentMode||!1===e.snapline||(this.snaplineModel=new jx(this.graphModel),kN(this.graphModel.eventCenter,this.snaplineModel)),PN(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(e.disabledPlugins)}return CN(t,[{key:"register",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"===typeof t){var r={BaseEdge:JP,BaseEdgeModel:md,BaseNode:$E,BaseNodeModel:j_,RectNode:cj,RectNodeModel:Rw,CircleNode:Oj,CircleNodeModel:W_,PolygonNode:Gj,PolygonNodeModel:yw,TextNode:LS,TextNodeModel:Qw,LineEdge:_k,LineEdgeModel:Bd,DiamondNode:eS,DiamondNodeModel:OO,PolylineEdge:Zk,PolylineEdgeModel:lh,BezierEdge:vM,BezierEdgeModel:Xm,EllipseNode:wS,EllipseNodeModel:GO,HtmlNode:ZS,HtmlNodeModel:vx,h:dt["g"],type:t};this.viewMap.forEach((function(t){var e=t.extendKey;e&&(r[e]=t)})),this.graphModel.modelMap.forEach((function(t){var e=t.extendKey;e&&(r[e]=t)}));var o=e(r),i=o.view,a=o.model,u=i;n&&!u.isObervered&&(u.isObervered=!0,u=ct(u)),this.setView(t,u),this.graphModel.setModel(t,a)}else this.registerElement(t)}},{key:"registerElement",value:function(t){var e=t.view;!1===t.isObserverView||e.isObervered||(e.isObervered=!0,e=ct(e)),this.setView(t.type,e),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){t.registerElement(e)}))}},{key:"defaultRegister",value:function(){this.registerElement({view:cj,model:Rw,type:"rect"}),this.registerElement({type:"circle",view:Oj,model:W_}),this.registerElement({type:"polygon",view:Gj,model:yw}),this.registerElement({type:"line",view:_k,model:Bd}),this.registerElement({type:"polyline",view:Zk,model:lh}),this.registerElement({type:"bezier",view:vM,model:Xm}),this.registerElement({type:"text",view:LS,model:Qw}),this.registerElement({type:"ellipse",view:wS,model:GO}),this.registerElement({type:"diamond",view:eS,model:OO}),this.registerElement({type:"html",view:ZS,model:vx})}},{key:"selectElementById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.graphModel.selectElementById(t,e),e||this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var e=this.graphModel.transformModel,n=t.coordinate,r=t.id;if(!n){var o=this.getNodeModelById(r);o&&(n=o.getData());var i=this.getEdgeModelById(r);i&&(n=i.textPosition)}var a=n,u=a.x,c=a.y;e.focusOn(u,c,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,e){this.graphModel.resize(t,e),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,e){this.graphModel.updateText(t,e)}},{key:"deleteElement",value:function(t){var e,n,r,o=this.getModelById(t);if(!o)return!1;var i=(e={},RN(e,jc.NODE,this.deleteNode),RN(e,jc.EDGE,this.deleteEdge),e),a=o.BaseType;return null!==(n=null===(r=i[a])||void 0===r?void 0:r.call(this,t))&&void 0!==n&&n}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,e){this.graphModel.changeNodeType(t,e)}},{key:"changeEdgeType",value:function(t,e){this.graphModel.changeEdgeType(t,e)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var e=this.graphModel.getNodeModelById(t);if(!e)return!1;var n=e.getData(),r=this.options.guards,o=!r||!r.beforeDelete||r.beforeDelete(n);return o&&this.graphModel.deleteNode(t),o}},{key:"cloneNode",value:function(t){var e=this.graphModel.getNodeModelById(t),n=e.getData(),r=this.options.guards,o=!r||!r.beforeClone||r.beforeClone(n);if(o)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,e){return this.graphModel.changeNodeId(t,e)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var e=this.options.guards,n=this.graphModel.edgesMap[t];if(!n)return!1;var r=n.model.getData(),o=!e||!e.beforeDelete||e.beforeDelete(r);return o&&this.graphModel.deleteEdgeById(t),o}},{key:"deleteEdgeByNodeId",value:function(t){var e=t.sourceNodeId,n=t.targetNodeId;e&&n?this.graphModel.deleteEdgeBySourceAndTarget(e,n):e?this.graphModel.deleteEdgeBySource(e):n&&this.graphModel.deleteEdgeByTarget(n)}},{key:"changeEdgeId",value:function(t,e){return this.graphModel.changeEdgeId(t,e)}},{key:"getEdgeModelById",value:function(t){var e,n=this.graphModel.edgesMap;return null===(e=n[t])||void 0===e?void 0:e.model}},{key:"getEdgeModels",value:function(t){var e=this.graphModel.edges,n=t.sourceNodeId,r=t.targetNodeId;if(n&&r){var o=[];return e.forEach((function(t){t.sourceNodeId===n&&t.targetNodeId===r&&o.push(t)})),o}if(n){var i=[];return e.forEach((function(t){t.sourceNodeId===n&&i.push(t)})),i}if(r){var a=[];return e.forEach((function(t){t.targetNodeId===r&&a.push(t)})),a}return[]}},{key:"getEdgeDataById",value:function(t){var e;return null===(e=this.getEdgeModelById(t))||void 0===e?void 0:e.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,e){var n;null===(n=this.graphModel.getElement(t))||void 0===n||n.setProperties(ad(e))}},{key:"getProperties",value:function(t){var e;return null===(e=this.graphModel.getElement(t))||void 0===e?void 0:e.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,e){return this.graphModel.setElementZIndex(t,e)}},{key:"addElements",value:function(t){for(var e=this,n=t.nodes,r=t.edges,o={},i={nodes:[],edges:[]},a=0;a<n.length;a++){var u=n[a],c=u.id,s=this.addNode(u);if(!s)return;c&&(o[c]=s.id),i.nodes.push(s)}return r.forEach((function(t){var n=t.sourceNodeId,r=t.targetNodeId;o[n]&&(t.sourceNodeId=o[n]),o[r]&&(t.targetNodeId=o[r]);var a=e.graphModel.addEdge(t);i.edges.push(a)})),i}},{key:"getAreaElement",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.graphModel.getAreaElement(t,e,n,r,o).map((function(t){return t.getData()}))}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,e){return this.graphModel.getPointByClient({x:t,y:e})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=ad(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=ad(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,e){var n=this.graphModel.transformModel;return n.zoom(t,e)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var e=this.graphModel.transformModel;e.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var e=this.graphModel.transformModel;e.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,e=t.SCALE_X,n=t.SCALE_Y,r=t.TRANSLATE_X,o=t.TRANSLATE_Y;return{SCALE_X:e,SCALE_Y:n,TRANSLATE_X:r,TRANSLATE_Y:o}}},{key:"translate",value:function(t,e){var n=this.graphModel.transformModel;n.translate(t,e)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,e=t.TRANSLATE_X,n=t.TRANSLATE_Y;this.translate(-e,-n)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,e){void 0===e&&(e=t),this.graphModel.fitView(t,e)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,e){this.graphModel.eventCenter.on(t,e)}},{key:"off",value:function(t,e){this.graphModel.eventCenter.off(t,e)}},{key:"once",value:function(t,e){this.graphModel.eventCenter.once(t,e)}},{key:"emit",value:function(t,e){this.graphModel.eventCenter.emit(t,e)}},{key:"installPlugins",value:function(){var e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=null!==(e=this.plugins)&&void 0!==e?e:t.extensions;o.forEach((function(t){var e=t.pluginName||t.name;-1===r.indexOf(e)&&n.installPlugin(t)}))}},{key:"installPlugin",value:function(e){if("object"===MN(e)){var n=e.install,r=e.render;return n&&n.call(e,this,t),r&&this.components.push(r.bind(e)),void(this.extension[e.pluginName]=e)}var o=e,i=new o({lf:this,LogicFlow:t});i.render&&this.components.push(i.render.bind(i)),this.extension[o.pluginName]=i}},{key:"updateAttributes",value:function(t,e){this.graphModel.updateAttributes(t,e)}},{key:"createFakerNode",value:function(t){var e=this.graphModel.modelMap.get(t.type);if(e){var n=new e(NN(NN({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(n),n}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,e){this.viewMap.set(t,e)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(ad(t)),this.options.isSilentMode||!1===this.options.history||this.history.watch(this.graphModel),Object(dt["j"])(Object(dt["g"])(um,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Sc.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var e=t.pluginName;e||(e=t.name);var n=this.extensions.get(e);n&&n.destroy&&n.destroy(),this.extensions.set(e,t)}}]),t}();function LN(t){return ct(t)}RN(IN,"extensions",new Map);e["default"]=IN}])}))},47646:function(t,e,n){"use strict";n.d(e,{v2:function(){return Ut},aC:function(){return q}});var r=n(45509);n(21703);function o(t,e){return e={exports:{}},t(e,e.exports),e.exports}var i=o((function(t){var e=t.exports=function(t,n){if(n||(n=16),void 0===t&&(t=128),t<=0)return"0";for(var r=Math.log(Math.pow(2,t))/Math.log(n),o=2;r===1/0;o*=2)r=Math.log(Math.pow(2,t/o))/Math.log(n)*o;var i=r-Math.floor(r),a="";for(o=0;o<Math.floor(r);o++){var u=Math.floor(Math.random()*n).toString(n);a=u+a}if(i){var c=Math.pow(n,i);u=Math.floor(Math.random()*c).toString(n);a=u+a}var s=parseInt(a,n);return s!==1/0&&s>=Math.pow(2,t)?e(t,n):a};e.rack=function(t,n,r){var o=function(o){var a=0;do{if(a++>10){if(!r)throw new Error("too many ID collisions, use more bits");t+=r}var u=e(t,n)}while(Object.hasOwnProperty.call(i,u));return i[u]=o,u},i=o.hats={};return o.get=function(t){return o.hats[t]},o.set=function(t,e){return o.hats[t]=e,o},o.bits=t||128,o.base=n||16,o}}));function a(t){if(!(this instanceof a))return new a(t);t=t||[128,36,1],this._seed=t.length?i.rack(t[0],t[1],t[2]):t}a.prototype.next=function(t){return this._seed(t||!0)},a.prototype.nextPrefixed=function(t,e){var n;do{n=t+this.next(!0)}while(this.assigned(n));return this.claim(n,e),n},a.prototype.claim=function(t,e){this._seed.set(t,e||!0)},a.prototype.assigned=function(t){return this._seed.get(t)||!1},a.prototype.unclaim=function(t){delete this._seed.hats[t]},a.prototype.clear=function(){var t,e=this._seed.hats;for(t in e)this.unclaim(t)};var u=a,c=new u([32,32,1]);function s(){return c.next()}var l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e,n){var r=this;return e.id||(e.id="Event_"+s()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),r=t.call(this,e,n)||this,r}return l(e,t),e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedTargetRules=function(){var e=t.prototype.getConnectedTargetRules.call(this),n={message:"",validate:function(){return!1}};return e.push(n),e},e.extendKey="StartEventModel",e}(r.CircleNodeModel),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.extendKey="StartEventNode",e}(r.CircleNode),d={type:"bpmn:startEvent",view:p,model:f},h=d,y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(){return v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},v.apply(this,arguments)},g=function(t){function e(e,n){var r=this;return e.id||(e.id="Event_"+s()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),r=t.call(this,e,n)||this,r}return y(e,t),e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedSourceRules=function(){var e=t.prototype.getConnectedSourceRules.call(this),n={message:"",validate:function(){return!1}};return e.push(n),e},e.extendKey="EndEventModel",e}(r.CircleNodeModel),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var e=this.props.model,n=e.getNodeStyle(),o=e.x,i=e.y,a=e.r,u=t.prototype.getShape.call(this);return(0,r.h)("g",{},u,(0,r.h)("circle",v(v({},n),{cx:o,cy:i,r:a-5})))},e.extendKey="EndEventView",e}(r.CircleNode),m={type:"bpmn:endEvent",view:b,model:g},_=m,O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(){return w=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},w.apply(this,arguments)},x=function(t){function e(e,n){var r=this;return e.id||(e.id="Gateway_"+s()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),r=t.call(this,e,n)||this,r.points=[[25,0],[50,25],[25,50],[0,25]],r}return O(e,t),e.extendKey="ExclusiveGatewayModel",e}(r.PolygonNodeModel),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return O(e,t),e.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.points,u=t.getNodeStyle();return(0,r.h)("g",{transform:"matrix(1 0 0 1 "+(e-o/2)+" "+(n-i/2)+")"},(0,r.h)("polygon",w(w({},u),{x:e,y:n,points:a})),(0,r.h)("path",w({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},u)))},e.extendKey="ExclusiveGatewayNode",e}(r.PolygonNode),j={type:"bpmn:exclusiveGateway",view:E,model:x},S=j,P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(){return k=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},k.apply(this,arguments)},M=function(t){function e(e,n){var r=this;return e.id||(e.id="Activity_"+s()),r=t.call(this,e,n)||this,r}return P(e,t),e.extendKey="UserTaskModel",e}(r.RectNodeModel),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.getLabelShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.getNodeStyle();return(0,r.h)("svg",{x:e-o/2+5,y:n-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,r.h)("path",{fill:a.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},e.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.radius,u=t.getNodeStyle();return(0,r.h)("g",{},[(0,r.h)("rect",k(k({},u),{x:e-o/2,y:n-i/2,rx:a,ry:a,width:o,height:i})),this.getLabelShape()])},e.extendKey="UserTaskNode",e}(r.RectNode),N={type:"bpmn:userTask",view:A,model:M},D=N,T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(){return C=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},C.apply(this,arguments)},R=function(t){function e(e,n){var r=this;return e.id||(e.id="Activity_"+s()),r=t.call(this,e,n)||this,r}return T(e,t),e.extendKey="ServiceTaskModel",e}(r.RectNodeModel),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.getLabelShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.getNodeStyle();return(0,r.h)("svg",{x:e-o/2+5,y:n-i/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,r.h)("path",{fill:a.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},e.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.radius,u=t.getNodeStyle();return(0,r.h)("g",{},[(0,r.h)("rect",C({x:e-o/2,y:n-i/2,rx:a,ry:a,width:o,height:i},u)),this.getLabelShape()])},e.extendKey="ServiceTaskNode",e}(r.RectNode),L={type:"bpmn:serviceTask",view:I,model:R},z=L,B=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(t){function e(e,n){var r=this;return e.id||(e.id="Flow_"+s()),r=t.call(this,e,n)||this,r}return B(e,t),e.extendKey="SequenceFlowModel",e}(r.PolylineEdgeModel),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.extendKey="SequenceFlowEdge",e}(r.PolylineEdge),G={type:"bpmn:sequenceFlow",view:F,model:H},X=G,Y={width:40,height:40},U={width:40,height:40},V={width:40,height:40},W={width:100,height:80},K={width:100,height:80},$={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},q=(function(){function t(t){var e=t.lf;e.setTheme($),e.register(h),e.register(_),e.register(S),e.register(D),e.register(z),e.options.customBpmnEdge||(e.register(X),e.setDefaultEdgeType("bpmn:sequenceFlow"))}t.pluginName="bpmnElement"}(),function(){function t(t){var e=this,n=t.lf;this.lf=n,this.customCssRules="",this.useGlobalRules=!0,n.getSnapshot=function(t,n){e.getSnapshot(t,n)},n.getSnapshotBlob=function(t){return e.getSnapshotBlob(t)},n.getSnapshotBase64=function(t){return e.getSnapshotBase64(t)}}return t.prototype.getSvgRootElement=function(t){var e=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,t.graphModel.nodes.forEach((function(t){var n=t.x,r=t.width,o=t.y,i=t.height,a=n-r/2,u=o-i/2;a<e.offsetX&&(e.offsetX=a-5),u<e.offsetY&&(e.offsetY=u-5)})),t.graphModel.edges.forEach((function(t){t.pointsList&&t.pointsList.forEach((function(t){var n=t.x,r=t.y;n<e.offsetX&&(e.offsetX=n-5),r<e.offsetY&&(e.offsetY=r-5)}))}));var n=t.container.querySelector(".lf-canvas-overlay");return n},t.prototype.triggerDownload=function(t){var e=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),n=document.createElement("a");n.setAttribute("download",this.fileName),n.setAttribute("href",t),n.setAttribute("target","_blank"),n.dispatchEvent(e)},t.prototype.removeAnchor=function(t){for(var e=t.childNodes,n=t.childNodes&&t.childNodes.length,r=0;r<n;r++){var o=e[r],i=o.classList&&Array.from(o.classList)||[];i.indexOf("lf-anchor")>-1&&(t.removeChild(t.childNodes[r]),n--,r--)}},t.prototype.getSnapshot=function(t,e){var n=this;this.fileName=t||"logic-flow."+Date.now()+".png";var r=this.getSvgRootElement(this.lf);this.getCanvasData(r,e).then((function(t){var e=t.toDataURL("image/png").replace("image/png","image/octet-stream");n.triggerDownload(e)}))},t.prototype.getSnapshotBase64=function(t){var e=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){e.getCanvasData(n,t).then((function(t){var e=t.toDataURL("image/png");r({data:e,width:t.width,height:t.height})}))}))},t.prototype.getSnapshotBlob=function(t){var e=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){e.getCanvasData(n,t).then((function(t){t.toBlob((function(e){r({data:e,width:t.width,height:t.height})}),"image/png")}))}))},t.prototype.getClassRules=function(){var t="";if(this.useGlobalRules)for(var e=document.styleSheets,n=0;n<e.length;n++)for(var r=e[n],o=0;o<r.cssRules.length;o++)t+=r.cssRules[o].cssText;return this.customCssRules&&(t+=this.customCssRules),t},t.prototype.getCanvasData=function(t,e){var n=this,r=t.cloneNode(!0),o=r.lastChild,i=o.childNodes&&o.childNodes.length;if(i)for(var a=0;a<i;a++){var u=o.childNodes[a],c=u.classList&&Array.from(u.classList);if(c&&c.indexOf("lf-base")<0)o.removeChild(o.childNodes[a]),i--,a--;else{var s=o.childNodes[a];s&&s.childNodes.forEach((function(t){var e=t;n.removeAnchor(e.firstChild)}))}}r.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var l=window.devicePixelRatio||1,f=document.createElement("canvas"),p=this.lf.graphModel.rootEl.querySelector(".lf-base"),d=p.getBoundingClientRect(),h=this.lf.graphModel,y=h.transformModel,v=y.SCALE_X,g=y.SCALE_Y,b=Math.ceil(d.width/v),m=Math.ceil(d.height/g);f.style.width=b+"px",f.style.height=m+"px",f.width=b*l+80,f.height=m*l+80;var _=f.getContext("2d");_.clearRect(0,0,f.width,f.height),_.scale(l,l),e?(_.fillStyle=e,_.fillRect(0,0,b*l+80,m*l+80)):_.clearRect(0,0,b,m);var O=new Image,w=document.createElement("style");w.innerHTML=this.getClassRules();var x=document.createElement("foreignObject");return x.appendChild(w),r.appendChild(x),new Promise((function(t){O.onload=function(){_.drawImage(O,0,0),t(f)};var e="data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(r),n=e.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");O.src=n}))},t.pluginName="snapshot",t}()),Z=new u([32,32,1]);function J(){return Z.next()}var Q=function(){};Q.ObjTree=function(){return this},Q.ObjTree.VERSION="0.23",Q.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',Q.ObjTree.prototype.attr_prefix="-",Q.ObjTree.prototype.parseXML=function(t){var e;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(t,"application/xml");if(!r)return;e=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t),e=n.documentElement);if(e)return this.parseDOM(e)},Q.ObjTree.prototype.parseHTTP=function(t,e,n){var r,o={};for(var i in e)o[i]=e[i];if(o.method||("undefined"==typeof o.postBody&&"undefined"==typeof o.postbody&&"undefined"==typeof o.parameters?o.method="get":o.method="post"),n){o.asynchronous=!0;var a=this,u=n,c=o.onComplete;o.onComplete=function(t){var e;t&&t.responseXML&&t.responseXML.documentElement&&(e=a.parseDOM(t.responseXML.documentElement)),u(e,t),c&&c(t)}}else o.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request){o.uri=t;var s=new HTTP.Request(o);s&&(r=s.transport)}else if("undefined"!=typeof Ajax&&Ajax.Request){s=new Ajax.Request(t,o);s&&(r=s.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},Q.ObjTree.prototype.parseDOM=function(t){if(t){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var n=this.parseElement(t);if(this.__force_array[t.nodeName]&&(n=[n]),11!=t.nodeType){var r={};r[t.nodeName]=n,n=r}return n}},Q.ObjTree.prototype.parseElement=function(t){if(7!=t.nodeType){if(3==t.nodeType||4==t.nodeType){var e=t.nodeValue.match(/[^\x00-\x20]/);if(null==e)return;return t.nodeValue}var n,r={};if(t.attributes&&t.attributes.length){n={};for(var o=0;o<t.attributes.length;o++){var i=t.attributes[o].nodeName;if("string"==typeof i){var a=t.attributes[o].nodeValue;a&&(i=this.attr_prefix+i,"undefined"==typeof r[i]&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}if(t.childNodes&&t.childNodes.length){var u=!0;n&&(u=!1);for(o=0;o<t.childNodes.length&&u;o++){var c=t.childNodes[o].nodeType;3!=c&&4!=c&&(u=!1)}if(u){n||(n="");for(o=0;o<t.childNodes.length;o++)n+=t.childNodes[o].nodeValue}else{n||(n={});for(o=0;o<t.childNodes.length;o++){i=t.childNodes[o].nodeName;if("string"==typeof i){a=this.parseElement(t.childNodes[o]);a&&("undefined"==typeof r[i]&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}}return n}},Q.ObjTree.prototype.addNode=function(t,e,n,r){this.__force_array[e]?(1==n&&(t[e]=[]),t[e][t[e].length]=r):1==n?t[e]=r:2==n?t[e]=[t[e],r]:t[e][t[e].length]=r},Q.ObjTree.prototype.writeXML=function(t){var e=this.hash_to_xml(null,t);return this.xmlDecl+e},Q.ObjTree.prototype.hash_to_xml=function(t,e){var n=[],r=[];for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];o.charAt(0)!=this.attr_prefix?"undefined"==typeof i||null==i?n[n.length]="<"+o+" />":"object"==typeof i&&i.constructor==Array?n[n.length]=this.array_to_xml(o,i):n[n.length]="object"==typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),u=n.join("");return"undefined"==typeof t||null==t||(u=n.length>0?u.match(/\n/)?"<"+t+a+">\n"+u+"</"+t+">\n":"<"+t+a+">"+u+"</"+t+">\n":"<"+t+a+" />\n"),u},Q.ObjTree.prototype.array_to_xml=function(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r];"undefined"==typeof o||null==o?n[n.length]="<"+t+" />":"object"==typeof o&&o.constructor==Array?n[n.length]=this.array_to_xml(t,o):n[n.length]="object"==typeof o?this.hash_to_xml(t,o):this.scalar_to_xml(t,o)}return n.join("")},Q.ObjTree.prototype.scalar_to_xml=function(t,e){return"#text"==t?this.xml_escape(e):"<"+t+">"+this.xml_escape(e)+"</"+t+">\n"},Q.ObjTree.prototype.xml_escape=function(t){return t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var tt,et=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a};(function(t){t["START"]="bpmn:startEvent",t["END"]="bpmn:endEvent",t["GATEWAY"]="bpmn:exclusiveGateway",t["USER"]="bpmn:userTask",t["SYSTEM"]="bpmn:serviceTask",t["FLOW"]="bpmn:sequenceFlow"})(tt||(tt={}));var nt=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function rt(t){var e={};return Object.entries(t).forEach((function(t){var n=et(t,2),r=n[0],o=n[1];"object"!==typeof o?0===r.indexOf("-")?e[r]=o:e["-"+r]=o:e[r]=rt(o)})),e}function ot(t){var e={};return Object.entries(t).forEach((function(t){var n=et(t,2),r=n[0],o=n[1];"string"===typeof o?0===r.indexOf("-")?e[r.substr(1)]=o:e[r]=o:e[r]="object"===typeof o?ot(o):o})),e}function it(t,e){var n=new Map;e.nodes.forEach((function(e){var r,o={"-id":e.id};if((null===(r=e.text)||void 0===r?void 0:r.value)&&(o["-name"]=e.text.value),e.properties){var i=rt(e.properties);Object.assign(o,i)}n.set(e.id,o),t[e.type]?Array.isArray(t[e.type])?t[e.type].push(o):t[e.type]=[t[e.type],o]:t[e.type]=o}));var r=e.edges.map((function(t){var e,r,o=n.get(t.targetNodeId);o["bpmn:incoming"]?Array.isArray(o["bpmn:incoming"])?o["bpmn:incoming"].push(t.id):o["bpmn:incoming"]=[o["bpmn:incoming"],t.id]:o["bpmn:incoming"]=t.id;var i=n.get(t.sourceNodeId);i["bpmn:outgoing"]?Array.isArray(i["bpmn:outgoing"])?i["bpmn:outgoing"].push(t.id):i["bpmn:outgoing"]=[i["bpmn:outgoing"],t.id]:i["bpmn:outgoing"]=t.id;var a={"-id":t.id,"-sourceRef":t.sourceNodeId,"-targetRef":t.targetNodeId};if((null===(e=t.text)||void 0===e?void 0:e.value)&&(a["-name"]=null===(r=t.text)||void 0===r?void 0:r.value),t.properties){var u=rt(t.properties);Object.assign(a,u)}return a}));t[tt.FLOW]=r}function at(t,e){t["bpmndi:BPMNEdge"]=e.edges.map((function(t){var e,n=t.id,r=t.pointsList.map((function(t){var e=t.x,n=t.y;return{"-x":e,"-y":n}})),o={"-id":n+"_di","-bpmnElement":n,"di:waypoint":r};return(null===(e=t.text)||void 0===e?void 0:e.value)&&(o["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),o})),t["bpmndi:BPMNShape"]=e.nodes.map((function(t){var e,n=t.id,r=100,o=80,i=t.x,a=t.y,u=pt.shapeConfigMap.get(t.type);u&&(r=u.width,o=u.height),i-=r/2,a-=o/2;var c={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":i,"-y":a,"-width":r,"-height":o}};return(null===(e=t.text)||void 0===e?void 0:e.value)&&(c["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),c}))}function ut(t){var e=[],n=[],r=t["bpmn:definitions"];if(r){var o=r["bpmn:process"];Object.keys(o).forEach((function(t){if(0===t.indexOf("bpmn:")){var i=o[t];if(t===tt.FLOW){var a=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=lt(i,a)}else{var u=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];e=e.concat(ct(i,u,t))}}}))}return{nodes:e,edges:n}}function ct(t,e,n){var r=[];if(Array.isArray(t))t.forEach((function(t){var o;o=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e;var i=st(o,n,t);r.push(i)}));else{var o=void 0;o=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e;var i=st(o,n,t);r.push(i)}return r}function st(t,e,n){var r,o,i=Number(t["dc:Bounds"]["-x"]),a=Number(t["dc:Bounds"]["-y"]),u=n["-name"],c=pt.shapeConfigMap.get(e);if(c&&(i+=c.width/2,a+=c.height/2),Object.entries(n).forEach((function(t){var e=et(t,2),n=e[0],o=e[1];-1===nt.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=ot(r)),u&&(o={x:i,y:a,value:u},t["bpmndi:BPMNLabel"]&&t["bpmndi:BPMNLabel"]["dc:Bounds"])){var s=t["bpmndi:BPMNLabel"]["dc:Bounds"];o.x=Number(s["-x"])+Number(s["-width"])/2,o.y=Number(s["-y"])+Number(s["-height"])/2}var l={id:t["-bpmnElement"],type:e,x:i,y:a,properties:r};return o&&(l.text=o),l}function lt(t,e){var n=[];if(Array.isArray(t))t.forEach((function(t){var r;r=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n.push(ft(r,t))}));else{var r=void 0;r=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n.push(ft(r,t))}return n}function ft(t,e){var n,r,o=e["-name"];if(o){var i=t["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;o.split("\n").forEach((function(t){a<t.length&&(a=t.length)})),n={value:o,x:Number(i["-x"])+10*a/2,y:Number(i["-y"])+7}}Object.entries(e).forEach((function(t){var e=et(t,2),n=e[0],o=e[1];-1===nt.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=ot(r));var u={id:e["-id"],type:tt.FLOW,pointsList:t["di:waypoint"].map((function(t){return{x:Number(t["-x"]),y:Number(t["-y"])}})),sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:r};return n&&(u.text=n),u}var pt={pluginName:"bpmn-adapter",install:function(t){t.adapterIn=this.adapterIn,t.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(t,e){this.shapeConfigMap.set(t,e)},adapterOut:function(t){var e={"-id":"Process_"+J(),"-isExecutable":"false"};it(e,t);var n={"-id":"BPMNPlane_1","-bpmnElement":e["-id"]};at(n,t);var r={"bpmn:definitions":{"-id":"Definitions_"+J(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":e,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":n}}};return r},adapterIn:function(t){if(t)return ut(t)}};pt.shapeConfigMap.set(tt.START,{width:Y.width,height:Y.height}),pt.shapeConfigMap.set(tt.END,{width:U.width,height:U.height}),pt.shapeConfigMap.set(tt.GATEWAY,{width:V.width,height:V.height}),pt.shapeConfigMap.set(tt.SYSTEM,{width:W.width,height:W.height}),pt.shapeConfigMap.set(tt.USER,{width:K.width,height:K.height});var dt=function(){return dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},dt.apply(this,arguments)},ht=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},yt={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},vt={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function gt(t){switch(t){case"bpmn:sequenceFlow":return yt.SEQUENCE_FLOW;case"bpmn:startEvent":return yt.START_EVENT;case"bpmn:endEvent":return yt.END_EVENT;case"bpmn:userTask":return yt.USER_TASK;case"bpmn:exclusiveGateway":return yt.EXCLUSIVE_GATEWAY;default:return t}}function bt(t){var e=t.id,n=(t.type,t.x),r=t.y,o=t.text,i=void 0===o?"":o,a=t.properties;return{incoming:[],outgoing:[],dockers:[],type:gt(t.type),properties:dt(dt({},a),{name:i&&i.value||"",x:n,y:r,text:i}),key:e}}function mt(t){var e=t.id,n=t.type,r=t.sourceNodeId,o=t.targetNodeId,i=t.startPoint,a=t.endPoint,u=(t.pointsList,t.text),c=void 0===u?"":u,s=t.properties;return{incoming:[r],outgoing:[o],type:gt(n),dockers:[],properties:dt(dt({},s),{name:c&&c.value||"",text:c,startPoint:JSON.stringify(i),endPoint:JSON.stringify(a),pointsList:JSON.stringify(c)}),key:e}}function _t(t){var e=new Map,n={flowElementList:[]};return t.nodes.forEach((function(t){var r=bt(t);n.flowElementList.push(r),e.set(t.id,r)})),t.edges.forEach((function(t){var r=mt(t),o=e.get(t.sourceNodeId);o.outgoing.push(r.key);var i=e.get(t.targetNodeId);i.incoming.push(r.key),n.flowElementList.push(r)})),n}function Ot(t){var e=t.incoming,n=t.outgoing,r=t.properties,o=t.key,i=t.type,a=r.text,u=r.name,c=r.startPoint,s=r.endPoint,l=r.pointsList,f={id:o,type:vt[i],sourceNodeId:e[0],targetNodeId:n[0],text:a||u,properties:{}};c&&(f.startPoint=JSON.parse(c)),s&&(f.endPoint=JSON.parse(s)),l&&(f.endPoint=JSON.parse(l));var p=["startPoint","endPoint","pointsList","text"];return Object.keys(t.properties).forEach((function(e){-1===p.indexOf(e)&&(f.properties[e]=t.properties[e])})),f}function wt(t){var e=t.properties,n=t.key,r=t.type,o=t.bounds,i=e.x,a=e.y;if(void 0===i){var u=ht(o,2),c=u[0],s=c.x,l=c.y,f=u[1],p=f.x,d=f.y;i=(s+p)/2,a=(l+d)/2}var h={id:n,type:vt[r],x:i,y:a,text:e.text,properties:{}},y=["x","y","text"];return Object.keys(t.properties).forEach((function(e){-1===y.indexOf(e)&&(h.properties[e]=t.properties[e])})),h}function xt(t){var e={nodes:[],edges:[]},n=t.flowElementList;return n&&n.length>0&&n.forEach((function(t){if(t.type===yt.SEQUENCE_FLOW){var n=Ot(t);e.edges.push(n)}else{var r=wt(t);e.nodes.push(r)}})),e}var Et;(function(){function t(t){var e=t.lf;e.adapterIn=this.adapterIn,e.adapterOut=this.adapterOut}t.prototype.adapterOut=function(t){if(t)return _t(t)},t.prototype.adapterIn=function(t){if(t)return xt(t)},t.pluginName="turboAdapter"})();(function(t){t["HORIZONTAL"]="horizontal",t["VERTICAL"]="vertical"})(Et||(Et={}));var jt,St,Pt,kt,Mt,At=function(t,e,n){var r=t.x,o=t.y;return(r-e.x)*(r-n.x)<=0&&(o-e.y)*(o-n.y)<=0},Nt=function(t){var e=t.x,n=t.y,r=t.width,o=t.height,i={minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n};return i},Dt=function(t,e){var n;return t.x===e.x?n=Et.VERTICAL:t.y===e.y&&(n=Et.HORIZONTAL),n},Tt=function(t,e,n){var r=Nt(t),o=Dt(e,n),i=Math.max(e.x,n.x),a=Math.min(e.x,n.x),u=Math.max(e.y,n.y),c=Math.min(e.y,n.y),s=t.x,l=t.y,f=t.width,p=t.height;if(o===Et.HORIZONTAL){if(e.y===l&&i>=r.maxX&&a<=r.minX)return{startCrossPoint:{x:e.x>n.x?s+f/2:s-f/2,y:l},endCrossPoint:{x:e.x>n.x?s-f/2:s+f/2,y:l}}}else if(o===Et.VERTICAL&&e.x===t.x&&u>=r.maxY&&c<=r.minY)return{startCrossPoint:{x:s,y:e.y>n.y?l+p/2:l-p/2},endCrossPoint:{x:s,y:e.y>n.y?l-p/2:l+p/2}}},Ct=function(t,e){for(var n=t.x,r=t.y,o=e.pointsList,i=0;i<o.length-1;i++)if(At({x:n,y:r},o[i],o[i+1])){var a=Tt(t,o[i],o[i+1]);if(a)return{crossIndex:i+1,crossPoints:a}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},Rt=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},It=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Rt(arguments[e]));return t},Lt=(function(){function t(t){var e=t.lf;this._lf=e,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}t.prototype.eventHandler=function(){var t=this;this.dndAdd&&this._lf.on("node:dnd-add",(function(e){var n=e.data;t.insetNode(n)})),this.dropAdd&&this._lf.on("node:drop",(function(e){for(var n=e.data,r=t._lf.graphModel.edges,o=n.id,i=!0,a=0;a<r.length;a++)if(r[a].sourceNodeId===o||r[a].targetNodeId===o){i=!1;break}i&&t.insetNode(n)}))},t.prototype.insetNode=function(t){for(var e=this._lf.graphModel.edges,n=this._lf.getNodeModelById(t.id),r=0;r<e.length;r++){var o=Ct(n,e[r]),i=o.crossIndex,a=o.crossPoints;if(i>=0){var u=e[r],c=u.sourceNodeId,s=u.targetNodeId,l=u.id,f=u.type,p=u.pointsList;this._lf.addEdge({type:f,sourceNodeId:c,targetNodeId:t.id,pointsList:It(p.slice(0,i),[a.startCrossPoint])}),this._lf.addEdge({type:f,sourceNodeId:t.id,targetNodeId:s,pointsList:It([a.endCrossPoint],p.slice(i))}),this._lf.deleteEdge(l);break}}},t.pluginName="insertNodeInPolyline"}(),function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}),zt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Lt(arguments[e]));return t},Bt=(function(){function t(t){var e=this,n=t.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"",text:"",onClick:function(){e.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"",text:"",onClick:function(){e.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"",text:"",onClick:function(){e.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"",text:"",onClick:function(){e.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"",text:"",onClick:function(){e.lf.redo()}}],this.lf=n}t.prototype.render=function(t,e){this.destroy();var n=this.getControlTool();this.toolEl=n,e.appendChild(n),this.domContainer=e},t.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},t.prototype.addItem=function(t){this.controlItems.push(t)},t.prototype.removeItem=function(t){var e=this.controlItems.findIndex((function(e){return e.key===t}));return this.controlItems.splice(e,1)[0]},t.prototype.getControlTool=function(){var t=this,e="lf-control-item",n="lf-control-item disabled",r=document.createElement("div"),o=[];return r.className="lf-control",this.controlItems.forEach((function(r){var i=document.createElement("div"),a=document.createElement("i"),u=document.createElement("span");switch(i.className=n,r.onClick&&(i.onclick=r.onClick.bind(null,t.lf)),r.onMouseEnter&&(i.onmouseenter=r.onMouseEnter.bind(null,t.lf)),r.onMouseLeave&&(i.onmouseleave=r.onMouseLeave.bind(null,t.lf)),a.className=r.iconClass,u.className="lf-control-text",u.title=r.title,u.innerText=r.text,i.append(a,u),r.text){case"":t.lf.on("history:change",(function(t){var r=t.data.undoAble;i.className=r?e:n}));break;case"":t.lf.on("history:change",(function(t){var r=t.data.redoAble;i.className=r?e:n}));break;default:i.className=e;break}o.push(i)})),r.append.apply(r,zt(o)),r},t.pluginName="control"}(),function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}),Ht=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Bt(arguments[e]));return t},Ft="lf:defaultNodeMenu",Gt="lf:defaultEdgeMenu",Xt="lf:defaultGraphMenu",Yt="lf:defaultSelectionMenu",Ut=function(){function t(t){var e=this,n=t.lf;this.__menuDOM=document.createElement("ul"),this.lf=n,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(t){e.setMenuConfig(t)},this.lf.addMenuConfig=function(t){e.addMenuConfig(t)},this.lf.setMenuByType=function(t){e.setMenuByType(t)}}return t.prototype.init=function(){var t=this,e=[{text:"",callback:function(e){t.lf.deleteNode(e.id)}},{text:"",callback:function(e){t.lf.graphModel.editText(e.id)}},{text:"",callback:function(e){t.lf.cloneNode(e.id)}}];this.menuTypeMap.set(Ft,e);var n=[{text:"",callback:function(e){t.lf.deleteEdge(e.id)}},{text:"",callback:function(e){t.lf.graphModel.editText(e.id)}}];this.menuTypeMap.set(Gt,n),this.menuTypeMap.set(Xt,[]);var r=[{text:"",callback:function(e){t.lf.clearSelectElements(),e.edges.forEach((function(e){return t.lf.deleteEdge(e.id)})),e.nodes.forEach((function(e){return t.lf.deleteNode(e.id)}))}}];this.menuTypeMap.set(Yt,r)},t.prototype.render=function(t,e){var n=this;this.__container=e,this.__currentData=null,this.__menuDOM.className="lf-menu",e.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",(function(t){t.stopPropagation();var e=t.target;while(-1===Array.from(e.classList).indexOf("lf-menu-item")&&-1===Array.from(e.classList).indexOf("lf-menu"))e=e.parentElement;Array.from(e.classList).indexOf("lf-menu-item")>-1&&(e.onclickCallback(n.__currentData),n.__menuDOM.style.display="none",n.__currentData=null)}),!0),this.lf.on("node:contextmenu",(function(t){var e=t.data,r=t.position,o=r.domOverlayPosition,i=o.x,a=o.y,u=e.id,c=n.lf.graphModel.getNodeModelById(u),s=[],l=n.menuTypeMap.get(c.type);s=c&&c.menu&&Array.isArray(c.menu)?c.menu:l||n.menuTypeMap.get(Ft),n.__currentData=e,n.showMenu(i,a,s)})),this.lf.on("edge:contextmenu",(function(t){var e=t.data,r=t.position,o=r.domOverlayPosition,i=o.x,a=o.y,u=e.id,c=n.lf.graphModel.getEdgeModelById(u),s=[],l=n.menuTypeMap.get(c.type);s=c&&c.menu&&Array.isArray(c.menu)?c.menu:l||n.menuTypeMap.get(Gt),n.__currentData=e,n.showMenu(i,a,s)})),this.lf.on("blank:contextmenu",(function(t){var e=t.position,r=n.menuTypeMap.get(Xt),o=e.domOverlayPosition,i=o.x,a=o.y;n.showMenu(i,a,r)})),this.lf.on("selection:contextmenu",(function(t){var e=t.data,r=t.position,o=n.menuTypeMap.get(Yt),i=r.domOverlayPosition,a=i.x,u=i.y;n.__currentData=e,n.showMenu(a,u,o)})),this.lf.on("node:mousedown",(function(){n.__menuDOM.style.display="none"})),this.lf.on("edge:click",(function(){n.__menuDOM.style.display="none"})),this.lf.on("blank:click",(function(){n.__menuDOM.style.display="none"}))},t.prototype.destroy=function(){var t;null===(t=null===this||void 0===this?void 0:this.__container)||void 0===t||t.removeChild(this.__menuDOM),this.__menuDOM=null},t.prototype.showMenu=function(t,e,n){if(n&&n.length){var r=this.__menuDOM;r.innerHTML="",r.append.apply(r,Ht(this.__getMenuDom(n))),r.children.length&&(r.style.display="block",r.style.top=e+"px",r.style.left=t+"px")}},t.prototype.setMenuByType=function(t){t.type&&t.menu&&this.menuTypeMap.set(t.type,t.menu)},t.prototype.__getMenuDom=function(t){var e=[];return t&&t.length>0&&t.forEach((function(t){var n=document.createElement("li");if(t.className?n.className="lf-menu-item "+t.className:n.className="lf-menu-item",!0===t.icon){var r=document.createElement("span");r.className="lf-menu-item-icon",n.appendChild(r)}var o=document.createElement("span");o.className="lf-menu-item-text",t.text&&(o.innerText=t.text),n.appendChild(o),n.onclickCallback=t.callback,e.push(n)})),e},t.prototype.setMenuConfig=function(t){t&&(void 0!==t.nodeMenu&&this.menuTypeMap.set(Ft,t.nodeMenu?t.nodeMenu:[]),void 0!==t.edgeMenu&&this.menuTypeMap.set(Gt,t.edgeMenu?t.edgeMenu:[]),void 0!==t.graphMenu&&this.menuTypeMap.set(Xt,t.graphMenu?t.graphMenu:[]))},t.prototype.addMenuConfig=function(t){if(t){if(Array.isArray(t.nodeMenu)){var e=this.menuTypeMap.get(Ft);this.menuTypeMap.set(Ft,e.concat(t.nodeMenu))}if(Array.isArray(t.edgeMenu)){e=this.menuTypeMap.get(Gt);this.menuTypeMap.set(Gt,e.concat(t.edgeMenu))}if(Array.isArray(t.graphMenu)){e=this.menuTypeMap.get(Xt);this.menuTypeMap.set(Xt,e.concat(t.graphMenu))}}},t.prototype.changeMenuItem=function(t,e){if("add"===t)this.addMenuConfig(e);else{if("reset"!==t)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.setMenuConfig(e)}},t.pluginName="menu",t}(),Vt=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Wt="menu-common",Kt=200,$t=100,qt=(function(){function t(t){var e=this,n=t.lf;this.menuTypeMap=new Map,this.listenDelete=function(){e.hideContextMenu()},this.lf=n,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(Wt,[]),this.lf.setContextMenuByType=function(t,n){e.setContextMenuByType(t,n)},this.lf.setContextMenuItems=function(t){e.setContextMenuItems(t)},this.lf.showContextMenu=function(t){e.showContextMenu(t)},this.lf.hideContextMenu=function(){e.hideContextMenu()}}t.prototype.render=function(t,e){var n=this;this.container=e,t.on("node:click",(function(t){var e=t.data;n._activeData=e,n.createContextMenu()})),t.on("edge:click",(function(t){var e=t.data;n._activeData=e,n.createContextMenu()})),t.on("blank:click",(function(){n.hideContextMenu()}))},t.prototype.setContextMenuByType=function(t,e){this.menuTypeMap.set(t,e)},t.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},t.prototype.showContextMenu=function(t){t&&t.id&&(this._activeData=t,this.createContextMenu())},t.prototype.setContextMenuItems=function(t){this.menuTypeMap.set(Wt,t)},t.prototype.getContextMenuPosition=function(){var t=this._activeData,e=this.lf.graphModel.getElement(t.id);if(e){var n,r;if("edge"===e.BaseType){n=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER;var o=e.getData();n=Math.max(o.startPoint.x,n),r=Math.min(o.startPoint.y,r),n=Math.max(o.endPoint.x,n),r=Math.min(o.endPoint.y,r),o.pointsList&&o.pointsList.forEach((function(t){n=Math.max(t.x,n),r=Math.min(t.y,r)}))}return"node"===e.BaseType&&(n=t.x+e.width/2,r=t.y-e.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([n,r])}},t.prototype.createContextMenu=function(){var t=this,e=this.lf.options.isSilentMode;if(!e){var n=this.menuTypeMap.get(this._activeData.type)||[];n=n.concat(this.menuTypeMap.get(Wt));var r=document.createDocumentFragment();n.forEach((function(e){var n=document.createElement("div");n.className="lf-context-item";var o=document.createElement("img");o.src=e.icon,o.className="lf-context-img",e.className&&(n.className=n.className+" "+e.className),o.addEventListener("click",(function(){t.hideContextMenu(),e.callback?e.callback(t._activeData):t.addNode({sourceId:t._activeData.id,x:t._activeData.x,y:t._activeData.y,properties:e.properties,type:e.type})})),n.appendChild(o),r.appendChild(n)})),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(r),this.showMenu()}},t.prototype.addNode=function(t,e){var n=void 0!==e;void 0===e&&(e=t.y);var r=this.lf.getNodeModelById(t.sourceId),o=t.x-r.width+Kt,i=e-t.y/2-20,a=t.x+r.width+Kt,u=e+t.y/2+20,c=this.lf.getAreaElement([o,i],[a,u]);if(c.length)return e+=$t,void this.addNode(t,e);var s,l,f=this.lf.addNode({type:t.type,x:t.x+200,y:e,properties:t.properties});n&&(s={x:t.x,y:t.y+r.height/2},l={x:f.x-f.width/2,y:f.y}),this.lf.addEdge({sourceNodeId:t.sourceId,targetNodeId:f.id,startPoint:s,endPoint:l})},t.prototype.showMenu=function(){var t=Vt(this.getContextMenuPosition(),2),e=t[0],n=t[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=n+"px",this.__menuDOM.style.left=e+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},t.pluginName="contextMenu"}(),function(){function t(t){var e=this,n=t.lf;this.lf=n,this.lf.setPatternItems=function(t){e.setPatternItems(t)}}t.prototype.render=function(t,e){var n=this;this.destroy(),this.shapeList&&0!==this.shapeList.length?(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach((function(t){n.panelEl.appendChild(n.createDndItem(t))})),e.appendChild(this.panelEl),this.domContainer=e):this.domContainer=e},t.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},t.prototype.setPatternItems=function(t){this.shapeList=t,this.domContainer&&this.render(this.lf,this.domContainer)},t.prototype.createDndItem=function(t){var e=this,n=document.createElement("div");n.className=t.className?"lf-dnd-item "+t.className:"lf-dnd-item";var r=document.createElement("div");if(r.className="lf-dnd-shape",t.icon&&(r.style.backgroundImage="url("+t.icon+")"),n.appendChild(r),t.label){var o=document.createElement("div");o.innerText=t.label,o.className="lf-dnd-text",n.appendChild(o)}return n.onmousedown=function(){t.type&&e.lf.dnd.startDrag({type:t.type,properties:t.properties,text:t.text}),t.callback&&t.callback(e.lf,e.domContainer)},n},t.pluginName="dndPanel"}(),function(){function t(t){var e=this,n=t.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(t){var n=e.lf.getPointByClient(t.clientX,t.clientY).domOverlayPosition,r=n.x,o=n.y;e.endPoint={x:r,y:o};var i=e.startPoint,a=i.x,u=i.y,c=e.wrapper.style,s=a,l=u,f=r-a,p=o-u;r<a&&(s=r,f=a-r),o<u&&(l=o,p=u-o),c.left=s+"px",c.top=l+"px",c.width=f+"px",c.height=p+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",e.__draw),document.removeEventListener("mouseup",e.__drawOff),e.wrapper.oncontextmenu=null,e.__domContainer.removeChild(e.wrapper);var t=e.startPoint,n=t.x,r=t.y,o=e.endPoint,i=o.x,a=o.y;if(!(Math.abs(i-n)<10&&Math.abs(a-r)<10)){var u=[Math.min(n,i),Math.min(r,a)],c=[Math.max(n,i),Math.max(r,a)],s=e.lf.graphModel.getAreaElement(u,c,e.isWholeEdge,e.isWholeNode,!0),l=e.lf.graphModel.group;s.forEach((function(t){l&&l.getNodeGroup(t.id)||e.lf.selectElementById(t.id,!0)})),e.lf.emit("selection:selected",s)}},this.lf=n;var r=n.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=r,n.openSelectionSelect=function(){e.openSelectionSelect()},n.closeSelectionSelect=function(){e.closeSelectionSelect()}}t.prototype.render=function(t,e){var n=this;this.__domContainer=e,t.on("blank:mousedown",(function(r){var o=r.e,i=t.getEditConfig();if(i.stopMoveGraph&&!n.__disabled){var a=t.getPointByClient(o.clientX,o.clientY).domOverlayPosition,u=a.x,c=a.y;n.startPoint={x:u,y:c},n.endPoint={x:u,y:c};var s=document.createElement("div");s.className="lf-selection-select",s.oncontextmenu=function(t){t.preventDefault()},s.style.top=n.startPoint.y+"px",s.style.left=n.startPoint.x+"px",e.appendChild(s),n.wrapper=s,document.addEventListener("mousemove",n.__draw),document.addEventListener("mouseup",n.__drawOff)}}))},t.prototype.setSelectionSense=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),this.isWholeEdge=t,this.isWholeNode=e},t.prototype.openSelectionSelect=function(){var t=this.lf.getEditConfig().stopMoveGraph;t||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},t.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},t.prototype.open=function(){this.__disabled=!1},t.prototype.close=function(){this.__disabled=!0},t.pluginName="selectionSelect"}(),function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}),Zt=(function(){function t(t){var e=this,n=t.lf,r=t.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(t,n){e.__setView(),e.__isShow||e.__createMiniMap(t,n),e.__isShow=!0},this.hide=function(){e.__isShow&&e.__removeMiniMap(),e.__isShow=!1},this.__startDrag=function(t){document.addEventListener("mousemove",e.__drag),document.addEventListener("mouseup",e.__drop),e.__startPosition={x:t.x,y:t.y}},this.moveViewport=function(t,n){var r=e.__viewport.style;e.__viewPortTop=t,e.__viewPortLeft=n,r.top=e.__viewPortTop+"px",r.left=e.__viewPortLeft+"px"},this.__drag=function(t){var n=e.__viewPortTop+t.y-e.__startPosition.y,r=e.__viewPortLeft+t.x-e.__startPosition.x;e.moveViewport(n,r),e.__startPosition={x:t.x,y:t.y};var o=(e.__viewPortLeft+e.__viewPortWidth/2)/e.__viewPortScale,i=(e.__viewPortTop+e.__viewPortHeight/2)/e.__viewPortScale;e.__lf.focusOn({coordinate:{x:o+e.__resetDataX,y:i+e.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",e.__drag),document.removeEventListener("mouseup",e.__drop);var t=e.__viewPortTop,n=e.__viewPortLeft;e.__viewPortLeft>e.__width&&(n=e.__width-e.__viewPortWidth),e.__viewPortTop>e.__height&&(t=e.__height-e.__viewPortHeight),e.__viewPortLeft<-e.__width&&(n=0),e.__viewPortTop<-e.__height&&(t=0),e.moveViewport(t,n)},this.__lf=n,this.__miniMapWidth=n.graphModel.width,this.__miniMapHeight=220*n.graphModel.width/150,this.__LogicFlow=r,this.__init()}t.prototype.render=function(t,e){var n=this;this.__container=e,this.__lf.on("history:change",(function(){n.__isShow&&n.__setView()})),this.__lf.on("blank:drop",(function(){n.__isShow&&n.__setView()}))},t.prototype.init=function(t){this.__disabledPlugins=this.__disabledPlugins.concat(t.disabledPlugins||[])},t.prototype.__init=function(){var t=document.createElement("div");t.className="lf-mini-map-graph",t.style.width=this.__width+"px",t.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:220*this.__lf.graphModel.width/150,container:t,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(t){return t},this.__lfMap.adapterOut=function(t){return t},this.__miniMapWrap=t,this.__createViewPort()},t.prototype.__createMiniMap=function(t,e){var n=document.createElement("div"),r=this.__miniMapWrap;n.appendChild(r),"undefined"!==typeof t&&"undefined"!==typeof e&&(n.style.left=t+"px",n.style.top=e+"px"),n.style.position="absolute",n.className="lf-mini-map",this.__container.appendChild(n),this.__miniMapWrap.appendChild(this.__viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText="",n.appendChild(o);var i=document.createElement("span");i.className="lf-mini-map-close",i.addEventListener("click",this.hide),n.appendChild(i),this.__miniMapContainer=n},t.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},t.prototype.__getBounds=function(t){var e=0,n=this.__miniMapWidth,r=0,o=this.__miniMapHeight,i=t.nodes;return i&&i.length>0&&i.forEach((function(t){var i=t.x,a=t.y,u=t.width,c=void 0===u?200:u,s=t.height,l=void 0===s?200:s,f=i-c/2,p=i+c/2,d=a-l/2,h=a+l/2;e=f<e?f:e,n=p>n?p:n,r=d<r?d:r,o=h>o?h:o})),{left:e,top:r,bottom:o,right:n}},t.prototype.__resetData=function(t){var e=t.nodes,n=t.edges,r=0,o=0;return e&&e.length>0&&(e.forEach((function(t){var e=t.x,n=t.y,i=t.width,a=void 0===i?200:i,u=t.height,c=void 0===u?200:u,s=e-a/2,l=n-c/2;r=s<r?s:r,o=l<o?l:o})),(r<0||o<0)&&(this.__resetDataX=r,this.__resetDataY=o,e.forEach((function(t){t.x=t.x-r,t.y=t.y-o,t.text&&(t.text.x=t.text.x-r,t.text.y=t.text.y-o)})),n.forEach((function(t){t.startPoint&&(t.startPoint.x=t.startPoint.x-r,t.startPoint.y=t.startPoint.y-o),t.endPoint&&(t.endPoint.x=t.endPoint.x-r,t.endPoint.y=t.endPoint.y-o),t.text&&(t.text.x=t.text.x-r,t.text.y=t.text.y-o),t.pointsList&&t.pointsList.forEach((function(t){t.x=t.x-r,t.y=t.y-o}))})))),t},t.prototype.__setView=function(){var t,e,n=this.__resetData(this.__lf.getGraphRawData()),r=this.__lf.viewMap,o=this.__lf.graphModel.modelMap,i=this.__lfMap.viewMap;try{for(var a=qt(r.keys()),u=a.next();!u.done;u=a.next()){var c=u.value;i.has(c)||(this.__lfMap.setView(c,r.get(c)),this.__lfMap.graphModel.modelMap.set(c,o.get(c)))}}catch(b){t={error:b}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}this.__lfMap.render(n);var s=this.__getBounds(n),l=s.left,f=s.top,p=s.right,d=s.bottom,h=this.__width/(p-l),y=this.__height/(d-f),v=this.__miniMapWrap.firstChild.style,g=Math.min(h,y);v.transform="matrix("+g+", 0, 0, "+g+", 0, 0)",v.transformOrigin="left top",v.height=d-Math.min(f,0)+"px",v.width=p-Math.min(l,0)+"px",this.__viewPortScale=g,this.__setViewPort(g,{left:l,top:f,right:p,bottom:d})},t.prototype.__setViewPort=function(t,e){var n=e.left,r=e.right,o=(e.top,e.bottom,this.__viewport.style);o.width=this.__width-4+"px",o.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var i=this.__lf.getTransform(),a=i.TRANSLATE_X,u=i.TRANSLATE_Y,c=r-n,s=(this.__width-4)/(c/this.__lf.graphModel.width),l=this.__lf.graphModel.width/this.__lf.graphModel.height,f=s/l;this.__viewPortTop=u>0?0:-u*t,this.__viewPortLeft=a>0?0:-a*t,this.__viewPortWidth=s,this.__viewPortHeight=f,o.top=this.__viewPortTop+"px",o.left=this.__viewPortLeft+"px",o.width=s+"px",o.height=f+"px"},t.prototype.__createViewPort=function(){var t=document.createElement("div");t.className="lf-minimap-viewport",t.addEventListener("mousedown",this.__startDrag),this.__viewport=t},t.pluginName="miniMap"}(),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Jt=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Qt=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Zt(e,t),e.prototype.getEdge=function(){for(var t=this.props.model.getEdgeStyle(),e=t.strokeWidth,n=t.stroke,o=t.strokeDashArray,i=this.props.model.points,a=i.split(" ").map((function(t){return t.split(",").map((function(t){return Number(t)}))})),u=Jt(a[0],2),c=u[0],s=u[1],l="M"+c+" "+s,f=5,p=1;p<a.length-1;p++){var d=Jt(a[p-1],2),h=d[0],y=d[1],v=Jt(a[p],2),g=v[0],b=v[1],m=Jt(a[p+1],2),_=m[0],O=m[1];if(g===h&&b!==y){var w=b>y?b-f:b+f;l=l+" L "+g+" "+w}if(b===y&&g!==h){var x=g>h?g-f:g+f;l=l+" L "+x+" "+b}if(l=l+" Q "+g+" "+b,g===_&&b!==O){w=b>O?b-f:b+f;l=l+" "+g+" "+w}if(b===O&&g!==_){x=g>_?g-f:g+f;l=l+" "+x+" "+b}}var E=Jt(a[a.length-1],2),j=E[0],S=E[1];return l=l+" L "+j+" "+S,(0,r.h)("path",{d:l,strokeWidth:e,stroke:n,fill:"none",strokeDashArray:o})},e.extendKey="curvedEdge"}(r.PolylineEdge),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Zt(e,t)}(r.PolylineEdgeModel),{}),te=[],ee=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ne(t,e){for(var n in e)t[n]=e[n];return t}function re(t){var e=t.parentNode;e&&e.removeChild(t)}function oe(t,e,n){var r,o,i,a={};for(i in e)"key"==i?r=e[i]:"ref"==i?o=e[i]:a[i]=e[i];if(arguments.length>2&&(a.children=arguments.length>3?jt.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===a[i]&&(a[i]=t.defaultProps[i]);return ie(t,a,r,o,null)}function ie(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++Pt:o};return null==o&&null!=St.vnode&&St.vnode(i),i}function ae(t){return t.children}function ue(t,e){this.props=t,this.context=e}function ce(t,e){if(null==e)return t.__?ce(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?ce(t):null}function se(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return se(t)}}function le(t){(!t.__d&&(t.__d=!0)&&kt.push(t)&&!fe.__r++||Mt!==St.debounceRendering)&&((Mt=St.debounceRendering)||setTimeout)(fe)}function fe(){for(var t;fe.__r=kt.length;)t=kt.sort((function(t,e){return t.__v.__b-e.__v.__b})),kt=[],t.some((function(t){var e,n,r,o,i,a;t.__d&&(i=(o=(e=t).__v).__e,(a=e.__P)&&(n=[],(r=ne({},o)).__v=o.__v+1,_e(a,o,r,e.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?ce(o):i,o.__h),Oe(n,o),o.__e!=i&&se(o)))}))}function pe(t,e,n,r,o,i,a,u,c,s){var l,f,p,d,h,y,v,g=r&&r.__k||te,b=g.length;for(n.__k=[],l=0;l<e.length;l++)if(null!=(d=n.__k[l]=null==(d=e[l])||"boolean"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?ie(null,d,null,null,d):Array.isArray(d)?ie(ae,{children:d},null,null,null):d.__b>0?ie(d.type,d.props,d.key,null,d.__v):d)){if(d.__=n,d.__b=n.__b+1,null===(p=g[l])||p&&d.key==p.key&&d.type===p.type)g[l]=void 0;else for(f=0;f<b;f++){if((p=g[f])&&d.key==p.key&&d.type===p.type){g[f]=void 0;break}p=null}_e(t,d,p=p||Qt,o,i,a,u,c,s),h=d.__e,(f=d.ref)&&p.ref!=f&&(v||(v=[]),p.ref&&v.push(p.ref,null,d),v.push(f,d.__c||h,d)),null!=h?(null==y&&(y=h),"function"==typeof d.type&&d.__k===p.__k?d.__d=c=de(d,c,t):c=he(t,d,p,g,h,c),"function"==typeof n.type&&(n.__d=c)):c&&p.__e==c&&c.parentNode!=t&&(c=ce(p))}for(n.__e=y,l=b;l--;)null!=g[l]&&("function"==typeof n.type&&null!=g[l].__e&&g[l].__e==n.__d&&(n.__d=ce(r,l+1)),Ee(g[l],g[l]));if(v)for(l=0;l<v.length;l++)xe(v[l],v[++l],v[++l])}function de(t,e,n){for(var r,o=t.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=t,e="function"==typeof r.type?de(r,e,n):he(n,r,r,o,r.__e,e));return e}function he(t,e,n,r,o,i){var a,u,c;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==n||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),a=null;else{for(u=i,c=0;(u=u.nextSibling)&&c<r.length;c+=2)if(u==o)break t;t.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function ye(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||ge(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||ge(t,i,e[i],n[i],r)}function ve(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||ee.test(e)?n:n+"px"}function ge(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||ve(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||ve(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?me:be,i):t.removeEventListener(e,i?me:be,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function be(t){this.l[t.type+!1](St.event?St.event(t):t)}function me(t){this.l[t.type+!0](St.event?St.event(t):t)}function _e(t,e,n,r,o,i,a,u,c){var s,l,f,p,d,h,y,v,g,b,m,_,O,w=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(c=n.__h,u=e.__e=n.__e,e.__h=null,i=[u]),(s=St.__b)&&s(e);try{t:if("function"==typeof w){if(v=e.props,g=(s=w.contextType)&&r[s.__c],b=s?g?g.props.value:s.__:r,n.__c?y=(l=e.__c=n.__c).__=l.__E:("prototype"in w&&w.prototype.render?e.__c=l=new w(v,b):(e.__c=l=new ue(v,b),l.constructor=w,l.render=je),g&&g.sub(l),l.props=v,l.state||(l.state={}),l.context=b,l.__n=r,f=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=w.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=ne({},l.__s)),ne(l.__s,w.getDerivedStateFromProps(v,l.__s))),p=l.props,d=l.state,f)null==w.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==w.getDerivedStateFromProps&&v!==p&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(v,b),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(v,l.__s,b)||e.__v===n.__v){l.props=v,l.state=l.__s,e.__v!==n.__v&&(l.__d=!1),l.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),l.__h.length&&a.push(l);break t}null!=l.componentWillUpdate&&l.componentWillUpdate(v,l.__s,b),null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(p,d,h)}))}if(l.context=b,l.props=v,l.__v=e,l.__P=t,m=St.__r,_=0,"prototype"in w&&w.prototype.render)l.state=l.__s,l.__d=!1,m&&m(e),s=l.render(l.props,l.state,l.context);else do{l.__d=!1,m&&m(e),s=l.render(l.props,l.state,l.context),l.state=l.__s}while(l.__d&&++_<25);l.state=l.__s,null!=l.getChildContext&&(r=ne(ne({},r),l.getChildContext())),f||null==l.getSnapshotBeforeUpdate||(h=l.getSnapshotBeforeUpdate(p,d)),O=null!=s&&s.type===ae&&null==s.key?s.props.children:s,pe(t,Array.isArray(O)?O:[O],e,n,r,o,i,a,u,c),l.base=e.__e,e.__h=null,l.__h.length&&a.push(l),y&&(l.__E=l.__=null),l.__e=!1}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=we(n.__e,e,n,r,o,i,a,c);(s=St.diffed)&&s(e)}catch(t){e.__v=null,(c||null!=i)&&(e.__e=u,e.__h=!!c,i[i.indexOf(u)]=null),St.__e(t,e,n)}}function Oe(t,e){St.__c&&St.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){St.__e(t,e.__v)}}))}function we(t,e,n,r,o,i,a,u){var c,s,l,f=n.props,p=e.props,d=e.type,h=0;if("svg"===d&&(o=!0),null!=i)for(;h<i.length;h++)if((c=i[h])&&"setAttribute"in c==!!d&&(d?c.localName===d:3===c.nodeType)){t=c,i[h]=null;break}if(null==t){if(null===d)return document.createTextNode(p);t=o?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),i=null,u=!1}if(null===d)f===p||u&&t.data===p||(t.data=p);else{if(i=i&&jt.call(t.childNodes),s=(f=n.props||Qt).dangerouslySetInnerHTML,l=p.dangerouslySetInnerHTML,!u){if(null!=i)for(f={},h=0;h<t.attributes.length;h++)f[t.attributes[h].name]=t.attributes[h].value;(l||s)&&(l&&(s&&l.__html==s.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(ye(t,p,f,o,u),l)e.__k=[];else if(h=e.props.children,pe(t,Array.isArray(h)?h:[h],e,n,r,o&&"foreignObject"!==d,i,a,i?i[0]:n.__k&&ce(n,0),u),null!=i)for(h=i.length;h--;)null!=i[h]&&re(i[h]);u||("value"in p&&void 0!==(h=p.value)&&(h!==t.value||"progress"===d&&!h||"option"===d&&h!==f.value)&&ge(t,"value",h,f.value,!1),"checked"in p&&void 0!==(h=p.checked)&&h!==t.checked&&ge(t,"checked",h,f.checked,!1))}return t}function xe(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){St.__e(t,n)}}function Ee(t,e,n){var r,o;if(St.unmount&&St.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||xe(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){St.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&Ee(r[o],e,"function"!=typeof t.type);n||null==t.__e||re(t.__e),t.__e=t.__d=void 0}function je(t,e,n){return this.constructor(t,n)}jt=te.slice,St={__e:function(t,e,n,r){for(var o,i,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(t)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,r||{}),a=o.__d),a)return o.__E=o}catch(e){t=e}throw t}},Pt=0,ue.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ne({},this.state),"function"==typeof t&&(t=t(ne({},n),this.props)),t&&ne(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),le(this))},ue.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),le(this))},ue.prototype.render=ae,kt=[],fe.__r=0;var Se,Pe=function(){return Pe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Pe.apply(this,arguments)};function ke(t){var e=t.x,n=t.y,o=t.width,i=t.height,a=t.radius,u=t.className,c=e-o/2,s=n-i/2,l=Pe(Pe({width:10,height:10,cx:0,cy:0,rx:a||0,ry:a||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+u},t),{x:c,y:s});return(0,r.h)("rect",Pe({},l))}function Me(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2}}function Ae(t){var e=Me(t),n=t.radius,r=e.minX,o=e.minY,i=e.maxX,a=e.maxY;return[{x:r+n,y:o+n},{x:i-n,y:o+n},{x:i-n,y:a-n},{x:r+n,y:a-n}]}function Ne(t){var e=t.point,n=t.beforeNode,r=t.afterNode,o=e.x,i=e.y,a={x:o,y:i},u=n.radius,c=Me(n),s=Me(r);if(o===c.minX){a.x=s.minX;var l=(i-n.y)/(n.height/2-u);a.y=l?r.y+(r.height/2-u)*l:r.y}else if(o===c.maxX){a.x=s.maxX;l=(i-n.y)/(n.height/2-u);a.y=l?r.y+(r.height/2-u)*l:r.y}else if(i===c.minY){a.y=s.minY;l=(o-n.x)/(n.width/2-u);a.x=l?r.x+(r.width/2-u)*l:r.x}else if(i===c.maxY){a.y=s.maxY;l=(o-n.x)/(n.width/2-u);a.x=l?r.x+(r.width/2-u)*l:r.x}else{var f=Ae(n),p=Ae(r),d=Me(n),h=d.minX,y=d.minY,v=d.maxX,g=d.maxY,b=-1;if(o-h<u&&i-y<u?b=0:v-o<u&&i-y<u?b=1:v-o<u&&g-i<u?b=2:o-h<u&&y-i<u&&(b=3),b>-1){var m=Math.atan2(i-f[b].y,o-f[b].x);a.x=p[b].x+u*Math.cos(m),a.y=p[b].y+u*Math.sin(m)}}return a}function De(t){var e,n,r=t.point,o=t.beforeNode,i=t.afterNode,a=i.rx,u=i.ry,c=r,s=(r.y-o.y)/(r.x-o.x),l=a,f=u;return s>=1/0?(e=0,n=f):s<=-1/0?(e=0,n=-f):r.x-o.x>0?(e=l*f/Math.sqrt(f*f+l*l*s*s),n=l*f*s/Math.sqrt(f*f+l*l*s*s)):(e=-l*f/Math.sqrt(f*f+l*l*s*s),n=-l*f*s/Math.sqrt(f*f+l*l*s*s)),c={x:e+i.x,y:n+i.y},c}function Te(t){var e,n,r=t.point,o=t.beforeNode,i=t.afterNode,a=r,u=r.x-o.x,c=r.y-o.y,s=o.rx,l=o.ry,f=Math.sqrt((s-Math.abs(u))*(s-Math.abs(u))+c*c)/Math.sqrt(s*s+l*l),p=i.rx,d=i.ry,h=Math.sqrt((p*p+d*d)*f*f*(p*p/(p*p+d*d))),y=h*(d/p);return e=u>=0?p-h:h-p,n=c>0?y:-y,a={x:e+i.x,y:n+i.y},a}ke.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},function(t){t["NODE"]="node",t["CIRCLE_NODE"]="circle-node",t["POLYGON_NODE"]="polygon-node",t["RECT_NODE"]="rect-node",t["HTML_NODE"]="html-node",t["TEXT_NODE"]="text-node",t["ELLIPSE_NODE"]="ellipse-node",t["DIAMOND_NODE"]="diamond-node",t["EDGE"]="edge",t["LINE_EDGE"]="line-edge",t["POLYLINE_EDGE"]="polyline-edge",t["BEZIER_EDGE"]="bezier-edge",t["GRAPH"]="graph"}(Se||(Se={}));var Ce=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Re=function(){return Re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Re.apply(this,arguments)},Ie=r.LogicFlowUtil.StepDrag,Le=function(t){function e(e){var n=t.call(this)||this;n.updatePosition=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.x,a=o.y;n.nodeModel.x=i+e/2,n.nodeModel.y=a+r/2,n.nodeModel.moveText(e/2,r/2)},n.getResize=function(t){var e=t.index,n=t.deltaX,r=t.deltaY,o=t.width,i=t.height,a=t.pct,u=void 0===a?1:a,c={width:o,height:i};switch(e){case 0:c.width=o-n*u,c.height=i-r*u;break;case 1:c.width=o+n*u,c.height=i-r*u;break;case 2:c.width=o+n,c.height=i+r*u;break;case 3:c.width=o-n*u,c.height=i+r*u;break;default:break}return c},n.updateRect=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.id,a=o.x,u=o.y,c=o.width,s=o.height,l=o.radius,f=n.index,p=n.getResize({index:f,deltaX:e,deltaY:r,width:c,height:s,pct:1}),d=n.nodeModel,h=d.minWidth,y=d.minHeight,v=d.maxWidth,g=d.maxHeight;if(p.width<h||p.width>v||p.height<y||p.height>g)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:e,deltaY:r}),n.nodeModel.width=p.width,n.nodeModel.height=p.height,n.nodeModel.setProperties({nodeSize:{width:p.width,height:p.height}});var b,m=n.getNodeEdges(i),_={x:a,y:u,width:c,height:s,radius:l},O={x:n.nodeModel.x,y:n.nodeModel.y,width:n.nodeModel.width,height:n.nodeModel.height,radius:l},w={point:"",beforeNode:_,afterNode:O};m.sourceEdges.forEach((function(t){w.point=t.startPoint,b=Ne(w),t.updateStartPoint(b)})),m.targetEdges.forEach((function(t){w.point=t.endPoint,b=Ne(w),t.updateEndPoint(b)})),n.eventEmit({beforeNode:_,afterNode:O})}},n.updateEllipse=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.id,a=o.rx,u=o.ry,c=o.x,s=o.y,l=n.index,f=a,p=u,d=n.getResize({index:l,deltaX:e,deltaY:r,width:f,height:p,pct:.5}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,g=h.maxWidth,b=h.maxHeight;if(d.width<y/2||d.width>g/2||d.height<v/2||d.height>b/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:e,deltaY:r}),n.nodeModel.rx=n.nodeModel.rx+e/2,n.nodeModel.ry=n.nodeModel.ry+r/2,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,_=n.getNodeEdges(i),O={x:c,y:s},w={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y},x={point:{},beforeNode:O,afterNode:w};_.sourceEdges.forEach((function(t){x.point=t.startPoint,m=De(x),t.updateStartPoint(m)})),_.targetEdges.forEach((function(t){x.point=t.endPoint,m=De(x),t.updateEndPoint(m)})),n.eventEmit({beforeNode:Re(Re({},O),{rx:a,ry:u}),afterNode:w})}},n.updateDiamond=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.id,a=o.rx,u=o.ry,c=o.x,s=o.y,l=n.index,f=a,p=u,d=n.getResize({index:l,deltaX:e,deltaY:r,width:f,height:p,pct:.5}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,g=h.maxWidth,b=h.maxHeight;if(d.width<y/2||d.width>g/2||d.height<v/2||d.height>b/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:e,deltaY:r}),n.nodeModel.rx=n.nodeModel.rx+e/2,n.nodeModel.ry=n.nodeModel.ry+r/2,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,_={x:c,y:s,rx:a,ry:u},O={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y},w={point:{},beforeNode:_,afterNode:O},x=n.getNodeEdges(i);x.sourceEdges.forEach((function(t){w.point=t.startPoint,m=Te(w),t.updateStartPoint(m)})),x.targetEdges.forEach((function(t){w.point=t.endPoint,m=Te(w),t.updateEndPoint(m)})),n.eventEmit({beforeNode:_,afterNode:O})}},n.eventEmit=function(t){var e=t.beforeNode,r=t.afterNode,o=n.nodeModel,i=o.id,a=o.modelType,u=o.type,c=Re({id:i,modelType:a,type:u},e),s=Re({id:i,modelType:a,type:u},r);n.graphModel.eventCenter.emit("node:resize",{oldNodeSize:c,newNodeSize:s})},n.onDraging=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel.modelType;o===Se.RECT_NODE||o===Se.HTML_NODE?n.updateRect({deltaX:e,deltaY:r}):o===Se.ELLIPSE_NODE?n.updateEllipse({deltaX:e,deltaY:r}):o===Se.DIAMOND_NODE&&n.updateDiamond({deltaX:e,deltaY:r})},n.index=e.index,n.nodeModel=e.model,n.graphModel=e.graphModel;var r=n.graphModel.gridSize,o=2;return r>1&&(o=2*r),n.nodeModel.gridSize&&(o=2*n.nodeModel.gridSize),n.state={},n.dragHandler=new Ie({onDraging:n.onDraging,step:o}),n}return Ce(e,t),e.prototype.getNodeEdges=function(t){for(var e=this.graphModel,n=e.edges,r=[],o=[],i=0;i<n.length;i++){var a=n[i];a.sourceNodeId===t?r.push(a):n[i].targetNodeId===t&&o.push(a)}return{sourceEdges:r,targetEdges:o}},e.prototype.render=function(){var t=this.props,e=t.x,n=t.y,r=t.index,o=t.model,i=o.getControlPointStyle();return oe("g",{className:"lf-resize-control-"+r},oe(ke,Re({className:"lf-node-control"},{x:e,y:n},i,{onMouseDown:this.dragHandler.handleMouseDown})))},e}(ue),ze=Le,Be=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),He=function(){return He=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},He.apply(this,arguments)},Fe=function(t){function e(){var e=t.call(this)||this;return e.state={},e}return Be(e,t),e.prototype.getResizeControl=function(){var t=this.props,e=t.model,n=t.graphModel,r=e.x,o=e.y,i=e.width,a=e.height,u={minX:r-i/2,minY:o-a/2,maxX:r+i/2,maxY:o+a/2},c=u.minX,s=u.minY,l=u.maxX,f=u.maxY,p=[{x:c,y:s},{x:l,y:s},{x:l,y:f},{x:c,y:f}];return p.map((function(t,r){return oe(ze,He({index:r},t,{model:e,graphModel:n}))}))},e.prototype.getGroupSolid=function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.getResizeOutlineStyle();return oe(ke,He({fill:"none"},i,{x:e,y:n,width:r,height:o}))},e.prototype.render=function(){return oe("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},e}(ue),Ge=Fe,Xe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(t){function e(e,n){var r=t.call(this,e,n)||this,o=r.properties.nodeSize;return o&&(r.width=o.width,r.height=o.height),r}return Xe(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this);return e.stroke="none",e.hover&&(e.hover.stroke="none"),e},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.resize=function(t,e){},e}(r.RectNodeModel),Ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xe(e,t),e.prototype.getControlGroup=function(){var t=this.props,e=t.model,n=t.graphModel;return(0,r.h)(Ge,{model:e,graphModel:n})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var t=this.props.model.isSelected;return(0,r.h)("g",null,this.getResizeShape(),t?this.getControlGroup():"")},e}(r.RectNode),Ve={type:"rect",view:Ue,model:Ye},We=Ve,Ke=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$e=(function(t){function e(e,n){var r=t.call(this,e,n)||this,o=r.properties.nodeSize;return o&&(r.rx=o.rx,r.ry=o.ry),r}Ke(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this);return e.stroke="none",e.hover&&(e.hover.stroke="none"),e},e.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}}}(r.EllipseNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Ke(e,t),e.prototype.getControlGroup=function(){var t=this.props,e=t.model,n=t.graphModel;return(0,r.h)(Ge,{model:e,graphModel:n})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var t=this.props.model;return(0,r.h)("g",null,this.getResizeShape(),t.isSelected?this.getControlGroup():"")}}(r.EllipseNode),function(){return $e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},$e.apply(this,arguments)});function qe(t){var e=t.fillOpacity,n=void 0===e?1:e,o=t.strokeWidth,i=void 0===o?1:o,a=t.strokeOpacity,u=void 0===a?1:a,c=t.fill,s=void 0===c?"transparent":c,l=t.stroke,f=void 0===l?"#000":l,p=t.points,d=t.className,h=void 0===d?"lf-basic-shape":d,y={fill:s,fillOpacity:n,strokeWidth:i,stroke:f,strokeOpacity:u,points:"",className:h};return y.points=p.map((function(t){return t.join(",")})).join(" "),(0,r.h)("polygon",$e({},y))}var Ze=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Je=function(){return Je=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Je.apply(this,arguments)},Qe=(function(t){function e(e,n){var r=t.call(this,e,n)||this,o=r.properties.nodeSize;return o&&(r.rx=o.rx,r.ry=o.ry),r}Ze(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this);return e.stroke="none",e.hover&&(e.hover.stroke="none"),e},e.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}}}(r.DiamondNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Ze(e,t),e.prototype.getControlGroup=function(){var t=this.props,e=t.model,n=t.graphModel;return(0,r.h)(Ge,{model:e,graphModel:n})},e.prototype.getResizeShape=function(){var t=this.props.model,e=t.points,n=t.getNodeStyle();return(0,r.h)("g",null,(0,r.h)(qe,Je({},n,{points:e})))},e.prototype.getShape=function(){var t=this.props.model.isSelected;return(0,r.h)("g",null,this.getResizeShape(),t?this.getControlGroup():"")}}(r.DiamondNode),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),tn=(function(t){function e(e,n){var r=t.call(this,e,n)||this,o=r.properties.nodeSize;return o&&(r.width=o.width,r.height=o.height),r}Qe(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this);return e.stroke="none",e.hover&&(e.hover.stroke="none"),e},e.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}}}(r.HtmlNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Qe(e,t),e.prototype.getControlGroup=function(){var t=this.props,e=t.model,n=t.graphModel;return(0,r.h)(Ge,{model:e,graphModel:n})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var t=this.props.model.isSelected;return(0,r.h)("g",null,this.getResizeShape(),t?this.getControlGroup():"")}}(r.HtmlNode),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),en=function(){return en=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},en.apply(this,arguments)},nn=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},rn=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nn(arguments[e]));return t},on=500,an=300,un=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isGroup=!0,e.unfoldedWidth=on,e.unfoldedHight=an,e}return tn(e,t),e.prototype.initNodeData=function(e){var n=this;t.prototype.initNodeData.call(this,e);var r=[];Array.isArray(e.children)&&(r=e.children),this.children=new Set(r),this.width=on,this.height=an,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,void 0===this.properties.isFolded&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout((function(){n.isFolded&&n.foldGroup(n.isFolded)}))},e.prototype.getResizeOutlineStyle=function(){var e=t.prototype.getResizeOutlineStyle.call(this);return e.stroke="none",e},e.prototype.foldGroup=function(t){var e=this;this.setProperty("isFolded",t),this.isFolded=t,t?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var n=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach((function(r){var o=e.graphModel.getElement(r);o.visible=!t,n=n.concat(o.incoming.edges.concat(o.outgoing.edges))})),this.foldEdge(t,n)},e.prototype.getAnchorStyle=function(e){var n=t.prototype.getAnchorStyle.call(this,e);return n.stroke="transparent",n.fill="transparent",n.hover.fill="transparent",n.hover.stroke="transparent",n},e.prototype.foldEdge=function(t,e){var n=this;e.forEach((function(e,r){var o=e.id,i=e.sourceNodeId,a=e.targetNodeId,u=e.startPoint,c=e.endPoint,s=e.type,l=e.properties,f=e.text,p={id:o+"__"+r,sourceNodeId:i,targetNodeId:a,startPoint:u,endPoint:c,type:s,properties:l,text:null===f||void 0===f?void 0:f.value};e.virtual&&n.graphModel.deleteEdgeById(e.id);var d=n.graphModel.group.getNodeGroup(a);d||(d=n.graphModel.getNodeModelById(a));var h=n.graphModel.group.getNodeGroup(i);h||(h=n.graphModel.getNodeModelById(i)),t&&!1!==e.visible&&(n.children.has(i)||n.id===i?(p.startPoint=void 0,p.sourceNodeId=n.id):(p.endPoint=void 0,p.targetNodeId=n.id),d.id===n.id&&h.id===n.id||n.createVirtualEdge(p),e.visible=!1),t||!1!==e.visible||(d&&d.isGroup&&d.isFolded?(p.targetNodeId=d.id,p.endPoint=void 0,n.createVirtualEdge(p)):h&&h.isGroup&&h.isFolded?(p.sourceNodeId=h.id,p.startPoint=void 0,n.createVirtualEdge(p)):e.visible=!0)}))},e.prototype.createVirtualEdge=function(t){t.pointsList=void 0;var e=this.graphModel.addEdge(t);e.virtual=!0,e.text.editable=!1,e.isFoldedEdge=!0},e.prototype.isInRange=function(t){var e=t.x1,n=t.y1,r=t.x2,o=t.y2;return e>=this.x-this.width/2&&r<=this.x+this.width/2&&n>=this.y-this.height/2&&o<=this.y+this.height/2},e.prototype.isAllowMoveTo=function(t){var e=t.x1,n=t.y1,r=t.x2,o=t.y2;return{x:e>=this.x-this.width/2&&r<=this.x+this.width/2,y:n>=this.y-this.height/2&&o<=this.y+this.height/2}},e.prototype.setAllowAppendChild=function(t){this.setProperty("groupAddable",t)},e.prototype.addChild=function(t){this.children.add(t)},e.prototype.removeChild=function(t){this.children.delete(t)},e.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},e.prototype.getData=function(){var e=t.prototype.getData.call(this);e.children=rn(this.children);var n=e.properties;return delete n.groupAddable,delete n.isFolded,e},e.prototype.getHistoryData=function(){var e=t.prototype.getData.call(this);e.children=rn(this.children);var n=e.properties;return delete n.groupAddable,n.isFolded&&(e.x=e.x+this.unfoldedWidth/2-this.foldedWidth/2,e.y=e.y+this.unfoldedHight/2-this.foldedHeight/2),e},e.prototype.isAllowAppendIn=function(t){return!0},e}(We.model),cn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tn(e,t),e.prototype.getControlGroup=function(){var e=this.props.model,n=e.resizable,r=e.properties;return n&&!r.isFolded?t.prototype.getControlGroup.call(this):null},e.prototype.getAddedableShape=function(){var t=this.props.model,e=t.width,n=t.height,o=t.x,i=t.y,a=t.radius,u=t.properties;if(!u.groupAddable)return null;var c=this.props.model.getNodeStyle().strokeWidth,s=this.props.model.getAddableOutlineStyle(),l=e+c+8,f=n+c+8;return(0,r.h)("rect",en(en({},s),{width:l,height:f,x:o-l/2,y:i-f/2,rx:a,ry:a}))},e.prototype.getFoldIcon=function(){var t=this.props.model,e=t.x-t.width/2+5,n=t.y-t.height/2+5;if(!t.foldable)return null;var o=(0,r.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:t.properties.isFolded?"M "+(e+3)+","+(n+6)+" "+(e+11)+","+(n+6)+" M"+(e+7)+","+(n+2)+" "+(e+7)+","+(n+10):"M "+(e+3)+","+(n+6)+" "+(e+11)+","+(n+6)+" "});return(0,r.h)("g",{},[(0,r.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:t.x-t.width/2+5,y:t.y-t.height/2+5,onClick:function(){t.foldGroup(!t.properties.isFolded)}}),o])},e.prototype.getResizeShape=function(){return(0,r.h)("g",{},[this.getAddedableShape(),t.prototype.getResizeShape.call(this),this.getFoldIcon()])},e}(We.view),sn={type:"group",view:cn,model:un},ln=(function(){function t(t){var e=this,n=t.lf;this.nodeGroupMap=new Map,this.graphRendered=function(t){t&&t.nodes&&t.nodes.forEach((function(t){t.children&&t.children.forEach((function(n){e.nodeGroupMap.set(n,t.id)}))}))},this.appendNodeToGroup=function(t){var n=t.data,r=e.nodeGroupMap.get(n.id);if(r){var o=e.lf.getNodeModelById(r);o.removeChild(n.id),e.nodeGroupMap.delete(n.id),o.setAllowAppendChild(!1)}var i=e.lf.getNodeModelById(n.id).getBounds(),a=e.getGroup(i);if(a){var u=a.isAllowAppendIn(n);u?n.id!==a.id?(a.addChild(n.id),e.nodeGroupMap.set(n.id,a.id),a.setAllowAppendChild(!1)):n.children&&n.children.length>0&&n.children.forEach((function(t){e.nodeGroupMap.set(t,n.id)})):e.lf.emit("group:not-allowed",{group:a.getData(),node:n})}},this.deleteGroupChild=function(t){var n=t.data,r=e.nodeGroupMap.get(n.id);if(r){var o=e.lf.getNodeModelById(r);o.removeChild(n.id),e.nodeGroupMap.delete(n.id)}},this.setActiveGroup=function(t){var n=t.data,r=e.lf.getNodeModelById(n.id),o=r.getBounds(),i=e.getGroup(o);if(e.activeGroup&&e.activeGroup.setAllowAppendChild(!1),(!r.isGroup||i.id!==n.id)&&i){var a=i.isAllowAppendIn(n);if(!a)return;e.activeGroup=i,e.activeGroup.setAllowAppendChild(!0)}},n.register(sn),this.lf=n,n.graphModel.addNodeMoveRules((function(t,r,o){if(t.isGroup){var i=e.getNodeAllChild(t);return n.graphModel.moveNodes(i,r,o,!0),!0}var a=n.getNodeModelById(e.nodeGroupMap.get(t.id));if(a&&a.isRestrict){var u=t.getBounds(),c=u.x1,s=u.y1,l=u.x2,f=u.y2,p=a.isAllowMoveTo({x1:c+r,y1:s+o,x2:l+r,y2:f+o});return p}return!0})),n.graphModel.group=this,n.on("node:add",this.appendNodeToGroup),n.on("node:delete",this.deleteGroupChild),n.on("node:drop",this.appendNodeToGroup),n.on("node:dnd-drag",this.setActiveGroup),n.on("node:drag",this.setActiveGroup),n.on("graph:rendered",this.graphRendered)}t.prototype.getNodeAllChild=function(t){var e=this,n=[];return t.children&&t.children.forEach((function(t){n.push(t);var r=e.lf.getNodeModelById(t);r.isGroup&&(n=n.concat(e.getNodeAllChild(r)))})),n},t.prototype.getGroup=function(t){for(var e=this.lf.graphModel.nodes,n=0;n<e.length;n++){var r=e[n];if(r.isGroup&&r.isInRange(t))return r}},t.prototype.getNodeGroup=function(t){var e=this.nodeGroupMap.get(t);if(e)return this.lf.getNodeModelById(e)},t.pluginName="group"}(),function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}),fn=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ln(arguments[e]));return t},pn=(function(){function t(t){var e=this,n=t.lf;this.lf=n,this.pathes=[],n.getPathes=function(){if(!e.startNodeType)throw new Error("");return e.getPathes()},n.setRawPathes=function(t){e.setPathes(t)},n.getRawPathes=function(){return e.pathes},n.setStartNodeType=function(t){e.startNodeType=t}}t.prototype.setPathes=function(t){this.pathes=t.map((function(t){var e=t.routeId,n=t.name,r=t.elements,o=t.type;return{routeId:e,name:n,elements:r,type:o,similarElement:null,weight:0}}))},t.prototype.getPathes=function(){var t=this,e=this.lf.getGraphRawData(),n=new Map,r=[];e.nodes.forEach((function(e){n.set(e.id,{id:e.id,data:e,nextNodes:[]}),e.type===t.startNodeType&&r.push(e.id)})),e.edges.forEach((function(t){var e=n.get(t.sourceNodeId);e.nextNodes.push(t.targetNodeId)}));var o=[];return r.forEach((function(e){o=o.concat(t.findPathElements(n.get(e),n,[]))})),this.getNewPathes(o)},t.prototype.findPathElements=function(t,e,n){void 0===n&&(n=[]);var r=fn(n);if(r.push(t.id),0===t.nextNodes.length)return[r];for(var o=[],i=0;i<t.nextNodes.length;i++){var a=e.get(t.nextNodes[i]),u=void 0,c=r.indexOf(a.id);u=-1!==c?[fn(r.slice(c),[a.id])]:this.findPathElements(a,e,fn(r)),o=o.concat(u)}return o},t.prototype.getNewPathes=function(t){var e=this,n=[],r=new Set;t.forEach((function(t){var o=e.getNewId("path"),i=e.getNewId(""),a=e.isLoopPath(t),u=t.join(",");r.has(u)||(r.add(u),n.push({routeId:o,name:i,elements:t,type:a,weight:0,similarElement:""}))}));var o=JSON.parse(JSON.stringify(this.pathes));return n.forEach((function(t){for(var n=0;n<o.length;n++){var r=o[n],i=e.similar2Path(fn(t.elements),fn(r.elements));i>t.weight&&r.weight<=i&&(t.weight=i,t.similarElement=r,i===r.weight&&r.similarElement?(r.similarElement.similarElement=null,r.similarElement.weight=0,r.similarElement=null,r.weight=0):(r.similarElement=t,r.weight=i))}})),n.forEach((function(t){t.similarElement&&t.similarElement.similarElement===t&&(t.routeId=t.similarElement.routeId,t.name=t.similarElement.name),delete t.similarElement,delete t.weight})),this.setPathes(n),n},t.prototype.similar2Path=function(t,e){var n=0,r=t.length+e.length;t.sort(),e.sort();var o=t.shift(),i=e.shift();while(void 0!==o&&void 0!==i)o===i?(n++,o=t.shift(),i=e.shift()):o<i?o=t.shift():o>i&&(i=e.shift());return n/r*200},t.prototype.getNewId=function(t){return t+"_"+s()},t.prototype.isLoopPath=function(t){var e=t.length;return t.indexOf(t[e-1])!==e-1?1:0},t.pluginName="flowPath"}(),function(){return pn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},pn.apply(this,arguments)}),dn={LEFT_TOP:-1,LEFT:0,LEFT_BOTTOM:1},hn=(function(){function t(t){var e=this,n=t.lf;this.lf=n,this.trunk=[],n.layout=function(t){var n=e.lf.getGraphRawData();e.lf.setStartNodeType(t);var r=e.lf.getPathes();return e.levelHeight=[],e.newNodeMap=new Map,e.layout(n,r)}}t.prototype.layout=function(t,e){var n=this,r=[];e.forEach((function(t){var e=t.elements;e.length>r.length?r=e:e.length===r.length&&JSON.stringify(e)===JSON.stringify(n.trunk)&&(r=n.trunk)})),this.trunk=r;for(var o=this.formatData(t),i={nodes:[],edges:[]},a=r.length-1;a>=0;a--)this.setNodePosition(r[a],o,i,a,1);this.lf.graphModel.graphDataToModel(i)},t.prototype.setNodePosition=function(t,e,n,r,o){var i=this,a=e[t],u=a.text,c=a.type,s=a.next,l=a.properties,f=160*r+40,p=120*o,d={id:t,x:f,text:u,y:p,type:c,properties:l};return u&&"object"===typeof u&&(d.text=pn(pn({},u),{x:f+u.x,y:p+u.y})),this.newNodeMap.set(d.id,{x:d.x,y:d.y,type:c}),n.nodes.push(d),a.isFixed=!0,this.addLevelHeight(r,1),s&&s.length>0&&s.forEach((function(o){var a=e[o.nodeId];if(!a.isFixed){var u=i.getLevelHeight(r+1);i.addLevelHeight(r,1),i.setNodePosition(o.nodeId,e,n,r+1,u+1)}n.edges.push(pn({id:o.edgeId,type:o.edgeType,sourceNodeId:t,targetNodeId:o.nodeId,properties:o.properties,text:o.text},i.getEdgeDataPoints(t,o.nodeId)))})),d},t.prototype.getEdgeDataPoints=function(t,e){var n=this.newNodeMap.get(t),r=this.newNodeMap.get(e),o=this.getShape(t),i=o.width,a=o.height,u=this.getShape(e),c=u.width,s=u.height,l=this.getRelativePosition(n,r),f={x:n.x,y:n.y},p={x:r.x,y:r.y};switch(l){case dn.LEFT:f.x=n.x+i/2,p.x=r.x-c/2;break;case dn.LEFT_TOP:f.y=n.y+a/2,p.x=r.x-c/2;break;case dn.LEFT_BOTTOM:f.x=n.x+i/2,p.y=r.y+s/2;break;default:break}return{startPoint:f,endPoint:p}},t.prototype.getRelativePosition=function(t,e){var n,r=t.y,o=e.y;return n=r<o?-1:r===o?0:1,n},t.prototype.getShape=function(t){var e=this.lf.getNodeModelById(t);return{height:e.height,width:e.width}},t.prototype.formatData=function(t){var e=t.nodes.reduce((function(t,e){var n=e.type,r=e.properties,o=e.text,i=e.x,a=e.y;return o&&"object"===typeof o&&(o.x=o.x-i,o.y=o.y-a),t[e.id]={type:n,properties:r,text:o,prev:[],next:[]},t}),{});return t.edges.forEach((function(t){var n=t.sourceNodeId,r=t.targetNodeId,o=t.id,i=t.properties,a=t.text,u=a;"object"===typeof a&&(u=a.value),e[n].next.push({edgeId:o,nodeId:r,edgeType:t.type,properties:i,text:u}),e[r].prev.push({edgeId:o,nodeId:n,properties:i,text:u})})),e},t.prototype.addLevelHeight=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);var r=this.levelHeight[t];r||(r={positiveHeight:0,negativeHeight:0},this.levelHeight[t]=r),n?r.negativeHeight-=e:r.positiveHeight+=e},t.prototype.getLevelHeight=function(t,e){void 0===e&&(e=!1);var n=this.levelHeight[t];return n?e?n.negativeHeight:n.positiveHeight:0},t.pluginName="AutoLayout"}(),function(){return hn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},hn.apply(this,arguments)}),yn=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},vn=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yn(arguments[e]));return t},gn=function(t,e){var n=e.getModelById(t);return bn("node"===n.BaseType?n:n.targetNode,e)},bn=function(t,e){var n=[],r=[],o=function(t,r,i){void 0===i&&(i=null),i&&r.unshift.apply(r,vn(e.getEdgeModels({sourceNodeId:t.id,targetNodeId:i.id}).map((function(t){return t.id})))),r.includes(t.id)?n.push(r):(r.unshift(t.id),t.incoming.nodes.length?t.incoming.nodes.forEach((function(e){o(e,r.slice(),t)})):n.push(r))},i=function(t,n,o){void 0===o&&(o=null),o&&n.push.apply(n,vn(e.getEdgeModels({sourceNodeId:o.id,targetNodeId:t.id}).map((function(t){return t.id})))),n.includes(t.id)?r.push(n):(n.push(t.id),t.outgoing.nodes.length?t.outgoing.nodes.forEach((function(e){i(e,n.slice(),t)})):r.push(n))};return o(t,[]),i(t,[]),vn(new Set(vn(n.flat(),r.flat())))};(function(){function t(t){var e=t.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=e}t.prototype.setMode=function(t){this.mode=t},t.prototype.setManual=function(t){this.manual=t},t.prototype.highlightSingle=function(t){var e=this.lf.getModelById(t);"node"===e.BaseType?e.updateStyles(this.tempStyles[t]):"edge"===e.BaseType&&(e.updateStyles(this.tempStyles[t]),e.sourceNode.updateStyles(this.tempStyles[e.sourceNode.id]),e.targetNode.updateStyles(this.tempStyles[e.targetNode.id]))},t.prototype.highlightPath=function(t){var e=this,n=gn(t,this.lf);n.forEach((function(t){e.lf.getModelById(t).updateStyles(e.tempStyles[t])}))},t.prototype.highlight=function(t,e){var n=this;if(void 0===e&&(e=this.mode),!this.manual){Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach((function(t){var e="node"===t.BaseType?t.getNodeStyle():t.getEdgeStyle();n.tempStyles[t.id]=hn({},e),t.setStyles({opacity:.1})}));var r={single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)};r[e](t)}},t.prototype.restoreHighlight=function(){var t=this;Object.keys(this.tempStyles).length&&(Object.values(this.lf.graphModel.modelsMap).forEach((function(e){var n,r=null!==(n=t.tempStyles[e.id])&&void 0!==n?n:{};e.updateStyles(hn({},r))})),this.tempStyles={})},t.prototype.render=function(t,e){var n=this;this.lf.on("node:mouseenter",(function(t){var e=t.data;return n.highlight(e.id)})),this.lf.on("edge:mouseenter",(function(t){var e=t.data;return n.highlight(e.id)})),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},t.prototype.destroy=function(){},t.pluginName="highlight"})()}}]);